/*! For license information please see main.05b16e2e.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},513:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=n(791)},function(e,t){e.exports=n(694)},function(e,t){e.exports=n(7)},function(e,t){e.exports={sidenav:"sidenav---sidenav---_2tBP",collapsed:"sidenav---collapsed---LQDEv","sidenav-nav":"sidenav---sidenav-nav---3tvij",sidenavNav:"sidenav---sidenav-nav---3tvij","sidenav-navitem":"sidenav---sidenav-navitem---uwIJ-",sidenavNavitem:"sidenav---sidenav-navitem---uwIJ-","sidenav-subnav":"sidenav---sidenav-subnav---1EN61",sidenavSubnav:"sidenav---sidenav-subnav---1EN61",expanded:"sidenav---expanded---1KdUL",navicon:"sidenav---navicon---3gCRo",navtext:"sidenav---navtext---1AE_f",expandable:"sidenav---expandable---3_dr7",navitem:"sidenav---navitem---9uL5T","sidenav-subnavitem":"sidenav---sidenav-subnavitem---1cD47",sidenavSubnavitem:"sidenav---sidenav-subnavitem---1cD47",selected:"sidenav---selected---1EK3y","sidenav-toggle":"sidenav---sidenav-toggle---1KRjR",sidenavToggle:"sidenav---sidenav-toggle---1KRjR","icon-bar":"sidenav---icon-bar---u1f02",iconBar:"sidenav---icon-bar---u1f02",highlighted:"sidenav---highlighted---oUx9u"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return function(t){return t.type===e||!(!t.props||t.props.componentType!==e)}}},function(e,t){e.exports=n(728)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=y(n(5)),u=y(n(1)),c=y(n(2)),l=n(0),f=y(l),h=y(n(7)),d=y(n(8)),p=y(n(12)),v=y(n(4)),m=y(n(3));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var x=function(){},E=(i=r=function(e){function t(){var e,n,r;b(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.findNavIcon=(0,p.default)(h.default),r.findNavText=(0,p.default)(d.default),r.isNavItem=(0,v.default)(t),r.isNavIcon=(0,v.default)(h.default),r.isNavText=(0,v.default)(d.default),r.handleSelect=function(e){var t=r.props,n=t.disabled,i=t.onSelect,a=t.eventKey;n?e.preventDefault():i&&i(a,e)},w(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e,t,n=this,r=this.props,i=(r.componentType,r.componentClass),o=r.active,c=r.disabled,h=r.expanded,d=(r.eventKey,r.onClick),p=r.onSelect,v=r.selected,y=r.subnav,b=r.navitemClassName,w=r.navitemStyle,E=r.subnavClassName,_=r.subnavStyle,I=r.className,T=r.style,S=r.children,C=k(r,["componentType","componentClass","active","disabled","expanded","eventKey","onClick","onSelect","selected","subnav","navitemClassName","navitemStyle","subnavClassName","subnavStyle","className","style","children"]),N=this.findNavIcon(S),A=this.findNavText(S),P=N?a({},N.props):{},O=(P.componentType,P.navIconClassName),R=k(P,["componentType","navIconClassName"]),D=A?a({},A.props):{},L=(D.componentType,D.navTextClassName),j=k(D,["componentType","navTextClassName"]);if(y){var M,F=o||!!v&&v===this.props.eventKey;return f.default.createElement(i,{role:"presentation",className:(0,u.default)(I,m.default.sidenavSubnavitem,(M={},g(M,m.default.selected,F),g(M,m.default.disabled,c),M)),style:T},f.default.createElement("div",a({},C,{className:(0,u.default)(b,m.default.navitem),style:w,disabled:c,role:"menuitem",tabIndex:"-1",onClick:(0,s.default)(d,this.handleSelect)}),N&&f.default.createElement("div",a({},R,{className:(0,u.default)(O,m.default.navicon)})),A&&f.default.createElement("div",a({},j,{className:(0,u.default)(L,m.default.navtext)}))))}var U=[],V=f.default.Children.toArray(S).filter((function(e){return f.default.isValidElement(e)&&n.isNavItem(e)})).map((function(e){return(e.props.active||v&&v===e.props.eventKey)&&U.push(e),(0,l.cloneElement)(e,{subnav:!0,selected:v,onSelect:(0,s.default)(e.props.onSelect,p)})})),B=f.default.Children.toArray(S).filter((function(e){return!f.default.isValidElement(e)||!(n.isNavIcon(e)||n.isNavText(e)||n.isNavItem(e))})),q=o||!!v&&v===this.props.eventKey||U.length>0,z=V.length>0,H=z&&h,W=H||q;return f.default.createElement(i,{role:"presentation",className:(0,u.default)(I,m.default.sidenavNavitem,(e={},g(e,m.default.selected,q),g(e,m.default.highlighted,W),g(e,m.default.expandable,z),g(e,m.default.expanded,H),g(e,m.default.disabled,c),e)),style:T},f.default.createElement("div",a({},C,{className:(0,u.default)(b,m.default.navitem),style:w,disabled:c,role:"menuitem",tabIndex:"-1",onClick:(0,s.default)(d,0===V.length?this.handleSelect:x)}),N&&f.default.createElement("div",a({},R,{className:(0,u.default)(O,m.default.navicon)})),A&&f.default.createElement("div",a({},j,{className:(0,u.default)(L,m.default.navtext)})),B),V.length>0&&f.default.createElement("div",{role:"menu",className:(0,u.default)(E,m.default.sidenavSubnav),style:_},f.default.createElement(i,{role:"heading",className:(0,u.default)(m.default.sidenavSubnavitem,(t={},g(t,m.default.highlighted,o),g(t,m.default.disabled,c),t)),style:T},A&&A.props?A.props.children:null),V))}}]),t}(l.PureComponent),r.propTypes={componentType:c.default.any,componentClass:c.default.oneOfType([c.default.string,c.default.func]),active:c.default.bool,disabled:c.default.bool,expanded:c.default.bool,eventKey:c.default.any,onClick:c.default.func,onSelect:c.default.func,selected:c.default.any,subnav:c.default.bool,navitemClassName:c.default.string,navitemStyle:c.default.object,subnavClassName:c.default.string,subnavStyle:c.default.object},r.defaultProps={componentClass:"div",active:!1,disabled:!1,expanded:!1},i);E.defaultProps.componentType=E,t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){throw new Error("should not render NavIcon component")};i.defaultProps=r({},i.defaultProps,{componentType:i}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){throw new Error("should not render NavText component")};i.defaultProps=r({},i.defaultProps,{componentType:i}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=h(n(1)),u=h(n(2)),c=n(0),l=h(c),f=h(n(3));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=(i=r=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=(e.componentType,e.componentClass),n=e.expanded,r=e.className,i=e.children,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["componentType","componentClass","expanded","className","children"]);return l.default.createElement(t,a({},o,{role:"button",className:(0,s.default)(r,f.default.sidenavToggle),"aria-expanded":n}),l.default.createElement("span",{className:f.default.iconBar}),l.default.createElement("span",{className:f.default.iconBar}),l.default.createElement("span",{className:f.default.iconBar}),i)}}]),t}(c.PureComponent),r.propTypes={componentType:u.default.any,componentClass:u.default.oneOfType([u.default.string,u.default.func]),disabled:u.default.bool,expanded:u.default.bool},r.defaultProps={componentClass:"button",disabled:!1,expanded:!1},i);v.defaultProps.componentType=v,t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=v(n(5)),u=v(n(1)),c=v(n(2)),l=n(0),f=v(l),h=v(n(6)),d=v(n(4)),p=v(n(3));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var k=function(){},b=(i=r=function(e){function t(){var e,n,r;y(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={expandedNavItem:null,selected:r.props.defaultSelected,defaultSelected:r.props.defaultSelected},r.isNavItem=(0,d.default)(h.default),g(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"handleClickOnExpanded",value:function(e,t){this.props.expanded&&this.setState((function(t){return{expandedNavItem:t.expandedNavItem!==e?e:""}}))}},{key:"renderNavItem",value:function(e,t){var n=this,r=t.onSelect,i=m(t,["onSelect"]),o=a({},e.props).eventKey;return(0,l.cloneElement)(e,a({},i,{onClick:(0,s.default)(e.props.onClick,(function(e){n.handleClickOnExpanded(o,e)})),onSelect:(0,s.default)(this.state.defaultSelected?function(e){n.setState({selected:e})}:k,e.props.onSelect,r)}))}},{key:"render",value:function(){var e,t,n,r=this,i=this.props,o=(i.componentType,i.componentClass),s=i.onSelect,c=i.selected,l=(i.defaultSelected,i.expanded),h=i.className,d=i.children,v=m(i,["componentType","componentClass","onSelect","selected","defaultSelected","expanded","className","children"]),y=this.state.defaultSelected?this.state.selected:c;return f.default.createElement(o,a({},v,{role:"menu",className:(0,u.default)(h,p.default.sidenavNav,(e={},t=p.default.expanded,n=l,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))}),f.default.Children.map(d,(function(e){return f.default.isValidElement(e)&&r.isNavItem(e)?r.renderNavItem(e,{onSelect:s,selected:y,expanded:!!e.props.expanded||l&&!!r.state.expandedNavItem&&r.state.expandedNavItem===e.props.eventKey}):e})))}}]),t}(l.PureComponent),r.propTypes={componentType:c.default.any,componentClass:c.default.oneOfType([c.default.string,c.default.func]),onSelect:c.default.func,selected:c.default.any,defaultSelected:c.default.any,expanded:c.default.bool},r.defaultProps={componentClass:"div"},i);b.defaultProps.componentType=b,t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavText=t.NavIcon=t.NavItem=t.Nav=t.Toggle=void 0;var r=n(9);Object.defineProperty(t,"Toggle",{enumerable:!0,get:function(){return c(r).default}});var i=n(10);Object.defineProperty(t,"Nav",{enumerable:!0,get:function(){return c(i).default}});var a=n(6);Object.defineProperty(t,"NavItem",{enumerable:!0,get:function(){return c(a).default}});var o=n(7);Object.defineProperty(t,"NavIcon",{enumerable:!0,get:function(){return c(o).default}});var s=n(8);Object.defineProperty(t,"NavText",{enumerable:!0,get:function(){return c(s).default}});var u=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){var n=(0,i.default)(e);return r.default.Children.toArray(t).reduce((function(e,t){return null===e&&null!==t&&n(t)?t:e}),null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=w(n(5)),u=w(n(1)),c=w(n(2)),l=n(0),f=w(l),h=n(14),d=w(n(15)),p=w(n(9)),v=w(n(10)),m=w(n(6)),y=w(n(7)),g=w(n(8)),k=w(n(3)),b=w(n(4));function w(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var T=(i=r=function(e){function t(){var e,n,r;_(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.isToggle=(0,b.default)(p.default),r.isNav=(0,b.default)(v.default),r.child={toggle:null,nav:null},r.handleClick=function(e){r.props.disabled||r.toggleExpanded("click")},I(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"toggleExpanded",value:function(e){var t=!this.props.expanded;this.props.onToggle&&this.props.onToggle(t)}},{key:"renderToggle",value:function(e,t){var n=this,r=function(e){n.child.toggle=e};return"string"===typeof e.ref?(0,d.default)(!1,"String refs are not supported on `<SideNav.Toggle>` component. To apply a ref to the component use the callback signature:\n\n https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"):r=(0,s.default)(e.ref,r),(0,l.cloneElement)(e,a({},t,{ref:r,onClick:(0,s.default)(e.props.onClick,this.handleClick)}))}},{key:"renderNav",value:function(e,t){var n=this,r=t.onSelect,i=E(t,["onSelect"]),o=function(e){n.child.nav=e};return"string"===typeof e.ref?(0,d.default)(!1,"String refs are not supported on `<SideNav.Nav>` component. To apply a ref to the component use the callback signature:\n\n https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"):o=(0,s.default)(e.ref,o),(0,l.cloneElement)(e,a({},i,{ref:o,onSelect:(0,s.default)(e.props.onSelect,r)}))}},{key:"render",value:function(){var e,t=this,n=this.props,r=(n.componentType,n.componentClass),i=n.disabled,o=n.expanded,s=(n.onToggle,n.onSelect),c=n.className,l=n.children,h=E(n,["componentType","componentClass","disabled","expanded","onToggle","onSelect","className","children"]);return f.default.createElement(r,a({},h,{className:(0,u.default)(c,k.default.sidenav,(e={},x(e,k.default.disabled,i),x(e,k.default.expanded,o),x(e,k.default.collapsed,!o),e))}),f.default.Children.map(l,(function(e){return f.default.isValidElement(e)?t.isToggle(e)?t.renderToggle(e,{disabled:i,expanded:o}):t.isNav(e)?t.renderNav(e,{onSelect:s,expanded:o}):e:e})))}}]),t}(l.PureComponent),r.propTypes={componentType:c.default.any,componentClass:c.default.oneOfType([c.default.string,c.default.func]),disabled:c.default.bool,expanded:c.default.bool,onToggle:c.default.func,onSelect:c.default.func},r.defaultProps={componentClass:"nav"},i);T.defaultProps.componentType=T;var S=(0,h.uncontrollable)(T,{expanded:"onToggle"});S.Toggle=p.default,S.Nav=v.default,S.NavItem=m.default,S.NavIcon=y.default,S.NavText=g.default,t.default=S},function(e,t){e.exports=n(239)},function(e,t){e.exports=n(655)}])},655:function(e){"use strict";e.exports=function(){}},203:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return"function"===typeof e})).reduce((function(e,t){return null===e?t:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)}},728:function(e,t,n){"use strict";var r,i=n(203),a=(r=i)&&r.__esModule?r:{default:r};e.exports=a.default},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},472:function(e,t,n){e.exports=n(561)},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(791),o=(r=a)&&r.__esModule?r:{default:r},s=n(509),u=n(333);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildURI",value:function(){return s.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,i=e.enclosingCharacter,a=e.uFEFF,o=e.target,s=e.specs,u=e.replace;this.state.page=window.open(this.buildURI(t,a,n,r,i),o,s,u)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(o.default.Component);c.defaultProps=Object.assign(u.defaultProps,{target:"_blank"}),c.propTypes=u.propTypes,t.default=c},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(791),s=(r=o)&&r.__esModule?r:{default:r},u=n(509),c=n(333);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return u.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,i=n.headers,a=n.separator,o=n.filename,s=n.enclosingCharacter,c=n.uFEFF,l=t&&"function"===typeof r?r():r,f=new Blob([c?"\ufeff":"",(0,u.toCSV)(l,i,a,s)]);return window.navigator.msSaveBlob(f,o),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,a=t.separator,o=t.filename,u=t.uFEFF,c=t.children,l=(t.onClick,t.asyncOnClick,t.enclosingCharacter),f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),h="undefined"===typeof window?"":this.buildURI(n,u,r,a,l);return s.default.createElement("a",i({download:o},f,{ref:function(t){return e.link=t},target:"_self",href:h,onClick:this.handleClick()}),c)}}]),t}(s.default.Component);l.defaultProps=c.defaultProps,l.propTypes=c.propTypes,t.default=l},509:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},a=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},o=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},s=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(r(e),r(t)))}),[]))},u=t.jsons2arrays=function(e,t){var n=t=t||s(e),i=t;a(t)&&(n=t.map((function(e){return e.label})),i=t.map((function(e){return e.key})));var o=e.map((function(e){return i.map((function(t){return c(t,e)}))}));return[n].concat(r(o))},c=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,n,r){var i=e[t];if(void 0!==i&&null!==i)return i;r.splice(1)}),t);return void 0===n?e in t?t[e]:"":n},l=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},f=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return l(e)})).map((function(e){return""+n+e+n})).join(t)})).join("\n")},h=t.arrays2csv=function(e,t,n,i){return f(t?[t].concat(r(e)):e,n,i)},d=t.jsons2csv=function(e,t,n,r){return f(u(e,t),n,r)},p=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},v=t.toCSV=function(e,t,n,r){if(a(e))return d(e,t,n,r);if(o(e))return h(e,t,n,r);if("string"===typeof e)return p(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,a){var o=v(e,n,r,a),s=i()?"application/csv":"text/csv",u=new Blob([t?"\ufeff":"",o],{type:s}),c="data:"+s+";charset=utf-8,"+(t?"\ufeff":"")+o,l=window.URL||window.webkitURL;return"undefined"===typeof l.createObjectURL?c:l.createObjectURL(u)}},561:function(e,t,n){"use strict";t.CSVDownload=void 0;var r=a(n(15)),i=a(n(88));function a(e){return e&&e.__esModule?e:{default:e}}t.CSVDownload=r.default,i.default},333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,i=n(791),a=((r=i)&&r.__esModule,n(7));t.propTypes={data:(0,a.oneOfType)([a.string,a.array,a.func]).isRequired,headers:a.array,target:a.string,separator:a.string,filename:a.string,uFEFF:a.bool,onClick:a.func,asyncOnClick:a.bool,enclosingCharacter:a.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,I=60108,T=60114,S=60109,C=60110,N=60112,A=60113,P=60120,O=60115,R=60116,D=60121,L=60128,j=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),_=U("react.fragment"),I=U("react.strict_mode"),T=U("react.profiler"),S=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),j=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Pe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=Re,Me=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,u){He=!1,We=null,ze.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Je(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},Tt={};function St(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),Pt=St("transitionend"),Ot=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var jt=8;function Mt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=jt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=jt):0!==(s&=a)&&(r=Mt(s),i=jt)}else 0!==(a=n&~o)?(r=Mt(a),i=jt):0!==s&&(r=Mt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Me||Le();var i=$t,a=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Xt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),En=un(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),jn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Pe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Xn(e){Nr(e,0)}function $n(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Jn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Jn)){var t=[];if(Qn(t,Jn,e,Te(e)),e=Xn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Jn)}function ur(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Rt.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Sr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{je(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ct:case Nt:case At:u=bn;break;case Pt:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Mr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Ve(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(jr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(jr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Xr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Hi(){switch(Pi()){case Oi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case ji:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Oi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return ji;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ii(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Oi,Qi),n}finally{Bi=!1}}}var Ji=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Xu(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ju(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Sa=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Pa=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Pa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Pa)}function La(e){Oa(Pa.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function ja(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function qa(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ja=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Lo,e=n(r,i)}while(ro)}if(Ja.current=Oo,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ja.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Po.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function So(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Po(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},jo=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Ho(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,jo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,Yo,Jo,Xo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ja(t);var a=Oa(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Pa.current),Oa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&Bs)&&0===(134217727&qs)||gu(Rs,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):_s(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Os=0,Rs=null,Ds=null,Ls=0,js=0,Ms=ci(0),Fs=0,Us=null,Vs=0,Bs=0,qs=0,zs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=zi()+500}var Qs,Ys=null,Js=!1,Xs=null,$s=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Ji.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Os)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Rs&&(qs|=t,4===Fs&&gu(e,Ls));var r=Hi();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(mu(e,n),0===Os&&(Gs(),Qi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=jt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?Ls:0),t=jt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Oi,Yi)):Ui.push(n),n=Mi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=Tu();for(Rs===e&&Ls===r||(Gs(),_u(e,r));;)try{Nu();break}catch(u){Iu(e,u)}if(na(),As.current=a,Os=i,null!==Ds?r=0:(Rs=null,Ls=0,r=Fs),0!==(Vs&qs))_u(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Us,_u(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Lu(),e===Rs&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Su(e,t);0!==(Vs&qs)&&(n=Su(e,t=Ft(e,t)))}else n=Su(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Us,_u(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),mu(e,zi()),null}function bu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}}function xu(e,t){fi(Ms,js),js|=t,Vs|=t}function Eu(){js=Ms.current,li(Ms)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:ja(r);break;case 4:Da();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:Eu()}n=n.return}Rs=e,Ds=Ku(e.current,null),Ls=js=Vs=t,Fs=0,Us=null,zs=qs=Bs=0}function Iu(e,t){for(;;){var n=Ds;try{if(na(),Ja.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ps.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$s||!$s.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(E){t=E,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Oo,null===e?Oo:e}function Su(e,t){var n=Os;Os|=16;var r=Tu();for(Rs===e&&Ls===t||_u(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(na(),Os=n,As.current=r,null!==Ds)throw Error(o(261));return Rs=null,Ls=0,Fs}function Cu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Qs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ou(e){var t=Hi();return Ki(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,Br=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:Is(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var E=Ys.flags;if(36&E&&ys(k,Ys.alternate,Ys),128&E){b=void 0;var _=Ys.ref;if(null!==_){var I=Ys.stateNode;Ys.tag,b=I,"function"===typeof _?_(b):_.current=b}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,zi()),Js)throw Js=!1,e=Xs,Xs=null,e;return 0!==(8&Os)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>zi()-Ws?_u(e,0):zs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Qu(n.children,i,a,t);case j:s=8,i|=16;break;case I:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case P:return(e=Hu(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Yu(n,i,a,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case N:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=M,e.lanes=n,e}function Ju(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return $o(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bu,De=function(e,t,n,r,i){var a=Os;Os|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),Qi())}},Le=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Qi()}(),Lu())},je=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Pe,Oe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Os=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,N=null,A=3,P=!1,O=!1,R=!1;function D(e){for(var t=E(S);null!==t;){if(null===t.callback)_(S);else{if(!(t.startTime<=e))break;_(S),t.sortIndex=t.expirationTime,x(T,t)}t=E(S)}}function L(e){if(R=!1,D(e),!O)if(null!==E(T))O=!0,n(j);else{var t=E(S);null!==t&&r(L,t.startTime-e)}}function j(e,n){O=!1,R&&(R=!1,i()),P=!0;var a=A;try{for(D(n),N=E(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===E(T)&&_(T),D(n)}else _(T);N=E(T)}if(null!==N)var u=!0;else{var c=E(S);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,P=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(S,e),null===E(T)&&e===E(S)&&(R?i():R=!0,r(L,o-s))):(e.sortIndex=u,x(T,e),O||P||(O=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},239:function(e,t,n){"use strict";n.r(t),n.d(t,{uncontrollable:function(){return g},useUncontrolled:function(){return d},useUncontrolledProp:function(){return h}});var r=n(462),i=n(366),a=n(791),o=n(176),s=n.n(o),u=function(){};function c(e,t){return void 0!==e[t]}function l(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function f(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function h(e,t,n){var r=(0,a.useRef)(void 0!==e),i=(0,a.useState)(t),o=i[0],s=i[1],u=void 0!==e,c=r.current;return r.current=u,!u&&c&&o!==t&&s(t),[u?e:o,(0,a.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}function d(e,t){return Object.keys(t).reduce((function(n,a){var o,s=n,u=s[l(a)],c=s[a],d=(0,i.Z)(s,[l(a),a].map(f)),p=t[a],v=h(c,u,e[p]),m=v[0],y=v[1];return(0,r.Z)({},d,((o={})[a]=m,o[p]=y,o))}),e)}var p=n(578);function v(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function m(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function y(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}v.__suppressDeprecationWarning=!0,m.__suppressDeprecationWarning=!0,y.__suppressDeprecationWarning=!0;function g(e,t,n){void 0===n&&(n=[]);var o,f=e.displayName||e.name||"Component",h=!!(o=e)&&("function"!==typeof o||o.prototype&&o.prototype.isReactComponent),d=Object.keys(t),k=d.map(l);!h&&n.length&&s()(!1);var b=function(o){function s(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];(e=o.call.apply(o,[this].concat(a))||this).handlers=Object.create(null),d.forEach((function(n){var i=t[n];e.handlers[i]=function(t){if(e.props[i]){var a;e._notifying=!0;for(var o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];(a=e.props)[i].apply(a,[t].concat(s)),e._notifying=!1}e.unmounted||e.setState((function(e){var i,a=e.values;return{values:(0,r.Z)(Object.create(null),a,(i={},i[n]=t,i))}}))}})),n.length&&(e.attachRef=function(t){e.inner=t});var u=Object.create(null);return d.forEach((function(t){u[t]=e.props[l(t)]})),e.state={values:u,prevProps:{}},e}(0,p.Z)(s,o);var u=s.prototype;return u.shouldComponentUpdate=function(){return!this._notifying},s.getDerivedStateFromProps=function(e,t){var n=t.values,i=t.prevProps,a={values:(0,r.Z)(Object.create(null),n),prevProps:{}};return d.forEach((function(t){a.prevProps[t]=e[t],!c(e,t)&&c(i,t)&&(a.values[t]=e[l(t)])})),a},u.componentWillUnmount=function(){this.unmounted=!0},u.render=function(){var t=this,n=this.props,o=n.innerRef,s=(0,i.Z)(n,["innerRef"]);k.forEach((function(e){delete s[e]}));var u={};return d.forEach((function(e){var n=t.props[e];u[e]=void 0!==n?n:t.state.values[e]})),a.createElement(e,(0,r.Z)({},s,u,this.handlers,{ref:o||this.attachRef}))},s}(a.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var a=e.displayName||e.name,o="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+a+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=v,t.componentWillReceiveProps=m),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=y;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(b),b.displayName="Uncontrolled("+f+")",b.propTypes=(0,r.Z)({innerRef:function(){}},function(e,t){var n={};return Object.keys(e).forEach((function(e){n[l(e)]=u})),n}(t)),n.forEach((function(e){b.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var w=b;return a.forwardRef&&((w=a.forwardRef((function(e,t){return a.createElement(b,(0,r.Z)({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))}))).propTypes=b.propTypes),w.ControlledComponent=e,w.deferControlTo=function(e,n,i){return void 0===n&&(n={}),g(e,(0,r.Z)({},t,n),i)},w}},391:function(e){"use strict";var t=function(){};e.exports=t},462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Dr},SDK_VERSION:function(){return Si},_DEFAULT_ENTRY_NAME:function(){return hi},_addComponent:function(){return mi},_addOrOverwriteComponent:function(){return yi},_apps:function(){return pi},_clearComponents:function(){return wi},_components:function(){return vi},_getProvider:function(){return ki},_registerComponent:function(){return gi},_removeServiceInstance:function(){return bi},deleteApp:function(){return Pi},getApp:function(){return Ni},getApps:function(){return Ai},initializeApp:function(){return Ci},onLog:function(){return Di},registerVersion:function(){return Ri},setLogLevel:function(){return Li}});var t,r=n(791),i=n(164),a=n(462),o=t||(t={});o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE";var s=function(e){return e};function u(e){e.preventDefault(),e.returnValue=""}function c(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function l(){return Math.random().toString(36).substr(2,8)}function f(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function h(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var d=n(7),p=n.n(d);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}var m=function(e){return e};function y(e,t){if(!e)throw Error(t)}var g=(0,r.createContext)({static:!1}),k=(0,r.createContext)({outlet:null,params:m({}),pathname:"",route:null});function b(e){var t=e.to,n=e.replace,i=e.state;I()||y(!1);var a=S();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function w(){return(0,r.useContext)(k).outlet}function x(e){return void 0===(e=e.element)?(0,r.createElement)(w,null):e}function E(e){var n=e.children;n=void 0===n?null:n;var i=e.action;i=void 0===i?t.Pop:i;var a=e.location,o=e.navigator;return e=void 0!==(e=e.static)&&e,I()&&y(!1),(0,r.createElement)(g.Provider,{children:n,value:{action:i,location:a,navigator:o,static:e}})}function _(e){var t=e.basename;return t=void 0===t?"":t,N(e=A(e.children),t)}function I(){return null!=(0,r.useContext)(g).location}function T(){return I()||y(!1),(0,r.useContext)(g).location}function S(){I()||y(!1);var e=(0,r.useContext)(g).navigator,t=(0,r.useContext)(k).pathname,n=(0,r.useRef)(!1);return(0,r.useEffect)((function(){n.current=!0})),(0,r.useCallback)((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.go(r):(r=L(r,t),(i.replace?e.replace:e.push)(r,i.state)))}),[e,t])}function C(e){var t=(0,r.useContext)(k).pathname;return(0,r.useMemo)((function(){return L(e,t)}),[e,t])}function N(e,t){void 0===t&&(t="");var n=(0,r.useContext)(k),i=n.route,a=n.pathname,o=n.params;t=t?j([a,t]):a;var s=T();return(i=(0,r.useMemo)((function(){return function(e,t,n){if(void 0===n&&(n=""),"string"===typeof t&&(t=h(t)),t=t.pathname||"/",n){if(n=n.replace(/^\/*/,"/").replace(/\/+$/,""),!t.startsWith(n))return null;t=t===n?"/":t.slice(n.length)}!function(e){var t=e.reduce((function(e,t){return e[t=t[0]]=function(e){var t=(e=e.split("/")).length;return e.some(R)&&(t+=-2),e.filter((function(e){return!R(e)})).reduce((function(e,t){return e+(O.test(t)?2:""===t?1:10)}),t)}(t),e}),{});!function(e,t){var n=e.slice(0);e.sort((function(e,r){return t(e,r)||n.indexOf(e)-n.indexOf(r)}))}(e,(function(e,n){var r=e[2];e=t[e[0]];var i=n[2];return e!==(n=t[n[0]])?n-e:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(r,i)}))}(e=P(e));var r=null;for(n=0;null==r&&n<e.length;++n)e:{r=t;for(var i=e[n][1],a="/",o={},s=[],u=0;u<i.length;++u){var c=i[u],l="/"===a?r:r.slice(a.length)||"/";if(!(l=D({path:c.path,caseSensitive:c.caseSensitive,end:u===i.length-1},l))){r=null;break e}a=j([a,l.pathname]),o=v({},o,{},l.params),s.push({route:c,pathname:a,params:m(o)})}r=s}return r}(e,s,t)}),[s,e,t]))?i.reduceRight((function(e,n){var i=n.pathname,a=n.route;return(0,r.createElement)(k.Provider,{children:a.element,value:{outlet:e,params:m(v({},o,{},n.params)),pathname:j([t,i]),route:a}})}),null):null}function A(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type===r.Fragment)t.push.apply(t,A(e.props.children));else{var n={path:e.props.path||"/",caseSensitive:!0===e.props.caseSensitive,element:e};e.props.children&&((e=A(e.props.children)).length&&(n.children=e)),t.push(n)}})),t}function P(e,t,n,r,i){return void 0===t&&(t=[]),void 0===n&&(n=""),void 0===r&&(r=[]),void 0===i&&(i=[]),e.forEach((function(e,a){var o=j([n,e.path]),s=r.concat(e);a=i.concat(a),e.children&&P(e.children,t,o,s,a),t.push([o,s,a])})),t}var O=/^:\w+$/;function R(e){return"*"===e}function D(e,t){"string"===typeof e&&(e={path:e});var n=e;e=n.path;var r=n.caseSensitive;if(n=function(e,t,n){var r=[],i="^("+e.replace(/^\/*/,"/").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}))+")";return e.endsWith("*")?(e.endsWith("/*")&&(i+="\\/?"),r.push("*"),i+="(.*)"):n&&(i+="\\/?"),n&&(i+="$"),[new RegExp(i,t?void 0:"i"),r]}(e,void 0!==r&&r,void 0===(n=n.end)||n),r=n[1],!(n=t.match(n[0])))return null;t=n[1];var i=n.slice(2);return r=r.reduce((function(e,t,n){n=i[n];try{var r=decodeURIComponent(n.replace(/\+/g," "))}catch(a){r=n}return e[t]=r,e}),{}),{path:e,pathname:t,params:r}}function L(e,t){void 0===t&&(t="/");var n="string"===typeof e?h(e):e;e=n.pathname;var r=n.search;return r=void 0===r?"":r,n=void 0===(n=n.hash)?"":n,{pathname:e?M(e,e.startsWith("/")?"/":t):t,search:r,hash:n}}function j(e){return e.join("/").replace(/\/\/+/g,"/")}function M(e,t){var n=t.replace(/\/+$/,"").replace(/\/\/+/g,"/").split("/");return e.replace(/\/\/+/g,"/").split("/").forEach((function(e){".."===e?1<n.length&&n.pop():"."!==e&&n.push(e)})),1<n.length?j(n):"/"}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r={},i=Object.keys(e);for(n=0;n<i.length;n++){var a=i[n];0<=t.indexOf(a)||(r[a]=e[a])}return r}function V(e){var n=e.children;e=e.window;var i=(0,r.useRef)();null==i.current&&(i.current=function(e){function n(){var e=p.location,t=v.state||{};return[t.idx,s({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function r(e){return"string"===typeof e?e:f(e)}function i(e,t){return void 0===t&&(t=null),s((0,a.Z)({pathname:k.pathname,hash:"",search:""},"string"===typeof e?h(e):e,{state:t,key:l()}))}function o(e){y=e,e=n(),g=e[0],k=e[1],b.call({action:y,location:k})}function d(e){v.go(e)}void 0===e&&(e={});var p=void 0===(e=e.window)?document.defaultView:e,v=p.history,m=null;p.addEventListener("popstate",(function(){if(m)w.call(m),m=null;else{var e=t.Pop,r=n(),i=r[0];if(r=r[1],w.length){if(null!=i){var a=g-i;a&&(m={action:e,location:r,retry:function(){d(-1*a)}},d(a))}}else o(e)}}));var y=t.Pop,g=(e=n())[0],k=e[1],b=c(),w=c();return null==g&&(g=0,v.replaceState((0,a.Z)({},v.state,{idx:g}),"")),{get action(){return y},get location(){return k},createHref:r,push:function e(n,a){var s=t.Push,u=i(n,a);if(!w.length||(w.call({action:s,location:u,retry:function(){e(n,a)}}),0)){var c=[{usr:u.state,key:u.key,idx:g+1},r(u)];u=c[0],c=c[1];try{v.pushState(u,"",c)}catch(N){p.location.assign(c)}o(s)}},replace:function e(n,a){var s=t.Replace,u=i(n,a);w.length&&(w.call({action:s,location:u,retry:function(){e(n,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},r(u)],v.replaceState(u[0],"",u[1]),o(s))},go:d,back:function(){d(-1)},forward:function(){d(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&p.addEventListener("beforeunload",u),function(){t(),w.length||p.removeEventListener("beforeunload",u)}}}}({window:e}));var o=i.current;e=(0,r.useReducer)((function(e,t){return t}),{action:o.action,location:o.location}),i=e[0];var d=e[1];return(0,r.useLayoutEffect)((function(){return o.listen(d)}),[o]),(0,r.createElement)(E,{children:n,action:i.action,location:i.location,navigator:o})}var B=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.replace,a=void 0!==i&&i,o=e.state,s=e.target,u=e.to;e=U(e,["onClick","replace","state","target","to"]),i=function(e){I()||y(!1);var t=(0,r.useContext)(g).navigator;return e=C(e),t.createHref(e)}(u);var c=S(),l=T(),h=C(u);return(0,r.createElement)("a",Object.assign({},e,{href:i,onClick:function(e){n&&n(e),e.defaultPrevented||0!==e.button||s&&"_self"!==s||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),e=!!a||f(l)===f(h),c(u,{replace:e,state:o}))},ref:t,target:s}))}));(0,r.forwardRef)((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=void 0===(n=e.activeClassName)?"active":n;n=e.activeStyle;var o=e.caseSensitive,s=void 0!==o&&o,u=void 0===(o=e.className)?"":o,c=void 0!==(o=e.end)&&o,l=e.style;o=e.to,e=U(e,"aria-current activeClassName activeStyle caseSensitive className end style to".split(" "));var f=T(),h=C(o);return f=f.pathname,h=h.pathname,s||(f=f.toLowerCase(),h=h.toLowerCase()),i=(s=c?f===h:f.startsWith(h))?i:void 0,a=[u,s?a:null].filter(Boolean).join(" "),n=F({},l,{},s?n:null),(0,r.createElement)(B,Object.assign({},e,{"aria-current":i,className:a,ref:t,style:n,to:o}))}));function q(e){if(Array.isArray(e))return e}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){if(e){if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e,t){return q(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||H(e,t)||W()}function G(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){G(a,r,i,o,s,"next",e)}function s(e){G(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Y=n(757),J=n.n(Y);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=n(366);function te(e,t){if(null==e)return{};var n,r,i=(0,ee.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ne=n(694),re=n.n(ne),ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},ae=r.createContext(null),oe=n(239),se=/-(.)/g;var ue=n(184),ce=r.createContext({prefixes:{}});ce.Consumer,ce.Provider;function le(e,t){var n=(0,r.useContext)(ce).prefixes;return e||n[t]||t}var fe=["className","bsPrefix","as"],he=function(e){return e[0].toUpperCase()+(t=e,t.replace(se,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?he(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=te(t,fe),c=le(i,e);return(0,ue.jsx)(s,Z({ref:n,className:re()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var pe=["bsPrefix","className","as"],ve=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=te(e,pe);n=le(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,ue.jsx)(o,Z(Z({},a),{},{ref:t,className:re()(r,n)}))}));ve.displayName="NavbarBrand";var me=ve;function ye(e){return e&&e.ownerDocument||document}function ge(e,t){return function(e){var t=ye(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ke=/([A-Z])/g;var be=/^ms-/;function we(e){return function(e){return e.replace(ke,"-$1").toLowerCase()}(e).replace(be,"-ms-")}var xe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ee=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(we(t))||ge(e).getPropertyValue(we(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!xe.test(e))}(i)?n+=we(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(we(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},_e=n(578),Ie=!1,Te=r.createContext(null),Se="unmounted",Ce="exited",Ne="entering",Ae="entered",Pe="exiting",Oe=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ce,r.appearStatus=Ne):i=Ae:i=t.unmountOnExit||t.mountOnEnter?Se:Ce,r.state={status:i},r.nextCallback=null,r}(0,_e.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Se?{status:Ce}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ne&&n!==Ae&&(t=Ne):n!==Ne&&n!==Ae||(t=Pe)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Ne?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ce&&this.setState({status:Se})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||Ie?this.safeSetState({status:Ae},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Ne},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:Ae},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!Ie?(this.props.onExit(r),this.safeSetState({status:Pe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ce},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ce},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Se)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,ee.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Te.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function Re(){}Oe.contextType=Te,Oe.propTypes={},Oe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Re,onEntering:Re,onEntered:Re,onExit:Re,onExiting:Re,onExited:Re},Oe.UNMOUNTED=Se,Oe.EXITED=Ce,Oe.ENTERING=Ne,Oe.ENTERED=Ae,Oe.EXITING=Pe;var De=Oe,Le=!("undefined"===typeof window||!window.document||!window.document.createElement),je=!1,Me=!1;try{var Fe={get passive(){return je=!0},get once(){return Me=je=!0}};Le&&(window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,!0))}catch(BN){}var Ue=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Me){var i=r.once,a=r.capture,o=n;!Me&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,je?r:a)}e.addEventListener(t,n,r)};var Ve=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Be=function(e,t,n,r){return Ue(e,t,n,r),function(){Ve(e,t,n,r)}};function qe(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Be(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function ze(e,t,n,r){null==n&&(n=function(e){var t=Ee(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=qe(e,n,r),a=Be(e,"transitionend",t);return function(){i(),a()}}function He(e,t){var n=Ee(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function We(e,t){var n=He(e,"transitionDuration"),r=He(e,"transitionDelay"),i=ze(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Ke=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Ge(e){e.offsetHeight}var Qe=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Ye=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=Qe(e),r=Qe(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var Je,Xe=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],$e=r.forwardRef((function(e,t){var n=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=te(e,Xe),p=(0,r.useRef)(null),v=Ye(p,h),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,r.useCallback)(y(n),[n]),k=(0,r.useCallback)(y(a),[a]),b=(0,r.useCallback)(y(o),[o]),w=(0,r.useCallback)(y(s),[s]),x=(0,r.useCallback)(y(u),[u]),E=(0,r.useCallback)(y(c),[c]),_=(0,r.useCallback)(y(l),[l]);return(0,ue.jsx)(De,Z(Z({ref:t},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:E,onExiting:x,addEndListener:_,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,Z(Z({},t),{},{ref:m}))}:r.cloneElement(f,{ref:m})}))})),Ze=$e,et=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],tt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function nt(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=tt[e];return n+parseInt(Ee(t,r[0]),10)+parseInt(Ee(t,r[1]),10)}var rt=(X(Je={},Ce,"collapse"),X(Je,Pe,"collapsing"),X(Je,Ne,"collapsing"),X(Je,Ae,"collapse show"),Je),it={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:nt},at=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?nt:h,p=te(e,et),v="function"===typeof f?f():f,m=(0,r.useMemo)((function(){return Ke((function(e){e.style[v]="0"}),n)}),[v,n]),y=(0,r.useMemo)((function(){return Ke((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,r.useMemo)((function(){return Ke((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,r.useMemo)((function(){return Ke((function(e){e.style[v]="".concat(d(v,e),"px"),Ge(e)}),o)}),[o,d,v]),b=(0,r.useMemo)((function(){return Ke((function(e){e.style[v]=null}),s)}),[v,s]);return(0,ue.jsx)(Ze,Z(Z({ref:t,addEndListener:We},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,t){return r.cloneElement(c,Z(Z({},t),{},{className:re()(u,c.props.className,rt[e],"width"===v&&"collapse-horizontal")}))}}))}));at.defaultProps=it;var ot=at,st=r.createContext(null);st.displayName="NavbarContext";var ut=st,ct=["children","bsPrefix"],lt=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=te(e,ct);i=le(i,"navbar-collapse");var o=(0,r.useContext)(ut);return(0,ue.jsx)(ot,Z(Z({in:!(!o||!o.expanded)},a),{},{children:(0,ue.jsx)("div",{ref:t,className:i,children:n})}))}));lt.displayName="NavbarCollapse";var ft=lt;var ht=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function dt(e){var t=ht(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var pt=["bsPrefix","className","children","label","as","onClick"],vt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=te(e,pt);n=le(n,"navbar-toggler");var f=(0,r.useContext)(ut)||{},h=f.onToggle,d=f.expanded,p=dt((function(e){c&&c(e),h&&h()}));return"button"===u&&(l.type="button"),(0,ue.jsx)(u,Z(Z({},l),{},{ref:t,onClick:p,"aria-label":o,className:re()(i,n,!d&&"collapsed"),children:a||(0,ue.jsx)("span",{className:"".concat(n,"-icon")})}))}));vt.displayName="NavbarToggle",vt.defaultProps={label:"Toggle navigation"};var mt=vt;function yt(e){void 0===e&&(e=ye());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(BN){return e.body}}function gt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function kt(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}function bt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function wt(e){return function(e){if(Array.isArray(e))return z(e)}(e)||bt(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e){return"".concat("data-rr-ui-").concat(e)}var Tt=It("modal-open"),St=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;xt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return _t(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=X({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ee(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Tt,""),Ee(r,t)}},{key:"reset",value:function(){var e=this;wt(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Tt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Ct=St,Nt=(0,r.createContext)(Le?window:void 0);Nt.Provider;function At(){return(0,r.useContext)(Nt)}var Pt=function(e,t){var n;return Le?null==e?(t||ye()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var Ot,Rt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Dt(e){var t=At(),n=e||function(e){return Ot||(Ot=new Ct({ownerDocument:null==e?void 0:e.document})),Ot}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var Lt=(0,r.forwardRef)((function(e,t){var n=e.show,a=void 0!==n&&n,o=e.role,s=void 0===o?"dialog":o,u=e.className,c=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,k=e.autoFocus,b=void 0===k||k,w=e.enforceFocus,x=void 0===w||w,E=e.restoreFocus,_=void 0===E||E,I=e.restoreFocusOptions,T=e.renderDialog,S=e.renderBackdrop,C=void 0===S?function(e){return(0,ue.jsx)("div",Object.assign({},e))}:S,N=e.manager,A=e.container,P=e.onShow,O=e.onHide,R=void 0===O?function(){}:O,D=e.onExit,L=e.onExited,j=e.onExiting,M=e.onEnter,F=e.onEntering,U=e.onEntered,V=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Rt),B=function(e,t){var n=At(),i=K((0,r.useState)((function(){return Pt(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var s=Pt(e);s&&o(s)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=Pt(e);t!==a&&o(t)}),[e,a]),a}(A),q=Dt(N),z=function(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}(),H=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}(a),W=K((0,r.useState)(!a),2),G=W[0],Q=W[1],Y=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return q}),[q]),Le&&!H&&a&&(Y.current=yt()),y||a||G?a&&G&&Q(!1):Q(!0);var J=dt((function(){if(q.add(),ne.current=Be(document,"keydown",ee),te.current=Be(document,"focus",(function(){return setTimeout($)}),!0),P&&P(),b){var e=yt(document);q.dialog&&e&&!gt(q.dialog,e)&&(Y.current=e,q.dialog.focus())}})),X=dt((function(){var e;(q.remove(),null==ne.current||ne.current(),null==te.current||te.current(),_)&&(null==(e=Y.current)||null==e.focus||e.focus(I),Y.current=null)}));(0,r.useEffect)((function(){a&&B&&J()}),[a,B,J]),(0,r.useEffect)((function(){G&&X()}),[G,X]),kt((function(){X()}));var $=dt((function(){if(x&&z()&&q.isTopModal()){var e=yt();q.dialog&&e&&!gt(q.dialog,e)&&q.dialog.focus()}})),Z=dt((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&R())})),ee=dt((function(e){p&&27===e.keyCode&&q.isTopModal()&&(null==m||m(e),e.defaultPrevented||R())})),te=(0,r.useRef)(),ne=(0,r.useRef)(),re=y;if(!B||!(a||re&&!G))return null;var ie=Object.assign({role:s,ref:q.setDialogRef,"aria-modal":"dialog"===s||void 0},V,{style:c,className:u,tabIndex:-1}),ae=T?T(ie):(0,ue.jsx)("div",Object.assign({},ie,{children:r.cloneElement(l,{role:"document"})}));re&&(ae=(0,ue.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!a,onExit:D,onExiting:j,onExited:function(){Q(!0),null==L||L.apply(void 0,arguments)},onEnter:M,onEntering:F,onEntered:U,children:ae}));var oe=null;if(h){var se=g;oe=C({ref:q.setBackdropRef,onClick:Z}),se&&(oe=(0,ue.jsx)(se,{appear:!0,in:!!a,children:oe}))}return(0,ue.jsx)(ue.Fragment,{children:i.createPortal((0,ue.jsxs)(ue.Fragment,{children:[oe,ae]}),B)})}));Lt.displayName="Modal";var jt,Mt=Object.assign(Lt,{Manager:Ct}),Ft=["className","children","transitionClasses"],Ut=(X(jt={},Ne,"show"),X(jt,Ae,"show"),jt),Vt=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=te(e,Ft),u=(0,r.useCallback)((function(e,t){Ge(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,ue.jsx)(Ze,Z(Z({ref:t,addEndListener:We},s),{},{onEnter:u,childRef:i.ref,children:function(e,t){return r.cloneElement(i,Z(Z({},t),{},{className:re()("fade",n,i.props.className,Ut[e],o[e])}))}}))}));Vt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Vt.displayName="Fade";var Bt,qt=Vt,zt=de("offcanvas-body"),Ht=["bsPrefix","className","children"],Wt=(X(Bt={},Ne,"show"),X(Bt,Ae,"show"),Bt),Kt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=te(e,Ht);return n=le(n,"offcanvas"),(0,ue.jsx)(Ze,Z(Z({ref:t,addEndListener:We},o),{},{childRef:a.ref,children:function(e,t){return r.cloneElement(a,Z(Z({},t),{},{className:re()(i,a.props.className,(e===Ne||e===Pe)&&"".concat(n,"-toggling"),Wt[e])}))}}))}));Kt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Kt.displayName="OffcanvasToggling";var Gt=Kt,Qt=r.createContext({onHide:function(){}}),Yt=["className","variant"],Jt={"aria-label":p().string,onClick:p().func,variant:p().oneOf(["white"])},Xt=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=te(e,Yt);return(0,ue.jsx)("button",Z({ref:t,type:"button",className:re()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Xt.displayName="CloseButton",Xt.propTypes=Jt,Xt.defaultProps={"aria-label":"Close"};var $t=Xt,Zt=["closeLabel","closeVariant","closeButton","onHide","children"],en=r.forwardRef((function(e,t){var n=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=te(e,Zt),c=(0,r.useContext)(Qt),l=dt((function(){null==c||c.onHide(),null==o||o()}));return(0,ue.jsxs)("div",Z(Z({ref:t},u),{},{children:[s,a&&(0,ue.jsx)($t,{"aria-label":n,variant:i,onClick:l})]}))}));en.defaultProps={closeLabel:"Close",closeButton:!1};var tn=en,nn=["bsPrefix","className"],rn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=te(e,nn);return n=le(n,"offcanvas-header"),(0,ue.jsx)(tn,Z(Z({ref:t},i),{},{className:re()(r,n)}))}));rn.displayName="OffcanvasHeader",rn.defaultProps={closeLabel:"Close",closeButton:!1};var an=rn,on=function(e){return r.forwardRef((function(t,n){return(0,ue.jsx)("div",Z(Z({},t),{},{ref:n,className:re()(t.className,e)}))}))},sn=de("offcanvas-title",{Component:on("h5")});function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},un(e)}function cn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=un(e)););return e}function ln(){return ln="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=cn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ln.apply(this,arguments)}var fn=n(611);function hn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&(0,fn.Z)(e,t)}function dn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(BN){return!1}}function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t){if(t&&("object"===pn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vn(e)}function yn(e){var t=dn();return function(){var n,r=un(e);if(t){var i=un(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mn(this,n)}}var gn=Function.prototype.bind.call(Function.prototype.call,[].slice);function kn(e,t){return gn(e.querySelectorAll(t))}function bn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var wn,xn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",En=".sticky-top",_n=".navbar-toggler",In=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ee(t,X({},e,"".concat(parseFloat(Ee(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ee(t,X({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;ln(un(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";kn(a,xn).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),kn(a,En).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),kn(a,_n).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;ln(un(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=bn(r.className,i):r.setAttribute("class",bn(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";kn(a,xn).forEach((function(e){return t.restore(o,e)})),kn(a,En).forEach((function(e){return t.restore(s,e)})),kn(a,_n).forEach((function(e){return t.restore(s,e)}))}}]),n}(Ct);function Tn(e){return wn||(wn=new In(e)),wn}var Sn=In,Cn=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Nn(e){return(0,ue.jsx)(Gt,Z({},e))}function An(e){return(0,ue.jsx)(qt,Z({},e))}var Pn=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,w=e.onExit,x=e.onExiting,E=e.onEnter,_=e.onEntering,I=e.onExited,T=e.backdropClassName,S=e.manager,C=te(e,Cn),N=(0,r.useRef)();n=le(n,"offcanvas");var A=((0,r.useContext)(ut)||{}).onToggle,P=dt((function(){null==A||A(),null==p||p()})),O=(0,r.useMemo)((function(){return{onHide:P}}),[P]);var R=(0,r.useCallback)((function(e){return(0,ue.jsx)("div",Z(Z({},e),{},{className:re()("".concat(n,"-backdrop"),T)}))}),[T,n]);return(0,ue.jsx)(Qt.Provider,{value:O,children:(0,ue.jsx)(Mt,{show:u,ref:t,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:h,onShow:d,onHide:P,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:_,onEntered:b,onExit:w,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,n)},manager:S||(f?(N.current||(N.current=new Sn({handleContainerOverflow:!1})),N.current):Tn()),transition:Nn,backdropTransition:An,renderBackdrop:R,renderDialog:function(e){return(0,ue.jsx)("div",Z(Z(Z({role:"dialog"},e),C),{},{className:re()(i,n,"".concat(n,"-").concat(s)),"aria-labelledby":o,children:a}))}})})}));Pn.displayName="Offcanvas",Pn.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var On=Object.assign(Pn,{Body:zt,Header:an,Title:sn}),Rn=r.forwardRef((function(e,t){var n=(0,r.useContext)(ut);return(0,ue.jsx)(On,Z({ref:t,show:!(null==n||!n.expanded)},e))}));Rn.displayName="NavbarOffcanvas";var Dn=Rn,Ln=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],jn=de("navbar-text",{Component:"span"}),Mn=r.forwardRef((function(e,t){var n=(0,oe.useUncontrolled)(e,{expanded:"onToggle"}),i=n.bsPrefix,a=n.expand,o=n.variant,s=n.bg,u=n.fixed,c=n.sticky,l=n.className,f=n.as,h=void 0===f?"nav":f,d=n.expanded,p=n.onToggle,v=n.onSelect,m=n.collapseOnSelect,y=te(n,Ln),g=le(i,"navbar"),k=(0,r.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,r.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d}}),[g,d,p]);return(0,ue.jsx)(ut.Provider,{value:w,children:(0,ue.jsx)(ae.Provider,{value:k,children:(0,ue.jsx)(h,Z(Z({ref:t},y),{},{className:re()(l,g,a&&b,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));Mn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Mn.displayName="Navbar";var Fn=Object.assign(Mn,{Brand:me,Collapse:ft,Offcanvas:Dn,Text:jn,Toggle:mt}),Un=["bsPrefix","fluid","as","className"],Vn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=te(e,Un),u=le(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,ue.jsx)(a,Z(Z({ref:t},s),{},{className:re()(o,r?"".concat(u).concat(c):u)}))}));Vn.displayName="Container",Vn.defaultProps={fluid:!1};var Bn=Vn;n(573);var qn=r.createContext(null);qn.displayName="NavContext";var zn=qn,Hn=r.createContext(null),Wn=["as","disabled"];function Kn(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Gn=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Wn),a=K(Kn(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,ue.jsx)(s,Object.assign({},i,o,{ref:t}))}));Gn.displayName="Button";var Qn=Gn,Yn=["as","active","eventKey"];function Jn(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,r.useContext)(ae),c=(0,r.useContext)(zn),l=i,f={role:o};if(c){o||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=t?t:null),d=c.getControlledId(null!=t?t:null);f[It("event-key")]=t,f.id=h||a,f["aria-controls"]=d,l=null==i&&null!=t?c.activeKey===t:i}return"tab"===f.role&&(s&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=dt((function(e){s||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[f,{isActive:l}]}var Xn=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?Qn:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Yn),s=K(Jn(Object.assign({key:ie(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[It("active")]=c.isActive,(0,ue.jsx)(r,Object.assign({},o,u,{ref:t}))}));Xn.displayName="NavItem";var $n=Xn,Zn=["as","onSelect","activeKey","role","onKeyDown"];var er=function(){},tr=It("event-key"),nr=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Zn),h=(0,r.useReducer)((function(e){return!e}),!1)[1],d=(0,r.useRef)(!1),p=(0,r.useContext)(ae),v=(0,r.useContext)(Hn);v&&(c=c||"tablist",u=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=kn(t,"[".concat(tr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(tr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=Ye(t,m);return(0,ue.jsx)(ae.Provider,{value:g,children:(0,ue.jsx)(zn.Provider,{value:{role:c,activeKey:ie(u),getControlledId:n||er,getControllerId:i||er},children:(0,ue.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));nr.displayName="Nav";var rr=Object.assign(nr,{Item:$n}),ir=r.createContext(null);ir.displayName="CardHeaderContext";var ar=ir,or=de("nav-item");var sr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||sr?r.useLayoutEffect:r.useEffect,new WeakMap;var ur=["onKeyDown"];var cr=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ur),a=K(Kn(Object.assign({tagName:"a"},i)),1)[0],o=dt((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,ue.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ue.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));cr.displayName="Anchor";var lr=cr,fr=["bsPrefix","className","as","active","eventKey"],hr=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?lr:i,o=e.active,s=e.eventKey,u=te(e,fr);n=le(n,"nav-link");var c=K(Jn(Z({key:ie(s,u.href),active:o},u)),2),l=c[0],f=c[1];return(0,ue.jsx)(a,Z(Z(Z({},u),l),{},{ref:t,className:re()(r,n,u.disabled&&"disabled",f.isActive&&"active")}))}));hr.displayName="NavLink",hr.defaultProps={disabled:!1};var dr=hr,pr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],vr=r.forwardRef((function(e,t){var n,i,a,o=(0,oe.useUncontrolled)(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=te(o,pr),g=le(c,"nav"),k=!1,b=(0,r.useContext)(ut),w=(0,r.useContext)(ar);return b?(i=b.bsPrefix,k=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,ue.jsx)(rr,Z({as:u,ref:t,activeKey:m,className:re()(v,(n={},X(n,g,!k),X(n,"".concat(i,"-nav"),k),X(n,"".concat(i,"-nav-scroll"),k&&p),X(n,"".concat(a,"-").concat(l),!!a),X(n,"".concat(g,"-").concat(l),!!l),X(n,"".concat(g,"-fill"),f),X(n,"".concat(g,"-justified"),h),n))},y))}));vr.displayName="Nav",vr.defaultProps={justify:!1,fill:!1};var mr=Object.assign(vr,{Item:or,Link:dr});function yr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=H(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function gr(e,t,n){return gr=dn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,fn.Z)(i,n.prototype),i},gr.apply(null,arguments)}function kr(e){var t="function"===typeof Map?new Map:void 0;return kr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return gr(e,arguments,un(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,fn.Z)(n,e)},kr(e)}var br=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(br(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xr=function(e){return function(e){var t=br(e);return wr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Er=function(e){try{return wr.decodeString(e,!0)}catch(BN){console.error("base64Decode failed: ",BN)}return null};function _r(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_r(e[n],t[n]));return e}var Ir=function(){function e(){var t=this;xt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return _t(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Tr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xr(JSON.stringify({alg:"none",type:"JWT"})),xr(JSON.stringify(a)),""].join(".")}function Sr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sr())}function Nr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(BN){return!1}}function Ar(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Pr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Or(){var e=Sr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Rr(){return"object"===typeof indexedDB}var Dr=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(vn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(vn(a),Lr.prototype.create),a}return _t(n)}(kr(Error)),Lr=function(){function e(t,n,r){xt(this,e),this.service=t,this.serviceName=n,this.errors=r}return _t(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?jr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Dr(n,a,t);return o}}]),e}();function jr(e,t){return e.replace(Mr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Mr=/\{\$([^}]+)}/g;function Fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ur(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Vr(s)&&Vr(u)){if(!Ur(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Vr(e){return null!==e&&"object"===typeof e}function Br(e){for(var t=[],n=function(){var e=K(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function qr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=K(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function zr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Hr(e,t){var n=new Wr(e,t);return n.subscribe.bind(n)}var Wr=function(){function e(t,n){var r=this;xt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return _t(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=yr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Kr),void 0===r.error&&(r.error=Kr),void 0===r.complete&&(r.complete=Kr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(BN){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(BN){"undefined"!==typeof console&&console.error&&console.error(BN)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Kr(){}function Gr(e){return e&&e._delegate?e._delegate:e}var Qr=function(){function e(t,n,r){xt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return _t(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Yr="[DEFAULT]",Jr=function(){function e(t,n){xt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return _t(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ir;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(BN){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(BN){if(r)return null;throw BN}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch(BN){}var t,n=yr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=K(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(BN){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Q(Y.mark((function e(){var t;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(wt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),wt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=yr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=K(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=yr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_I){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Yr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_I){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;return this.component?this.component.multipleInstances?e:Yr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Xr,$r,Zr=function(){function e(t){xt(this,e),this.name=t,this.providers=new Map}return _t(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Jr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ei=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($r||($r={}));var ti,ni,ri={debug:$r.DEBUG,verbose:$r.VERBOSE,info:$r.INFO,warn:$r.WARN,error:$r.ERROR,silent:$r.SILENT},ii=$r.INFO,ai=(X(Xr={},$r.DEBUG,"log"),X(Xr,$r.VERBOSE,"log"),X(Xr,$r.INFO,"info"),X(Xr,$r.WARN,"warn"),X(Xr,$r.ERROR,"error"),Xr),oi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ai[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},si=function(){function e(t){xt(this,e),this.name=t,this._logLevel=ii,this._logHandler=oi,this._userLogHandler=null,ei.push(this)}return _t(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in $r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ri[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.DEBUG].concat(t)),this._logHandler.apply(this,[this,$r.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.VERBOSE].concat(t)),this._logHandler.apply(this,[this,$r.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.INFO].concat(t)),this._logHandler.apply(this,[this,$r.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.WARN].concat(t)),this._logHandler.apply(this,[this,$r.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.ERROR].concat(t)),this._logHandler.apply(this,[this,$r.ERROR].concat(t))}}]),e}();var ui=function(){function e(t){xt(this,e),this.container=t}return _t(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ci="@firebase/app",li="0.7.14",fi=new si("@firebase/app"),hi="[DEFAULT]",di=(X(ti={},ci,"fire-core"),X(ti,"@firebase/app-compat","fire-core-compat"),X(ti,"@firebase/analytics","fire-analytics"),X(ti,"@firebase/analytics-compat","fire-analytics-compat"),X(ti,"@firebase/app-check","fire-app-check"),X(ti,"@firebase/app-check-compat","fire-app-check-compat"),X(ti,"@firebase/auth","fire-auth"),X(ti,"@firebase/auth-compat","fire-auth-compat"),X(ti,"@firebase/database","fire-rtdb"),X(ti,"@firebase/database-compat","fire-rtdb-compat"),X(ti,"@firebase/functions","fire-fn"),X(ti,"@firebase/functions-compat","fire-fn-compat"),X(ti,"@firebase/installations","fire-iid"),X(ti,"@firebase/installations-compat","fire-iid-compat"),X(ti,"@firebase/messaging","fire-fcm"),X(ti,"@firebase/messaging-compat","fire-fcm-compat"),X(ti,"@firebase/performance","fire-perf"),X(ti,"@firebase/performance-compat","fire-perf-compat"),X(ti,"@firebase/remote-config","fire-rc"),X(ti,"@firebase/remote-config-compat","fire-rc-compat"),X(ti,"@firebase/storage","fire-gcs"),X(ti,"@firebase/storage-compat","fire-gcs-compat"),X(ti,"@firebase/firestore","fire-fst"),X(ti,"@firebase/firestore-compat","fire-fst-compat"),X(ti,"fire-js","fire-js"),X(ti,"firebase","fire-js-all"),ti),pi=new Map,vi=new Map;function mi(e,t){try{e.container.addComponent(t)}catch(BN){fi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),BN)}}function yi(e,t){e.container.addOrOverwriteComponent(t)}function gi(e){var t=e.name;if(vi.has(t))return fi.debug("There were multiple attempts to register component ".concat(t,".")),!1;vi.set(t,e);var n,r=yr(pi.values());try{for(r.s();!(n=r.n()).done;){mi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ki(e,t){return e.container.getProvider(t)}function bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hi;ki(e,t).clearInstance(n)}function wi(){vi.clear()}var xi,Ei,_i=(X(ni={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),X(ni,"bad-app-name","Illegal App name: '{$appName}"),X(ni,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),X(ni,"app-deleted","Firebase App named '{$appName}' already deleted"),X(ni,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),X(ni,"invalid-log-argument","First argument to `onLog` must be null or a function."),ni),Ii=new Lr("app","Firebase",_i),Ti=function(){function e(t,n,r){var i=this;xt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",(function(){return i}),"PUBLIC"))}return _t(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}]),e}(),Si="9.6.4";function Ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:hi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ii.create("bad-app-name",{appName:String(i)});var a=pi.get(i);if(a){if(Ur(e,a.options)&&Ur(r,a.config))return a;throw Ii.create("duplicate-app",{appName:i})}var o,s=new Zr(i),u=yr(vi.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ti(e,r,s);return pi.set(i,l),l}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hi,t=pi.get(e);if(!t)throw Ii.create("no-app",{appName:e});return t}function Ai(){return Array.from(pi.values())}function Pi(e){return Oi.apply(this,arguments)}function Oi(){return Oi=Q(Y.mark((function e(t){var n;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!pi.has(n)){e.next=6;break}return pi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Ri(e,t,n){var r,i=null!==(r=di[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fi.warn(s.join(" "))}gi(new Qr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Di(e,t){if(null!==e&&"function"!==typeof e)throw Ii.create("invalid-log-argument");!function(e,t){var n,r=yr(ei);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ri[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:$r[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Li(e){var t;t=e,ei.forEach((function(e){e.setLogLevel(t)}))}xi="",gi(new Qr("platform-logger",(function(e){return new ui(e)}),"PRIVATE")),Ri(ci,li,xi),Ri(ci,li,"esm2017"),Ri("fire-js","");var ji=function(){function e(t,n){var r=this;xt(this,e),this._delegate=t,this.firebase=n,mi(t,new Qr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return _t(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Pi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){mi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){yi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Mi=(X(Ei={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),X(Ei,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ei),Fi=new Lr("app-compat","Firebase",Mi);var Ui=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Fr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ri,setLogLevel:Li,onLog:Di,apps:null,SDK_VERSION:Si,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(gi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Fi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&_r(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Fr(n,e=e||hi))throw Fi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ji);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_r(n,e)},createSubscribe:Hr,ErrorFactory:Lr,deepExtend:_r}),n}(),Vi=new si("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Vi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Bi=self.firebase.SDK_VERSION;Bi&&Bi.indexOf("LITE")>=0&&Vi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var qi=Ui;!function(e){Ri("@firebase/app-compat","0.1.15",e)}();qi.registerVersion("firebase","9.6.4","app-compat");function zi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Hi;Object.create;var Wi="facebook.com",Ki="github.com",Gi="google.com",Qi="password",Yi="twitter.com",Ji="EMAIL_SIGNIN",Xi="PASSWORD_RESET",$i="RECOVER_EMAIL",Zi="REVERT_SECOND_FACTOR_ADDITION",ea="VERIFY_AND_CHANGE_EMAIL",ta="VERIFY_EMAIL";function na(){return X({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ra=function(){var e;return X(e={},"admin-restricted-operation","This operation is restricted to administrators only."),X(e,"argument-error",""),X(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),X(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),X(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),X(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),X(e,"cordova-not-ready","Cordova framework is not ready."),X(e,"cors-unsupported","This browser is not supported."),X(e,"credential-already-in-use","This credential is already associated with a different user account."),X(e,"custom-token-mismatch","The custom token corresponds to a different audience."),X(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),X(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),X(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),X(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),X(e,"email-already-in-use","The email address is already in use by another account."),X(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),X(e,"expired-action-code","The action code has expired."),X(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),X(e,"internal-error","An internal AuthError has occurred."),X(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),X(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),X(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),X(e,"invalid-auth-event","An internal AuthError has occurred."),X(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),X(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),X(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),X(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),X(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),X(e,"invalid-email","The email address is badly formatted."),X(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),X(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),X(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),X(e,"invalid-credential","The supplied auth credential is malformed or has expired."),X(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),X(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),X(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),X(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),X(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),X(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),X(e,"wrong-password","The password is invalid or the user does not have a password."),X(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),X(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),X(e,"invalid-provider-id","The specified provider ID is invalid."),X(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),X(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),X(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),X(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),X(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),X(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),X(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),X(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),X(e,"missing-continue-uri","A continue URL must be provided in the request."),X(e,"missing-iframe-start","An internal AuthError has occurred."),X(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),X(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),X(e,"missing-multi-factor-info","No second factor identifier is provided."),X(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),X(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),X(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),X(e,"app-deleted","This instance of FirebaseApp has been deleted."),X(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),X(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),X(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),X(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),X(e,"no-auth-event","An internal AuthError has occurred."),X(e,"no-such-provider","User was not linked to an account with the given provider."),X(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),X(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),X(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),X(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),X(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),X(e,"provider-already-linked","User can only be linked to one identity for the given provider."),X(e,"quota-exceeded","The project's quota for this operation has been exceeded."),X(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),X(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),X(e,"rejected-credential","The request contains malformed or mismatching credentials."),X(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),X(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),X(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),X(e,"timeout","The operation has timed out."),X(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),X(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),X(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),X(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),X(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),X(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),X(e,"unverified-email","The operation requires a verified email."),X(e,"user-cancelled","The user did not grant your application the permissions it requested."),X(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),X(e,"user-disabled","The user account has been disabled by an administrator."),X(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),X(e,"user-signed-out",""),X(e,"weak-password","The password must be 6 characters long or more."),X(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),X(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ia=na,aa=new Lr("auth","Firebase",na()),oa=new si("@firebase/auth");function sa(e){if(oa.logLevel<=$r.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];oa.error.apply(oa,["Auth (".concat(Si,"): ").concat(e)].concat(n))}}function ua(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ha.apply(void 0,[e].concat(n))}function ca(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ha.apply(void 0,[e].concat(n))}function la(e,t,n){var r=Object.assign(Object.assign({},ia()),X({},t,n));return new Lr("auth","Firebase",r).create(t,{appName:e.name})}function fa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ua(e,"argument-error"),la(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ha(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=wt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(wt(o)))}return aa.create.apply(aa,[e].concat(n))}function da(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ha.apply(void 0,[t].concat(r))}}function pa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw sa(t),new Error(t)}function va(e,t){e||pa(t)}var ma=new Map;function ya(e){va(e instanceof Function,"Expected a class definition");var t=ma.get(e);return t?(va(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ma.set(e,t),t)}function ga(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ka(){return"http:"===ba()||"https:"===ba()}function ba(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var wa=function(){function e(t,n){xt(this,e),this.shortDelay=t,this.longDelay=n,va(n>t,"Short delay should be less than long delay!"),this.isMobile=Cr()||Pr()}return _t(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ka()||Ar()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function xa(e,t){va(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ea=function(){function e(){xt(this,e)}return _t(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),_a=(X(Hi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),X(Hi,"MISSING_CUSTOM_TOKEN","internal-error"),X(Hi,"INVALID_IDENTIFIER","invalid-email"),X(Hi,"MISSING_CONTINUE_URI","internal-error"),X(Hi,"INVALID_PASSWORD","wrong-password"),X(Hi,"MISSING_PASSWORD","internal-error"),X(Hi,"EMAIL_EXISTS","email-already-in-use"),X(Hi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),X(Hi,"INVALID_IDP_RESPONSE","invalid-credential"),X(Hi,"INVALID_PENDING_TOKEN","invalid-credential"),X(Hi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),X(Hi,"MISSING_REQ_TYPE","internal-error"),X(Hi,"EMAIL_NOT_FOUND","user-not-found"),X(Hi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),X(Hi,"EXPIRED_OOB_CODE","expired-action-code"),X(Hi,"INVALID_OOB_CODE","invalid-action-code"),X(Hi,"MISSING_OOB_CODE","internal-error"),X(Hi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),X(Hi,"INVALID_ID_TOKEN","invalid-user-token"),X(Hi,"TOKEN_EXPIRED","user-token-expired"),X(Hi,"USER_NOT_FOUND","user-token-expired"),X(Hi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),X(Hi,"INVALID_CODE","invalid-verification-code"),X(Hi,"INVALID_SESSION_INFO","invalid-verification-id"),X(Hi,"INVALID_TEMPORARY_PROOF","invalid-credential"),X(Hi,"MISSING_SESSION_INFO","missing-verification-id"),X(Hi,"SESSION_EXPIRED","code-expired"),X(Hi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),X(Hi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),X(Hi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),X(Hi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),X(Hi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),X(Hi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),X(Hi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),X(Hi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),X(Hi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),X(Hi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),X(Hi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Hi),Ia=new wa(3e4,6e4);function Ta(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Sa(e,t,n,r){return Ca.apply(this,arguments)}function Ca(){return Ca=Q(J().mark((function e(t,n,r,i){var a,o=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Na(t,a,Q(J().mark((function e(){var a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Br(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ea.fetch()(Ra(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Na(e,t,n){return Aa.apply(this,arguments)}function Aa(){return Aa=Q(J().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},_a),n),e.prev=2,a=new Da(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw La(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=K(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw La(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw La(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw la(t,d,h);case 30:ua(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Dr)){e.next=37;break}throw e.t0;case 37:ua(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Aa.apply(this,arguments)}function Pa(e,t,n,r){return Oa.apply(this,arguments)}function Oa(){return Oa=Q(J().mark((function e(t,n,r,i){var a,o,s=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Sa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ua(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Ra(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?xa(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Da=function(){function e(t){var n=this;xt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ca(n.auth,"network-request-failed"))}),Ia.get())}))}return _t(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function La(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ca(e,t,r);return i.customData._tokenResponse=n,i}function ja(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function Va(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function qa(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(BN){}}function za(){return za=Q(J().mark((function e(t){var n,r,i,a,o,s,u=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Gr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,da((a=Wa(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:qa(Ha(a.auth_time)),issuedAtTime:qa(Ha(a.iat)),expirationTime:qa(Ha(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ha(e){return 1e3*Number(e)}function Wa(e){var t=K(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return sa("JWT malformed, contained fewer than 3 sections"),null;try{var a=Er(r);return a?JSON.parse(a):(sa("Failed to decode base64 JWT payload"),null)}catch(BN){return sa("Caught error parsing JWT payload as JSON",BN),null}}function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=Q(J().mark((function e(t,n){var r=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Dr&&Qa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ga.apply(this,arguments)}function Qa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ya=function(){function e(t){xt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return _t(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ja=function(){function e(t,n){xt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return _t(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xa(e){return $a.apply(this,arguments)}function $a(){return $a=Q(J().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ka(t,Va(r,{idToken:i}));case 6:da(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?to(o.providerUserInfo):[],u=eo(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ja(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Za(){return(Za=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gr(t),e.next=3,Xa(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(wt(n),wt(t))}function to(e){return e.map((function(e){var t=e.providerId,n=zi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=Q(J().mark((function e(t,n){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(t,{},Q(J().mark((function e(){var r,i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Br({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Ra(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ea.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}var io=function(){function e(){xt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return _t(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){da(e.idToken,"internal-error"),da("undefined"!==typeof e.idToken,"internal-error"),da("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Wa(e);return da(t,"internal-error"),da("undefined"!==typeof t.exp,"internal-error"),da("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Q(J().mark((function e(t){var n,r=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],da(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,no(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return pa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(da("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(da("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(da("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ao(e,t){da("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var oo=function(){function e(t){xt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=zi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ya(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Ja(a.createdAt||void 0,a.lastLoginAt||void 0)}return _t(e,[{key:"getIdToken",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(da(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return za.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Za.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(da(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){da(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Q(J().mark((function e(t){var n,r,i=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xa(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ka(this,ja(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;da(k&&E,t,"internal-error");var _=io.fromJSON(this.name,E);da("string"===typeof k,t,"internal-error"),ao(f,t.name),ao(h,t.name),da("boolean"===typeof b,t,"internal-error"),da("boolean"===typeof w,t,"internal-error"),ao(d,t.name),ao(p,t.name),ao(v,t.name),ao(m,t.name),ao(y,t.name),ao(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Q(J().mark((function t(n,r){var i,a,o,s=arguments;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new io).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xa(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),so=function(){function e(){xt(this,e),this.type="NONE",this.storage={}}return _t(e,[{key:"_isAvailable",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();so.type="NONE";var uo=so;function co(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var lo=function(){function e(t,n,r){xt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=co(this.userKey,a.apiKey,o),this.fullPersistenceKey=co("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return _t(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?oo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Q(J().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ya(uo),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ya(uo),s=co(i,n.config.apiKey,n.name),u=null,c=yr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=oo._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function fo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ho(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(go(t))return"Blackberry";if(ko(t))return"Webos";if(po(t))return"Safari";if((t.includes("chrome/")||vo(t))&&!t.includes("edge/"))return"Chrome";if(yo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/firefox\//i.test(e)}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/crios\//i.test(e)}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/iemobile/i.test(e)}function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/android/i.test(e)}function go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/blackberry/i.test(e)}function ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/webos/i.test(e)}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/iphone|ipad|ipod/i.test(e)}function wo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return bo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function xo(){return Or()&&10===document.documentMode}function Eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return bo(e)||yo(e)||ko(e)||go(e)||/windows phone/i.test(e)||mo(e)}function _o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=fo(Sr());break;case"Worker":t="".concat(fo(Sr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Si,"/").concat(r)}var Io=function(){function e(t,n){xt(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new So(this),this.idTokenSubscription=new So(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aa,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return _t(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ya(t)),this._initializationPromise=this.queue(Q(J().mark((function r(){var i,a;return J().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,lo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Q(J().mark((function e(t){var n,r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return da(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xa(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Gr(t):null)&&da(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Q(J().mark((function e(t){var n=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&da(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Q(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ya(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Lr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Q(J().mark((function e(t,n){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return da(n=t&&ya(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,lo.create(this,[ya(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Q(J().mark((function e(t){var n=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return da(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return da(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_o(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function To(e){return Gr(e)}var So=function(){function e(t){var n=this;xt(this,e),this.auth=t,this.observer=null,this.addObserver=Hr((function(e){return n.observer=e}))}return _t(e,[{key:"next",get:function(){return da(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Co(e,t,n){var r=To(e);da(r._canInitEmulator,r,"emulator-config-failed"),da(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=No(t),o=function(e){var t=No(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ao(r.substr(a.length+1))}}var o=K(r.split(":"),2);return{host:o[0],port:Ao(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function No(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ao(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Po=function(){function e(t,n){xt(this,e),this.providerId=t,this.signInMethod=n}return _t(e,[{key:"toJSON",value:function(){return pa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return pa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return pa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return pa("not implemented")}}]),e}();function Oo(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:resetPassword",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Do(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function jo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Fo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:signInWithPassword",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:sendOobCode",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function qo(e,t){return zo.apply(this,arguments)}function zo(){return zo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,n));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Ho(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,n));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return Go=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,n));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Qo(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,n));case 1:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Jo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function $o(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}var es=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return xt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return _t(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Jo(t,{email:this._email,oobCode:this._password}));case 5:ua(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Do(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$o(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ua(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Po);function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:signInWithIdp",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}var rs=function(e){hn(n,e);var t=yn(n);function n(){var e;return xt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return _t(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ts(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ts(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ts(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Br(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ua("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=zi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Po);function is(e,t){return as.apply(this,arguments)}function as(){return as=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:sendVerificationCode",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(){return os=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:signInWithPhoneNumber",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function ss(){return ss=Q(J().mark((function e(t,n){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(t,"POST","/v1/accounts:signInWithPhoneNumber",Ta(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw La(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}var us=X({},"USER_NOT_FOUND","user-not-found");function cs(){return cs=Q(J().mark((function e(t,n){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Pa(t,"POST","/v1/accounts:signInWithPhoneNumber",Ta(t,r),us));case 2:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}var ls=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return _t(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return os.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ss.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return cs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Po);var fs=function(){function e(t){var n,r,i,a,o,s;xt(this,e);var u=qr(zr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);da(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return _t(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=qr(zr(e)).link,n=t?qr(zr(t)).deep_link_id:null,r=qr(zr(e)).deep_link_id;return(r?qr(zr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_I){return null}}}]),e}();var hs=function(){function e(){xt(this,e),this.providerId=e.PROVIDER_ID}return _t(e,null,[{key:"credential",value:function(e,t){return es._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=fs.parseLink(t);return da(n,"argument-error"),es._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();hs.PROVIDER_ID="password",hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ds=function(){function e(t){xt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return _t(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ps=function(e){hn(n,e);var t=yn(n);function n(){var e;return xt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return _t(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return wt(this.scopes)}}]),n}(ds),vs=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return da(e.idToken||e.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return da("providerId"in t&&"signInMethod"in t,"argument-error"),rs._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(BN){return null}}}]),n}(ps),ms=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.call(this,"facebook.com")}return _t(n,null,[{key:"credential",value:function(e){return rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_I){return null}}}]),n}(ps);ms.FACEBOOK_SIGN_IN_METHOD="facebook.com",ms.PROVIDER_ID="facebook.com";var ys=function(e){hn(n,e);var t=yn(n);function n(){var e;return xt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return _t(n,null,[{key:"credential",value:function(e,t){return rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_I){return null}}}]),n}(ps);ys.GOOGLE_SIGN_IN_METHOD="google.com",ys.PROVIDER_ID="google.com";var gs=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.call(this,"github.com")}return _t(n,null,[{key:"credential",value:function(e){return rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_I){return null}}}]),n}(ps);gs.GITHUB_SIGN_IN_METHOD="github.com",gs.PROVIDER_ID="github.com";var ks=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return _t(n,[{key:"_getIdTokenResponse",value:function(e){return ts(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ts(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ts(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Po),bs=function(e){hn(n,e);var t=yn(n);function n(e){return xt(this,n),da(e.startsWith("saml."),"argument-error"),t.call(this,e)}return _t(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ks.fromJSON(e);return da(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ks._create(r,n)}catch(BN){return null}}}]),n}(ds),ws=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.call(this,"twitter.com")}return _t(n,null,[{key:"credential",value:function(e,t){return rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_I){return null}}}]),n}(ps);function xs(e,t){return Es.apply(this,arguments)}function Es(){return Es=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:signUp",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}ws.TWITTER_SIGN_IN_METHOD="twitter.com",ws.PROVIDER_ID="twitter.com";var _s=function(){function e(t){xt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return _t(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Q(J().mark((function t(n,r,i){var a,o,s,u,c=arguments;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,oo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Is(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Q(J().mark((function t(n,r,i){var a;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Is(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Is(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ts(){return Ts=Q(J().mark((function e(t){var n,r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=To(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new _s({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,xs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,_s._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}var Ss=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o,s;return xt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(vn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return _t(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Dr);function Cs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ss._fromErrorAndOperation(e,n,t,r);throw n}))}function Ns(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function As(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gr(t),e.next=3,Ds(!0,r,n);case 3:return e.t0=Fa,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ns(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Os(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=Q(J().mark((function e(t,n){var r,i,a=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ka,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",_s._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ds(e,t,n){return Ls.apply(this,arguments)}function Ls(){return(Ls=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(n);case 2:i=Ns(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",da(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=Q(J().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ka(t,Cs(i,a,n,t),r);case 6:return da((o=e.sent).idToken,i,"internal-error"),da(s=Wa(o.idToken),i,"internal-error"),u=s.sub,da(t.uid===u,i,"user-mismatch"),e.abrupt("return",_s._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ua(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ms.apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return Us=Q(J().mark((function e(t,n){var r,i,a,o,s=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Cs(t,i,n);case 4:return a=e.sent,e.next=7,_s._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function Vs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fs(To(t),n));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function qs(e,t){return zs.apply(this,arguments)}function zs(){return(zs=Q(J().mark((function e(t,n){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gr(t),e.next=3,Ds(!1,r,n.providerId);case 3:return e.abrupt("return",Os(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",js(Gr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:signInWithCustomToken",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Qs(){return Qs=Q(J().mark((function e(t,n){var r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=To(t),e.next=3,Ks(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,_s._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}var Ys=function(){function e(t,n){xt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return _t(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Js._fromServerResponse(e,t):ua(e,"internal-error")}}]),e}(),Js=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return _t(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ys);function Xs(e,t,n){var r;da((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),da("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(da(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(da(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $s(){return $s=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gr(t),a={requestType:"PASSWORD_RESET",email:n},r&&Xs(i,a,r),e.next=5,Ho(i,a);case 5:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Zs(){return Zs=Q(J().mark((function e(t,n,r){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(Gr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function eu(){return eu=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(Gr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gr(t),e.next=3,Oo(r,{oobCode:n});case 3:i=e.sent,da(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return da(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:da(i.mfaInfo,r,"internal-error");case 13:da(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ys._fromServerResponse(To(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(){return ru=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu(Gr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return au=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),e.next=3,xs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,_s._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(){return ou=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gr(t),a={requestType:"EMAIL_SIGNIN",email:n},da(r.handleCodeInApp,i,"argument-error"),r&&Xs(i,a,r),e.next=6,Ko(i,a);case 6:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(){return su=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gr(t),da((a=hs.credentialWithLink(n,r||ga()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Vs(i,a));case 4:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function uu(e,t){return cu.apply(this,arguments)}function cu(){return cu=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:createAuthUri",Ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(){return lu=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka()?ga():"http://localhost",i={identifier:n,continueUri:r},e.next=4,uu(Gr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(){return(fu=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Xs(r.auth,a,n),e.next=8,qo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(){return(hu=Q(J().mark((function e(t,n,r){var i,a,o,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Xs(i.auth,o,r),e.next=8,Qo(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(){return(vu=Q(J().mark((function e(t,n){var r,i,a,o,s,u,c;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Gr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ka(a,du(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e,t,n){return yu.apply(this,arguments)}function yu(){return yu=Q(J().mark((function e(t,n,r){var i,a,o,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ka(t,Do(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}var gu=_t((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ku=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o;return xt(this,n),(o=t.call(this,e,r,i)).username=a,o}return _t(n)}(gu),bu=function(e){hn(n,e);var t=yn(n);function n(e,r){return xt(this,n),t.call(this,e,"facebook.com",r)}return _t(n)}(gu),wu=function(e){hn(n,e);var t=yn(n);function n(e,r){return xt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return _t(n)}(ku),xu=function(e){hn(n,e);var t=yn(n);function n(e,r){return xt(this,n),t.call(this,e,"google.com",r)}return _t(n)}(gu),Eu=function(e){hn(n,e);var t=yn(n);function n(e,r,i){return xt(this,n),t.call(this,e,"twitter.com",r,i)}return _t(n)}(ku);function _u(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Wa(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new gu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new bu(a,i);case"github.com":return new wu(a,i);case"google.com":return new xu(a,i);case"twitter.com":return new Eu(a,i,e.screenName||null);case"custom":case"anonymous":return new gu(a,null);default:return new gu(a,r,i)}}(n)}var Iu=function(){function e(t,n){xt(this,e),this.type=t,this.credential=n}return _t(e,[{key:"toJSON",value:function(){return{multiFactorSession:X({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Tu=function(){function e(t,n,r){xt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return _t(e,[{key:"resolveSignIn",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=To(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ys._fromServerResponse(r,e)}));da(i.mfaPendingCredential,r,"internal-error");var o=Iu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Q(J().mark((function e(t){var a,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,_s._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return da(n.user,r,"internal-error"),e.abrupt("return",_s._forOperation(n.user,n.operationType,s));case 17:ua(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Su(e,t){return Sa(e,"POST","/v2/accounts/mfaEnrollment:start",Ta(e,t))}function Cu(e,t){return Sa(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ta(e,t))}var Nu=function(){function e(t){var n=this;xt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ys._fromServerResponse(t.auth,e)})))}))}return _t(e,[{key:"getSession",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Iu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Q(J().mark((function e(t,n){var r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ka(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Q(J().mark((function e(t){var n,r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Ka(this.user,Cu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Au=new WeakMap;var Pu="__sak",Ou=function(){function e(t,n){xt(this,e),this.storageRetriever=t,this.type=n}return _t(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Pu,"1"),this.storage.removeItem(Pu),Promise.resolve(!0)):Promise.resolve(!1)}catch(_I){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ru=function(e){hn(n,e);var t=yn(n);function n(){var e;return xt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Sr();return po(e)||bo(e)}()&&function(){try{return!(!window||window===window.top)}catch(BN){return!1}}(),e.fallbackToPolling=Eo(),e._shouldAllowMigration=!0,e}return _t(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);xo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Q(J().mark((function e(t,r){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(un(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Q(J().mark((function e(t){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(un(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(un(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ou);Ru.type="LOCAL";var Du=Ru,Lu=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return _t(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ou);Lu.type="SESSION";var ju=Lu;function Mu(e){return Promise.all(e.map(function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Fu=function(){function e(t){xt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return _t(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Q(J().mark((function e(t){var n,r,i,a,o,s,u,c;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Mu(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Uu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Fu.receivers=[];var Vu=function(){function e(t){xt(this,e),this.target=t,this.handlers=new Set}return _t(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Q(J().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Uu("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Bu(){return window}function qu(){return"undefined"!==typeof Bu().WorkerGlobalScope&&"function"===typeof Bu().importScripts}function zu(){return Hu.apply(this,arguments)}function Hu(){return(Hu=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Wu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ku="firebaseLocalStorageDb",Gu="firebaseLocalStorage",Qu="fbase_key",Yu=function(){function e(t){xt(this,e),this.request=t}return _t(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ju(e,t){return e.transaction([Gu],t?"readwrite":"readonly").objectStore(Gu)}function Xu(){var e=indexedDB.deleteDatabase(Ku);return new Yu(e).toPromise()}function $u(){var e=indexedDB.open(Ku,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Gu,{keyPath:Qu})}catch(BN){n(BN)}})),e.addEventListener("success",Q(J().mark((function n(){var r;return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Gu)){n.next=12;break}return r.close(),n.next=5,Xu();case 5:return n.t0=t,n.next=8,$u();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Zu(e,t,n){return ec.apply(this,arguments)}function ec(){return ec=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ju(t,!0).put((X(i={},Qu,n),X(i,"value",r),i)),e.abrupt("return",new Yu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ju(t,!1).get(n),e.next=3,new Yu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){var n=Ju(e,!0).delete(t);return new Yu(n).toPromise()}var ic=function(){function e(){xt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return _t(e,[{key:"_openDb",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,$u();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Q(J().mark((function e(){var t=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Fu._getInstance(qu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Q(J().mark((function e(n,r){var i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Q(J().mark((function e(){var t,n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Vu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Wu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,$u();case 5:return t=e.sent,e.next=8,Zu(t,Pu,"1");case 8:return e.next=10,rc(t,Pu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Q(J().mark((function e(t,n){var r=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Zu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return tc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Q(J().mark((function e(t){var n=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Q(J().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ju(e,!1).getAll();return new Yu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=yr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ic.type="LOCAL";var ac=ic;function oc(e,t){return Sa(e,"POST","/v2/accounts/mfaSignIn:start",Ta(e,t))}function sc(e){return uc.apply(this,arguments)}function uc(){return uc=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ca("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function lc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fc=1e12,hc=function(){function e(t){xt(this,e),this.auth=t,this.counter=fc,this._widgets=new Map}return _t(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new dc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||fc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||fc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||fc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),dc=function(){function e(t,n,r){var i=this;xt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;da(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return _t(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(BN){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(BN){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var pc=lc("rcb"),vc=new wa(3e4,6e4),mc="https://www.google.com/recaptcha/api.js?",yc=function(){function e(){xt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Bu().grecaptcha}return _t(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return da(gc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Bu().grecaptcha):new Promise((function(r,i){var a=Bu().setTimeout((function(){i(ca(e,"network-request-failed"))}),vc.get());Bu()[pc]=function(){Bu().clearTimeout(a),delete Bu()[pc];var o=Bu().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ca(e,"internal-error"))},cc("".concat(mc,"?").concat(Br({onload:pc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ca(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Bu().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function gc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var kc=function(){function e(){xt(this,e)}return _t(e,[{key:"load",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new hc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),bc="recaptcha",wc={theme:"light",type:"image"},xc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},wc),r=arguments.length>2?arguments[2]:void 0;xt(this,e),this.parameters=n,this.type=bc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=To(r),this.isInvisible="invisible"===this.parameters.size,da("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;da(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kc:new yc,this.validateStartingState()}return _t(e,[{key:"verify",value:function(){var e=Q(J().mark((function e(){var t,n,r,i=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(BN){return Promise.reject(BN)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){da(!this.parameters.sitekey,this.auth,"argument-error"),da(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),da("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Bu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){da(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Q(J().mark((function e(){var t,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return da(ka()&&!qu(),this.auth,"internal-error"),e.next=3,Ec();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,sc(this.auth);case 8:da(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return da(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ec(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var _c=function(){function e(t,n){xt(this,e),this.verificationId=t,this.onConfirmation=n}return _t(e,[{key:"confirm",value:function(e){var t=ls._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ic(){return Ic=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),e.next=3,Nc(i,n,Gr(r));case 3:return a=e.sent,e.abrupt("return",new _c(a,(function(e){return Vs(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Tc(e,t,n){return Sc.apply(this,arguments)}function Sc(){return(Sc=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gr(t),e.next=3,Ds(!1,i,"phone");case 3:return e.next=5,Nc(i.auth,n,Gr(r));case 5:return a=e.sent,e.abrupt("return",new _c(a,(function(e){return qs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(){return(Cc=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gr(t),e.next=3,Nc(i.auth,n,Gr(r));case 3:return a=e.sent,e.abrupt("return",new _c(a,(function(e){return Hs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t,n){return Ac.apply(this,arguments)}function Ac(){return Ac=Q(J().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,da("string"===typeof a,t,"argument-error"),da(r.type===bc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return da("enroll"===s.type,t,"internal-error"),e.next=13,Su(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return da("signin"===s.type,t,"internal-error"),da(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,oc(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,is(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ac.apply(this,arguments)}function Pc(){return(Pc=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(Gr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oc=function(){function e(t){xt(this,e),this.providerId=e.PROVIDER_ID,this.auth=To(t)}return _t(e,[{key:"verifyPhoneNumber",value:function(e,t){return Nc(this.auth,e,Gr(t))}}],[{key:"credential",value:function(e,t){return ls._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ls._fromTokenResponse(n,r):null}}]),e}();function Rc(e,t){return t?ya(t):(da(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Oc.PROVIDER_ID="phone",Oc.PHONE_SIGN_IN_METHOD="phone";var Dc=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return _t(n,[{key:"_getIdTokenResponse",value:function(e){return ts(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ts(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ts(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Po);function Lc(e){return Fs(e.auth,new Dc(e),e.bypassAuthState)}function jc(e){var t=e.auth,n=e.user;return da(n,t,"internal-error"),js(n,new Dc(e),e.bypassAuthState)}function Mc(e){return Fc.apply(this,arguments)}function Fc(){return Fc=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,da(r=t.user,n,"internal-error"),e.abrupt("return",Os(r,new Dc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}var Uc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];xt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return _t(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Q(J().mark((function t(n,r){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Q(J().mark((function e(t){var n,r,i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lc;case"linkViaPopup":case"linkViaRedirect":return Mc;case"reauthViaPopup":case"reauthViaRedirect":return jc;default:ua(this.auth,"internal-error")}}},{key:"resolve",value:function(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Vc=new wa(2e3,1e4);function Bc(e,t,n){return qc.apply(this,arguments)}function qc(){return qc=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),fa(t,n,ds),a=Rc(i,r),o=new Kc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function zc(){return(zc=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=Gr(t)).auth,n,ds),a=Rc(i.auth,r),o=new Kc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t,n){return Wc.apply(this,arguments)}function Wc(){return(Wc=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=Gr(t)).auth,n,ds),a=Rc(i.auth,r),o=new Kc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kc=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o){var s;return xt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=vn(s),s}return _t(n,[{key:"executeNotNull",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return da(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Q(J().mark((function e(){var t,n=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return va(1===this.filter.length,"Popup operations only handle one event"),t=Uu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ca(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ca(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ca(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Vc.get())}()}}]),n}(Uc);Kc.currentPopupAction=null;var Gc=new Map,Qc=function(e){hn(n,e);var t=yn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return xt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return _t(n,[{key:"execute",value:function(){var e=Q(J().mark((function e(){var t,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Gc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Yc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ln(un(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Gc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Gc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Q(J().mark((function e(t){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ln(un(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ln(un(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Uc);function Yc(e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=Q(J().mark((function e(t,n){var r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=el(n),i=Zc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function Xc(e,t){return $c.apply(this,arguments)}function $c(){return $c=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(t)._set(el(n),"true"));case 1:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Zc(e){return ya(e._redirectPersistence)}function el(e){return co("pendingRedirect",e.config.apiKey,e.name)}function tl(e,t,n){return function(e,t,n){return nl.apply(this,arguments)}(e,t,n)}function nl(){return nl=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),fa(t,n,ds),a=Rc(i,r),e.next=5,Xc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e,t,n){return function(e,t,n){return il.apply(this,arguments)}(e,t,n)}function il(){return(il=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=Gr(t)).auth,n,ds),a=Rc(i.auth,r),e.next=5,Xc(a,i.auth);case 5:return e.next=7,fl(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function al(e,t,n){return function(e,t,n){return ol.apply(this,arguments)}(e,t,n)}function ol(){return(ol=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=Gr(t)).auth,n,ds),a=Rc(i.auth,r),e.next=5,Ds(!1,i,n.providerId);case 5:return e.next=7,Xc(a,i.auth);case 7:return e.next=9,fl(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(e,t){return ul.apply(this,arguments)}function ul(){return ul=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(t)._initializationPromise;case 2:return e.abrupt("return",cl(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function cl(e,t){return ll.apply(this,arguments)}function ll(){return ll=Q(J().mark((function e(t,n){var r,i,a,o,s,u=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=To(t),a=Rc(i,n),o=new Qc(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e){return hl.apply(this,arguments)}function hl(){return(hl=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dl=function(){function e(t){xt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return _t(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!vl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ca(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(pl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function pl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function vl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ml(e){return yl.apply(this,arguments)}function yl(){return yl=Q(J().mark((function e(t){var n,r=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Sa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}var gl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kl=/^https?/;function bl(){return bl=Q(J().mark((function e(t){var n,r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ml(t);case 4:n=e.sent,r=n.authorizedDomains,i=yr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!wl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ua(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),bl.apply(this,arguments)}function wl(e){var t=ga(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!kl.test(r))return!1;if(gl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var xl=new wa(3e4,6e4);function El(){var e=Bu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=wt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var _l=null;function Il(e){return _l=_l||function(e){return new Promise((function(t,n){var r,i,a;function o(){El(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){El(),n(ca(e,"network-request-failed"))},timeout:xl.get()})}if(null===(i=null===(r=Bu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Bu().gapi)||void 0===a?void 0:a.load)){var s=lc("iframefcb");return Bu()[s]=function(){gapi.load?o():n(ca(e,"network-request-failed"))},cc("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw _l=null,e}))}(e),_l}var Tl=new wa(5e3,15e3),Sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nl(e){var t=e.config;da(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?xa(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Si},i=Cl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Br(r).slice(1))}function Al(e){return Pl.apply(this,arguments)}function Pl(){return Pl=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(t);case 2:return n=e.sent,da(r=Bu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Nl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sl,dontclear:!0},(function(e){return new Promise(function(){var n=Q(J().mark((function n(r,i){var a,o,s;return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Bu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ca(t,"network-request-failed"),o=Bu().setTimeout((function(){i(a)}),Tl.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}var Ol={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rl="_blank",Dl="http://localhost",Ll=function(){function e(t){xt(this,e),this.window=t,this.associatedEvent=null}return _t(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(BN){}}}]),e}();function jl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ol),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Sr().toLowerCase();n&&(s=vo(c)?Rl:n),ho(c)&&(t=t||Dl,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=K(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(wo(c)&&"_self"!==s)return Ml(t||"",s),new Ll(null);var f=window.open(t||"",s,l);da(f,e,"popup-blocked");try{f.focus()}catch(BN){}return new Ll(f)}function Ml(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Fl="__/auth/handler",Ul="emulator/auth/handler";function Vl(e,t,n,r,i,a){da(e.config.authDomain,e,"auth-domain-config-required"),da(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Si,eventId:i};if(t instanceof ds){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=K(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof ps){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Fl);return xa(t,Ul)}(e),"?").concat(Br(d).slice(1))}var Bl="webStorageSupport",ql=function(){function e(){xt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ju,this._completeRedirectFn=cl}return _t(e,[{key:"_openPopup",value:function(){var e=Q(J().mark((function e(t,n,r,i){var a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return va(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Vl(t,n,r,ga(),i),e.abrupt("return",jl(t,o,Uu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Q(J().mark((function e(t,n,r,i){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Vl(t,n,r,ga(),i),Bu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(va(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Al(t);case 2:return n=e.sent,r=new dl(t),n.register("authEvent",(function(e){return da(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Bl,{type:Bl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ua(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Eo()||po()||bo()}}]),e}(),zl=ql,Hl=function(){function e(t){xt(this,e),this.factorId=t}return _t(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return pa("unexpected MultiFactorSessionType")}}}]),e}(),Wl=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this,"phone")).credential=e,r}return _t(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Sa(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ta(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Sa(e,"POST","/v2/accounts/mfaSignIn:finalize",Ta(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Hl),Kl=function(){function e(){xt(this,e)}return _t(e,null,[{key:"assertion",value:function(e){return Wl._fromCredential(e)}}]),e}();Kl.FACTOR_ID="phone";var Gl,Ql="@firebase/auth",Yl="0.19.6",Jl=function(){function e(t){xt(this,e),this.auth=t,this.internalListeners=new Map}return _t(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){da(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Xl(){return window}Gl="Browser",gi(new Qr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){da(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),da(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Gl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_o(Gl)},r=new Io(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ya);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),gi(new Qr("auth-internal",(function(e){return function(e){return new Jl(e)}(To(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(Ql,Yl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Gl)),Ri(Ql,Yl,"esm2017");function $l(e,t,n){return Zl.apply(this,arguments)}function Zl(){return Zl=Q(J().mark((function e(t,n,r){var i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xl(),o=a.BuildInfo,va(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,of(n.sessionId);case 4:return s=e.sent,u={},bo()?u.ibi=o.packageName:yo()?u.apn=o.packageName:ua(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Vl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ef(){return ef=Q(J().mark((function e(t){var n,r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xl(),r=n.BuildInfo,i={},bo()?i.iosBundleId=r.packageName:yo()?i.androidPackageName=r.packageName:ua(t,"operation-not-supported-in-this-environment"),e.next=5,ml(t,i);case 5:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(e){var t=Xl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function nf(e,t,n){return rf.apply(this,arguments)}function rf(){return rf=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ca(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),yo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),rf.apply(this,arguments)}function af(e){var t,n,r,i,a,o,s,u,c,l,f=Xl();da("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),da("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),da("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),da("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),da("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function of(e){return sf.apply(this,arguments)}function sf(){return(sf=Q(J().mark((function e(t){var n,r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e){if(va(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var cf=function(e){hn(n,e);var t=yn(n);function n(){var e;return xt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return _t(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ln(un(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(dl);function lf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:vf(),postBody:null,tenantId:e.tenantId,error:ca(e,"no-auth-event")}}function ff(e,t){return mf()._set(yf(e),t)}function hf(e){return df.apply(this,arguments)}function df(){return df=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mf()._get(yf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,mf()._remove(yf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function pf(e,t){var n,r,i=function(e){var t=gf(e),n=t.link?decodeURIComponent(t.link):void 0,r=gf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return gf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=gf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(BN){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ca(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function vf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function mf(){return ya(Du)}function yf(e){return co("authEvent",e.config.apiKey,e.name)}function gf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=q(t=n)||bt(t)||H(t)||W();r[0];return qr(r.slice(1).join("?"))}var kf=function(){function e(){xt(this,e),this._redirectPersistence=ju,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cl}return _t(e,[{key:"_initialize",value:function(){var e=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new cf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ua(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Q(J().mark((function e(t,n,r,i){var a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return af(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Gc.clear(),e.next=10,this._originValidation(t);case 10:return o=lf(t,r,i),e.next=13,ff(t,o);case 13:return e.next=15,$l(t,o,n);case 15:return s=e.sent,e.next=18,tf(s);case 18:return u=e.sent,e.abrupt("return",nf(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ef.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Xl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Q(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hf(e);case 2:t.onEvent(wf());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Q(J().mark((function n(r){var i,a;return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,hf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=pf(i,r.url)),t.onEvent(a||wf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Xl().handleOpenURL=function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(BN){console.error(BN)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),bf=kf;function wf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ca("no-auth-event")}}function xf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return!("file:"!==xf()&&"ionic:"!==xf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _f(){return Or()&&11===(null===document||void 0===document?void 0:document.documentMode)}function If(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/Edge\/\d+/.test(e)}function Tf(){try{var e=self.localStorage,t=Uu();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return _f()||If(e)}()||Rr()}catch(BN){return Sf()&&Rr()}return!1}function Sf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Cf(){return("http:"===xf()||"https:"===xf()||Ar()||Ef())&&!(Pr()||Nr())&&Tf()&&!Sf()}function Nf(){return Ef()&&"undefined"!==typeof document}function Af(){return Pf.apply(this,arguments)}function Pf(){return(Pf=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Of={LOCAL:"local",NONE:"none",SESSION:"session"},Rf=da,Df="persistence";function Lf(e,t){Rf(Object.values(Of).includes(t),e,"invalid-persistence-type"),Pr()?Rf(t!==Of.SESSION,e,"unsupported-persistence-type"):Nr()?Rf(t===Of.NONE,e,"unsupported-persistence-type"):Sf()?Rf(t===Of.NONE||t===Of.LOCAL&&Rr(),e,"unsupported-persistence-type"):Rf(t===Of.NONE||Tf(),e,"unsupported-persistence-type")}function jf(e){return Mf.apply(this,arguments)}function Mf(){return Mf=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Ff(),r=co(Df,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(){return"undefined"!==typeof window?window:null}var Uf=da,Vf=function(){function e(){xt(this,e),this.browserResolver=ya(zl),this.cordovaResolver=ya(bf),this.underlyingResolver=null,this._redirectPersistence=ju,this._completeRedirectFn=cl}return _t(e,[{key:"_initialize",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Q(J().mark((function e(t,n,r,i){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Q(J().mark((function e(t,n,r,i){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Nf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Uf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Af();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bf(e){return e.unwrap()}function qf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Gf(e,function(e,t){var n,r=Gr(e),i=t;return da(t.customData.operationType,r,"argument-error"),da(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Tu._fromError(r,i)}(e,t));else if(r){var i=zf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function zf(e){var t=(e instanceof Dr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Dr)&&"temporaryProof"in t&&"phoneNumber"in t)return Oc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Qi)return null;switch(r){case Gi:n=ys;break;case Wi:n=ms;break;case Ki:n=gs;break;case Yi:n=ws;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?ks._create(r,s):rs._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new vs(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Dr?n.credentialFromError(e):n.credentialFromResult(e)}function Hf(e,t){return t.catch((function(t){throw t instanceof Dr&&qf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zf(t)),additionalUserInfo:_u(e),user:Qf.getOrCreate(r)}}))}function Wf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=Q(J().mark((function e(t,n){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Hf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}var Gf=function(){function e(t,n){xt(this,e),this.resolver=n,this.auth=t.wrapped()}return _t(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Hf(Bf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Qf=function(){function e(t){xt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Gr(e);return Au.has(t)||Au.set(t,Nu._fromUser(t)),Au.get(t)}(t)}return _t(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(this.auth,qs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(this.auth,Tc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(this.auth,Hc(this._delegate,t,Vf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(To(this.auth));case 2:return e.abrupt("return",al(this._delegate,t,Vf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(this.auth,Hs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Wf(this.auth,function(e,t,n){return Cc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Hf(this.auth,function(e,t,n){return zc.apply(this,arguments)}(this._delegate,e,Vf))}},{key:"reauthenticateWithRedirect",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(To(this.auth));case 2:return e.abrupt("return",rl(this._delegate,t,Vf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return fu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return mu(Gr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return mu(Gr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Pc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return vu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return hu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Qf.USER_MAP=new WeakMap;var Yf=da,Jf=function(){function e(t,n){if(xt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Yf(r,"invalid-api-key",{appName:t.name}),Yf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Vf:void 0;this._delegate=n.initialize({options:{persistence:$f(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ra),this.linkUnderlyingAuth()}return _t(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Qf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Co(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return eu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return tu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Zs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(this._delegate,iu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return lu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=fs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yf(Cf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sl(this._delegate,Vf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Hf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){To(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Xf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Xf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ou.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return $s.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lf(this._delegate,t),e.t0=t,e.next=e.t0===Of.SESSION?4:e.t0===Of.LOCAL?6:e.t0===Of.NONE?11:13;break;case 4:return n=ju,e.abrupt("break",14);case 6:return e.next=8,ya(ac)._isAvailable();case 8:return r=e.sent,n=r?ac:Du,e.abrupt("break",14);case 11:return n=uo,e.abrupt("break",14);case 13:return e.abrupt("return",ua("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Hf(this._delegate,function(e){return Ts.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Hf(this._delegate,Vs(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Hf(this._delegate,function(e,t){return Qs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Hf(this._delegate,function(e,t,n){return Vs(Gr(e),hs.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Hf(this._delegate,function(e,t,n){return su.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Wf(this._delegate,function(e,t,n){return Ic.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yf(Cf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Hf(this._delegate,Bc(this._delegate,t,Vf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yf(Cf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jf(this._delegate);case 3:return e.abrupt("return",tl(this._delegate,t,Vf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ru.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Xf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Qf.getOrCreate(e))},error:t,complete:n}}function $f(e,t){var n=function(e,t){var n=Ff();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=co(Df,e,t);switch(n.sessionStorage.getItem(r)){case Of.NONE:return[uo];case Of.LOCAL:return[ac,ju];case Of.SESSION:return[ju];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ac)||n.push(ac),"undefined"!==typeof window)for(var r=0,i=[Du,ju];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(uo)||n.push(uo),n}Jf.Persistence=Of;var Zf=function(){function e(){xt(this,e),this.providerId="phone",this._delegate=new Oc(Bf(qi.auth()))}return _t(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Oc.credential(e,t)}}]),e}();Zf.PHONE_SIGN_IN_METHOD=Oc.PHONE_SIGN_IN_METHOD,Zf.PROVIDER_ID=Oc.PROVIDER_ID;var eh,th=da,nh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qi.app();xt(this,e),th(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xc(t,n,i.auth()),this.type=this._delegate.type}return _t(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(eh=qi).INTERNAL.registerComponent(new Qr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Jf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ji,PASSWORD_RESET:Xi,RECOVER_EMAIL:$i,REVERT_SECOND_FACTOR_ADDITION:Zi,VERIFY_AND_CHANGE_EMAIL:ea,VERIFY_EMAIL:ta}},EmailAuthProvider:hs,FacebookAuthProvider:ms,GithubAuthProvider:gs,GoogleAuthProvider:ys,OAuthProvider:vs,SAMLAuthProvider:bs,PhoneAuthProvider:Zf,PhoneMultiFactorGenerator:Kl,RecaptchaVerifier:nh,TwitterAuthProvider:ws,Auth:Jf,AuthCredential:Po,Error:Dr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),eh.registerVersion("@firebase/auth-compat","0.2.6");var rh,ih="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ah={},oh=oh||{},sh=ih||self;function uh(){}function ch(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fh="closure_uid_"+(1e9*Math.random()>>>0),hh=0;function dh(e,t,n){return e.call.apply(e.bind,arguments)}function ph(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vh(e,t,n){return(vh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dh:ph).apply(null,arguments)}function mh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function gh(){this.s=this.s,this.o=this.o}var kh={};gh.prototype.s=!1,gh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,fh)&&e[fh]||(e[fh]=++hh)}(this);delete kh[e]}},gh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function xh(e){return Array.prototype.concat.apply([],arguments)}function Eh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _h(e){return/^[\s\xa0]*$/.test(e)}var Ih,Th=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Sh(e,t){return-1!=e.indexOf(t)}function Ch(e,t){return e<t?-1:e>t?1:0}e:{var Nh=sh.navigator;if(Nh){var Ah=Nh.userAgent;if(Ah){Ih=Ah;break e}}Ih=""}function Ph(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Oh(e){var t={};for(var n in e)t[n]=e[n];return t}var Rh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Rh.length;a++)n=Rh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lh(e){return Lh[" "](e),e}Lh[" "]=uh;var jh,Mh=Sh(Ih,"Opera"),Fh=Sh(Ih,"Trident")||Sh(Ih,"MSIE"),Uh=Sh(Ih,"Edge"),Vh=Uh||Fh,Bh=Sh(Ih,"Gecko")&&!(Sh(Ih.toLowerCase(),"webkit")&&!Sh(Ih,"Edge"))&&!(Sh(Ih,"Trident")||Sh(Ih,"MSIE"))&&!Sh(Ih,"Edge"),qh=Sh(Ih.toLowerCase(),"webkit")&&!Sh(Ih,"Edge");function zh(){var e=sh.document;return e?e.documentMode:void 0}e:{var Hh="",Wh=function(){var e=Ih;return Bh?/rv:([^\);]+)(\)|;)/.exec(e):Uh?/Edge\/([\d\.]+)/.exec(e):Fh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qh?/WebKit\/(\S+)/.exec(e):Mh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wh&&(Hh=Wh?Wh[1]:""),Fh){var Kh=zh();if(null!=Kh&&Kh>parseFloat(Hh)){jh=String(Kh);break e}}jh=Hh}var Gh,Qh={};function Yh(){return function(e){var t=Qh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Th(String(jh)).split("."),n=Th("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ch(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ch(0==a[2].length,0==o[2].length)||Ch(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(sh.document&&Fh){var Jh=zh();Gh=Jh||(parseInt(jh,10)||void 0)}else Gh=void 0;var Xh=Gh,$h=function(){if(!sh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sh.addEventListener("test",uh,t),sh.removeEventListener("test",uh,t)}catch(n){}return e}();function Zh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ed(e,t){if(Zh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bh){e:{try{Lh(t.nodeName);var i=!0;break e}catch(v){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:td[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ed.Z.h.call(this)}}Zh.prototype.h=function(){this.defaultPrevented=!0},yh(ed,Zh);var td={2:"touch",3:"pen",4:"mouse"};ed.prototype.h=function(){ed.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nd="closure_listenable_"+(1e6*Math.random()|0),rd=0;function id(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++rd,this.ca=this.fa=!1}function ad(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function od(e){this.src=e,this.g={},this.h=0}function sd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=bh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ad(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ud(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}od.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ud(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new id(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var cd="closure_lm_"+(1e6*Math.random()|0),ld={};function fd(e,t,n,r,i){if(r&&r.once)return dd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fd(e,t[a],n,r,i);return null}return n=bd(n),e&&e[nd]?e.N(t,n,lh(r)?!!r.capture:!!r,i):hd(e,t,n,!1,r,i)}function hd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=lh(i)?!!i.capture:!!i,s=gd(e);if(s||(e[cd]=s=new od(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=yd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$h||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(md(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)dd(e,t[a],n,r,i);return null}return n=bd(n),e&&e[nd]?e.O(t,n,lh(r)?!!r.capture:!!r,i):hd(e,t,n,!0,r,i)}function pd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)pd(e,t[a],n,r,i);else r=lh(r)?!!r.capture:!!r,n=bd(n),e&&e[nd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ud(a=e.g[t],n,r,i))&&(ad(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=gd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ud(t,n,r,i)),(n=-1<e?t[e]:null)&&vd(n))}function vd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[nd])sd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(md(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gd(t))?(sd(n,e),0==n.h&&(n.src=null,t[cd]=null)):ad(e)}}}function md(e){return e in ld?ld[e]:ld[e]="on"+e}function yd(e,t){if(e.ca)e=!0;else{t=new ed(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&vd(e),e=n.call(r,t)}return e}function gd(e){return(e=e[cd])instanceof od?e:null}var kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function bd(e){return"function"===typeof e?e:(e[kd]||(e[kd]=function(t){return e.handleEvent(t)}),e[kd])}function wd(){gh.call(this),this.i=new od(this),this.P=this,this.I=null}function xd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Zh(t,e);else if(t instanceof Zh)t.target=t.target||e;else{var i=t;Dh(t=new Zh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ed(o,r,!0,t)&&i}if(i=Ed(o=t.g=e,r,!0,t)&&i,i=Ed(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ed(o=t.g=n[a],r,!1,t)&&i}function Ed(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&sd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}yh(wd,gh),wd.prototype[nd]=!0,wd.prototype.removeEventListener=function(e,t,n,r){pd(this,e,t,n,r)},wd.prototype.M=function(){if(wd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ad(n[r]);delete t.g[e],t.h--}}this.I=null},wd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},wd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _d=sh.JSON.stringify;function Id(){var e=Rd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Td,Sd=function(){function e(){xt(this,e),this.h=this.g=null}return _t(e,[{key:"add",value:function(e,t){var n=Cd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Cd=new(function(){function e(t,n){xt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return _t(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Nd}),(function(e){return e.reset()})),Nd=function(){function e(){xt(this,e),this.next=this.g=this.h=null}return _t(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ad(e){sh.setTimeout((function(){throw e}),0)}function Pd(e,t){Td||function(){var e=sh.Promise.resolve(void 0);Td=function(){e.then(Dd)}}(),Od||(Td(),Od=!0),Rd.add(e,t)}var Od=!1,Rd=new Sd;function Dd(){for(var e;e=Id();){try{e.h.call(e.g)}catch(n){Ad(n)}var t=Cd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Od=!1}function Ld(e,t){wd.call(this),this.h=e||1,this.g=t||sh,this.j=vh(this.kb,this),this.l=Date.now()}function jd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Md(e,t,n){if("function"===typeof e)n&&(e=vh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vh(e.handleEvent,e)}return 2147483647<Number(t)?-1:sh.setTimeout(e,t||0)}function Fd(e){e.g=Md((function(){e.g=null,e.i&&(e.i=!1,Fd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}yh(Ld,wd),(rh=Ld.prototype).da=!1,rh.S=null,rh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xd(this,"tick"),this.da&&(jd(this),this.start()))}},rh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rh.M=function(){Ld.Z.M.call(this),jd(this),delete this.g};var Ud=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return _t(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Fd(this)}},{key:"M",value:function(){ln(un(n.prototype),"M",this).call(this),this.g&&(sh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(gh);function Vd(e){gh.call(this),this.h=e,this.g={}}yh(Vd,gh);var Bd=[];function qd(e,t,n,r){Array.isArray(n)||(n&&(Bd[0]=n.toString()),n=Bd);for(var i=0;i<n.length;i++){var a=fd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zd(e){Ph(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vd(e)}),e),e.g={}}function Hd(){this.g=!0}function Wd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return _d(n)}catch(F){return t}}(e,n)+(r?" "+r:"")}))}Vd.prototype.M=function(){Vd.Z.M.call(this),zd(this)},Vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hd.prototype.Aa=function(){this.g=!1},Hd.prototype.info=function(){};var Kd={},Gd=null;function Qd(){return Gd=Gd||new wd}function Yd(e){Zh.call(this,Kd.Ma,e)}function Jd(e){var t=Qd();xd(t,new Yd(t,e))}function Xd(e,t){Zh.call(this,Kd.STAT_EVENT,e),this.stat=t}function $d(e){var t=Qd();xd(t,new Xd(t,e))}function Zd(e,t){Zh.call(this,Kd.Na,e),this.size=t}function ep(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return sh.setTimeout((function(){e()}),t)}Kd.Ma="serverreachability",yh(Yd,Zh),Kd.STAT_EVENT="statevent",yh(Xd,Zh),Kd.Na="timingevent",yh(Zd,Zh);var tp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},np={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rp(){}function ip(e){return e.h||(e.h=e.i())}function ap(){}rp.prototype.h=null;var op,sp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function up(){Zh.call(this,"d")}function cp(){Zh.call(this,"c")}function lp(){}function fp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Vd(this),this.P=dp,e=Vh?125:void 0,this.W=new Ld(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hp}function hp(){this.i=null,this.g="",this.h=!1}yh(up,Zh),yh(cp,Zh),yh(lp,rp),lp.prototype.g=function(){return new XMLHttpRequest},lp.prototype.i=function(){return{}},op=new lp;var dp=45e3,pp={},vp={};function mp(e,t,n){e.K=1,e.v=Up(Rp(t)),e.s=n,e.U=!0,yp(e,null)}function yp(e,t){e.F=Date.now(),wp(e),e.A=Rp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),$p(n.h,"t",r),e.C=0,n=e.l.H,e.h=new hp,e.g=em(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ud(vh(e.Ia,e,e.g),e.O)),qd(e.V,e.g,"readystatechange",e.gb),t=e.H?Oh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Jd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function gp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function kp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=bp(e,n))==vp){4==t&&(e.o=4,$d(14),i=!1),Wd(e.j,e.m,null,"[Incomplete Response]");break}if(r==pp){e.o=4,$d(15),Wd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wd(e.j,e.m,r,null),Tp(e,r)}gp(e)&&r!=vp&&r!=pp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,$d(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kv(t),t.L=!0,$d(11))):(Wd(e.j,e.m,n,"[Invalid Chunked Response]"),Ip(e),_p(e))}function bp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vp:(n=Number(t.substring(n,r)),isNaN(n)?pp:(r+=1)+n>t.length?vp:(t=t.substr(r,n),e.C=r+n,t))}function wp(e){e.Y=Date.now()+e.P,xp(e,e.P)}function xp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ep(vh(e.eb,e),t)}function Ep(e){e.B&&(sh.clearTimeout(e.B),e.B=null)}function _p(e){0==e.l.G||e.I||Yv(e.l,e)}function Ip(e){Ep(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,jd(e.W),zd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ov(n.i,e)))if(n.I=e.N,!e.J&&ov(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qv(n),Mv(n)}Wv(n),$d(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ep(vh(n.ab,n),6e3));if(1>=av(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Xv(n,11)}else if((e.J||n.g==e)&&Qv(n),!_h(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Sh(l,"spdy")||Sh(l,"quic")||Sh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(sv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Fp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Zv(r,r.H?r.la:null,r.W),d.J){uv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ep(p),wp(p)),r.g=d}else Hv(r);0<n.l.length&&Vv(n)}else"stop"!=a[0]&&"close"!=a[0]||Xv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xv(n,7):jv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Jd(4)}catch(a){}}function Sp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ch(e)||"string"===typeof e)wh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ch(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ch(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Cp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Np(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ap(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ap(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ap(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(rh=fp.prototype).setTimeout=function(e){this.P=e},rh.gb=function(e){e=e.target;var t=this.L;t&&3==Pv(e)?t.l():this.Ia(e)},rh.Ia=function(e){try{if(e==this.g)e:{var t=Pv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Vh||this.g&&(this.h.h||this.g.ga()||Ov(this.g)))){this.I||4!=t||7==n||Jd(8==n||0>=r?3:2),Ep(this);var i=this.g.ba();this.N=i;t:if(gp(this)){var a=Ov(this.g);e="";var o=a.length,s=4==Pv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ip(this),_p(this);var u="";break t}this.h.i=new sh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_h(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,$d(12),Ip(this),_p(this);break e}Wd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tp(this,i)}this.U?(kp(this,t,u),Vh&&this.i&&3==t&&(qd(this.V,this.W,"tick",this.fb),this.W.start())):(Wd(this.j,this.m,u,null),Tp(this,u)),4==t&&Ip(this),this.i&&!this.I&&(4==t?Yv(this.l,this):(this.i=!1,wp(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,$d(12)):(this.o=0,$d(13)),Ip(this),_p(this)}}}catch(t){}},rh.fb=function(){if(this.g){var e=Pv(this.g),t=this.g.ga();this.C<t.length&&(Ep(this),kp(this,e,t),this.i&&4!=e&&wp(this))}},rh.cancel=function(){this.I=!0,Ip(this)},rh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Jd(3),$d(17)),Ip(this),this.o=2,_p(this)):xp(this,this.Y-e)},(rh=Cp.prototype).R=function(){Np(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},rh.T=function(){return Np(this),this.g.concat()},rh.get=function(e,t){return Ap(this.h,e)?this.h[e]:t},rh.set=function(e,t){Ap(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},rh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Pp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Op(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Op){this.g=void 0!==t?t:e.g,Dp(this,e.j),this.s=e.s,Lp(this,e.i),jp(this,e.m),this.l=e.l,t=e.h;var n=new Qp;n.i=t.i,t.g&&(n.g=new Cp(t.g),n.h=t.h),Mp(this,n),this.o=e.o}else e&&(n=String(e).match(Pp))?(this.g=!!t,Dp(this,n[1]||"",!0),this.s=Vp(n[2]||""),Lp(this,n[3]||"",!0),jp(this,n[4]),this.l=Vp(n[5]||"",!0),Mp(this,n[6]||"",!0),this.o=Vp(n[7]||"")):(this.g=!!t,this.h=new Qp(null,this.g))}function Rp(e){return new Op(e)}function Dp(e,t,n){e.j=n?Vp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lp(e,t,n){e.i=n?Vp(t,!0):t}function jp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Mp(e,t,n){t instanceof Qp?(e.h=t,function(e,t){t&&!e.j&&(Yp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jp(this,t),$p(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Bp(t,Kp)),e.h=new Qp(t,e.g))}function Fp(e,t,n){e.h.set(t,n)}function Up(e){return Fp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Op.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bp(t,zp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bp(t,zp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bp(n,"/"==n.charAt(0)?Wp:Hp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bp(n,Gp)),e.join("")};var zp=/[#\/\?@]/g,Hp=/[#\?:]/g,Wp=/[#\?]/g,Kp=/[#\?@]/g,Gp=/#/g;function Qp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yp(e){e.g||(e.g=new Cp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jp(e,t){Yp(e),t=Zp(e,t),Ap(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ap((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Np(e)))}function Xp(e,t){return Yp(e),t=Zp(e,t),Ap(e.g.h,t)}function $p(e,t,n){Jp(e,t),0<n.length&&(e.i=null,e.g.set(Zp(e,t),Eh(n)),e.h+=n.length)}function Zp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rh=Qp.prototype).add=function(e,t){Yp(this),this.i=null,e=Zp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rh.forEach=function(e,t){Yp(this),this.g.forEach((function(n,r){wh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},rh.T=function(){Yp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},rh.R=function(e){Yp(this);var t=[];if("string"===typeof e)Xp(this,e)&&(t=xh(t,this.g.get(Zp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xh(t,e[n])}return t},rh.set=function(e,t){return Yp(this),this.i=null,Xp(this,e=Zp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},rh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ev=_t((function e(t,n){xt(this,e),this.h=t,this.g=n}));function tv(e){this.l=e||rv,sh.PerformanceNavigationTiming?e=0<(e=sh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(sh.g&&sh.g.Ea&&sh.g.Ea()&&sh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nv,rv=10;function iv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function av(e){return e.h?1:e.g?e.g.size:0}function ov(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sv(e,t){e.g?e.g.add(t):e.h=t}function uv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=yr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Eh(e.i)}function lv(){}function fv(){this.g=new lv}function hv(e,t,n){var r=n||"";try{Sp(e,(function(e,n){var i=e;lh(e)&&(i=_d(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(BN){throw t.push(r+"type="+encodeURIComponent("_badmap")),BN}}function dv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(v){}}function pv(e){this.l=e.$b||null,this.j=e.ib||!1}function vv(e,t){wd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tv.prototype.cancel=function(){if(this.i=cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=yr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},lv.prototype.stringify=function(e){return sh.JSON.stringify(e,void 0)},lv.prototype.parse=function(e){return sh.JSON.parse(e,void 0)},yh(pv,rp),pv.prototype.g=function(){return new vv(this.l,this.j)},pv.prototype.i=(nv={},function(){return nv}),yh(vv,wd);var mv=0;function yv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function gv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kv(e)}function kv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rh=vv.prototype).open=function(e,t){if(this.readyState!=mv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kv(this)},rh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||sh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gv(this)),this.readyState=mv},rh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kv(this)),this.g&&(this.readyState=3,kv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof sh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},rh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gv(this):kv(this),3==this.readyState&&yv(this)}},rh.Ua=function(e){this.g&&(this.response=this.responseText=e,gv(this))},rh.Ta=function(e){this.g&&(this.response=e,gv(this))},rh.ha=function(){this.g&&gv(this)},rh.setRequestHeader=function(e,t){this.v.append(e,t)},rh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bv=sh.JSON.parse;function wv(e){wd.call(this),this.headers=new Cp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xv,this.K=this.L=!1}yh(wv,wd);var xv="",Ev=/^https?$/i,_v=["POST","PUT"];function Iv(e){return"content-type"==e.toLowerCase()}function Tv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Sv(e),Nv(e)}function Sv(e){e.D||(e.D=!0,xd(e,"complete"),xd(e,"error"))}function Cv(e){if(e.h&&"undefined"!=typeof oh&&(!e.C[1]||4!=Pv(e)||2!=e.ba()))if(e.v&&4==Pv(e))Md(e.Fa,0,e);else if(xd(e,"readystatechange"),4==Pv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pp)[1]||null;if(!a&&sh.self&&sh.self.location){var o=sh.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ev.test(a?a.toLowerCase():"")}t=i}if(t)xd(e,"complete"),xd(e,"success");else{e.m=6;try{var s=2<Pv(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Sv(e)}}finally{Nv(e)}}}function Nv(e,t){if(e.g){Av(e);var n=e.g,r=e.C[0]?uh:null;e.g=null,e.C=null,t||xd(e,"ready");try{n.onreadystatechange=r}catch(BN){}}}function Av(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(sh.clearTimeout(e.A),e.A=null)}function Pv(e){return e.g?e.g.readyState:0}function Ov(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Rv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ph(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Fp(e,t,n))}function Dv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lv(e){this.za=0,this.l=[],this.h=new Hd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dv("baseRetryDelayMs",5e3,e),this.$a=Dv("retryDelaySeedMs",1e4,e),this.Ya=Dv("forwardChannelMaxRetries",2,e),this.ra=Dv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new tv(e&&e.concurrentRequestLimit),this.Ca=new fv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function jv(e){if(Fv(e),3==e.G){var t=e.V++,n=Rp(e.F);Fp(n,"SID",e.J),Fp(n,"RID",t),Fp(n,"TYPE","terminate"),qv(e,n),(t=new fp(e,e.h,t,void 0)).K=2,t.v=Up(Rp(n)),n=!1,sh.navigator&&sh.navigator.sendBeacon&&(n=sh.navigator.sendBeacon(t.v.toString(),"")),!n&&sh.Image&&((new Image).src=t.v,n=!0),n||(t.g=em(t.l,null),t.g.ea(t.v)),t.F=Date.now(),wp(t)}$v(e)}function Mv(e){e.g&&(Kv(e),e.g.cancel(),e.g=null)}function Fv(e){Mv(e),e.u&&(sh.clearTimeout(e.u),e.u=null),Qv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&sh.clearTimeout(e.m),e.m=null)}function Uv(e,t){e.l.push(new ev(e.Za++,t)),3==e.G&&Vv(e)}function Vv(e){iv(e.i)||e.m||(e.m=!0,Pd(e.Ha,e),e.C=0)}function Bv(e,t){var n;n=t?t.m:e.V++;var r=Rp(e.F);Fp(r,"SID",e.J),Fp(r,"RID",n),Fp(r,"AID",e.U),qv(e,r),e.o&&e.s&&Rv(r,e.o,e.s),n=new fp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),sv(e.i,n),mp(n,r,t)}function qv(e,t){e.j&&Sp({},(function(e,n){Fp(t,n,e)}))}function zv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?vh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{hv(l,o,"req"+c+"_")}catch(N){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hv(e){e.g||e.u||(e.Y=1,Pd(e.Ga,e),e.A=0)}function Wv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ep(vh(e.Ga,e),Jv(e,e.A)),e.A++,!0)}function Kv(e){null!=e.B&&(sh.clearTimeout(e.B),e.B=null)}function Gv(e){e.g=new fp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Rp(e.oa);Fp(t,"RID","rpc"),Fp(t,"SID",e.J),Fp(t,"CI",e.N?"0":"1"),Fp(t,"AID",e.U),qv(e,t),Fp(t,"TYPE","xmlhttp"),e.o&&e.s&&Rv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Up(Rp(t)),n.s=null,n.U=!0,yp(n,e)}function Qv(e){null!=e.v&&(sh.clearTimeout(e.v),e.v=null)}function Yv(e,t){var n=null;if(e.g==t){Qv(e),Kv(e),e.g=null;var r=2}else{if(!ov(e.i,t))return;n=t.D,uv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xd(r=Qd(),new Zd(r,n,t,i)),Vv(e)}else Hv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(av(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ep(vh(e.Ha,e,t),Jv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xv(e,5);break;case 4:Xv(e,10);break;case 3:Xv(e,6);break;default:Xv(e,2)}}function Jv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=vh(e.jb,e);n||(n=new Op("//www.google.com/images/cleardot.gif"),sh.location&&"http"==sh.location.protocol||Dp(n,"https"),Up(n)),function(e,t){var n=new Hd;if(sh.Image){var r=new Image;r.onload=mh(dv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mh(dv,n,r,"TestLoadImage: error",!1,t),r.onabort=mh(dv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mh(dv,n,r,"TestLoadImage: timeout",!1,t),sh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else $d(2);e.G=0,e.j&&e.j.va(t),$v(e),Fv(e)}function $v(e){e.G=0,e.I=-1,e.j&&(0==cv(e.i).length&&0==e.l.length||(e.i.i.length=0,Eh(e.l),e.l.length=0),e.j.ua())}function Zv(e,t,n){var r=function(e){return e instanceof Op?Rp(e):new Op(e,void 0)}(n);if(""!=r.i)t&&Lp(r,t+"."+r.i),jp(r,r.m);else{var i=sh.location;r=function(e,t,n,r){var i=new Op(null,void 0);return e&&Dp(i,e),t&&Lp(i,t),n&&jp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ph(e.aa,(function(e,t){Fp(r,t,e)})),t=e.D,n=e.sa,t&&n&&Fp(r,t,n),Fp(r,"VER",e.ma),qv(e,r),r}function em(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new wv(new pv({ib:!0})):new wv(e.qa)).L=e.H,t}function tm(){}function nm(){if(Fh&&!(10<=Number(Xh)))throw Error("Environmental error: no available transport.")}function rm(e,t){wd.call(this),this.g=new Lv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!_h(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_h(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new om(this)}function im(e){up.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function am(){cp.call(this),this.status=1}function om(e){this.g=e}(rh=wv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():op.g(),this.C=this.u?ip(this.u):ip(op),this.g.onreadystatechange=vh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(v){return void Tv(this,v)}e=n||"";var i=new Cp(this.headers);r&&Sp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Iv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=sh.FormData&&e instanceof sh.FormData,!(0<=bh(_v,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Av(this),0<this.B&&((this.K=function(e){return Fh&&Yh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vh(this.pa,this)):this.A=Md(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(v){Tv(this,v)}},rh.pa=function(){"undefined"!=typeof oh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xd(this,"timeout"),this.abort(8))},rh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xd(this,"complete"),xd(this,"abort"),Nv(this))},rh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nv(this,!0)),wv.Z.M.call(this)},rh.Fa=function(){this.s||(this.F||this.v||this.l?Cv(this):this.cb())},rh.cb=function(){Cv(this)},rh.ba=function(){try{return 2<Pv(this)?this.g.status:-1}catch(nv){return-1}},rh.ga=function(){try{return this.g?this.g.responseText:""}catch(nv){return""}},rh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bv(t)}},rh.Da=function(){return this.m},rh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(rh=Lv.prototype).ma=8,rh.G=1,rh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},rh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Dh(n=Oh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zv(this,t,r),Fp(i=Rp(this.F),"RID",e),Fp(i,"CVER",22),this.D&&Fp(i,"X-HTTP-Session-Id",this.D),qv(this,i),this.o&&n&&Rv(i,this.o,n),sv(this.i,t),this.Ra&&Fp(i,"TYPE","init"),this.ja?(Fp(i,"$req",r),Fp(i,"SID","null"),t.$=!0,mp(t,i,null)):mp(t,i,r),this.G=2}}else 3==this.G&&(e?Bv(this,e):0==this.l.length||iv(this.i)||Bv(this))},rh.Ga=function(){if(this.u=null,Gv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ep(vh(this.bb,this),e)}},rh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$d(10),Mv(this),Gv(this))},rh.ab=function(){null!=this.v&&(this.v=null,Mv(this),Wv(this),$d(19))},rh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),$d(2)):(this.h.info("Failed to ping google.com"),$d(1))},(rh=tm.prototype).xa=function(){},rh.wa=function(){},rh.va=function(){},rh.ua=function(){},rh.Oa=function(){},nm.prototype.g=function(e,t){return new rm(e,t)},yh(rm,wd),rm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Pd(vh(e.hb,e,t))),$d(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Zv(e,null,e.W),Vv(e)},rm.prototype.close=function(){jv(this.g)},rm.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Uv(this.g,t)}else this.v?((t={}).__data__=_d(e),Uv(this.g,t)):Uv(this.g,e)},rm.prototype.M=function(){this.g.j=null,delete this.j,jv(this.g),delete this.g,rm.Z.M.call(this)},yh(im,up),yh(am,cp),yh(om,tm),om.prototype.xa=function(){xd(this.g,"a")},om.prototype.wa=function(e){xd(this.g,new im(e))},om.prototype.va=function(e){xd(this.g,new am(e))},om.prototype.ua=function(){xd(this.g,"b")},nm.prototype.createWebChannel=nm.prototype.g,rm.prototype.send=rm.prototype.u,rm.prototype.open=rm.prototype.m,rm.prototype.close=rm.prototype.close,tp.NO_ERROR=0,tp.TIMEOUT=8,tp.HTTP_ERROR=6,np.COMPLETE="complete",ap.EventType=sp,sp.OPEN="a",sp.CLOSE="b",sp.ERROR="c",sp.MESSAGE="d",wd.prototype.listen=wd.prototype.N,wv.prototype.listenOnce=wv.prototype.O,wv.prototype.getLastError=wv.prototype.La,wv.prototype.getLastErrorCode=wv.prototype.Da,wv.prototype.getStatus=wv.prototype.ba,wv.prototype.getResponseJson=wv.prototype.Qa,wv.prototype.getResponseText=wv.prototype.ga,wv.prototype.send=wv.prototype.ea;var sm=ah.createWebChannelTransport=function(){return new nm},um=ah.getStatEventTarget=function(){return Qd()},cm=ah.ErrorCode=tp,lm=ah.EventType=np,fm=ah.Event=Kd,hm=ah.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dm=ah.FetchXmlHttpFactory=pv,pm=ah.WebChannel=ap,vm=ah.XhrIo=wv,mm="@firebase/firestore",ym=function(){function e(t){xt(this,e),this.uid=t}return _t(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ym.UNAUTHENTICATED=new ym(null),ym.GOOGLE_CREDENTIALS=new ym("google-credentials-uid"),ym.FIRST_PARTY=new ym("first-party-uid"),ym.MOCK_USER=new ym("mock-user");var gm="9.6.3",km=new si("@firebase/firestore");function bm(){return km.logLevel}function wm(e){if(km.logLevel<=$r.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_m);km.debug.apply(km,["Firestore (".concat(gm,"): ").concat(e)].concat(wt(i)))}}function xm(e){if(km.logLevel<=$r.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_m);km.error.apply(km,["Firestore (".concat(gm,"): ").concat(e)].concat(wt(i)))}}function Em(e){if(km.logLevel<=$r.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_m);km.warn.apply(km,["Firestore (".concat(gm,"): ").concat(e)].concat(wt(i)))}}function _m(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Im(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(gm,") INTERNAL ASSERTION FAILED: ")+e;throw xm(t),new Error(t)}function Tm(e,t){e||Im()}function Sm(e,t){return e}var Cm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nm=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return _t(n)}(Dr),Am=_t((function e(){var t=this;xt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Pm=_t((function e(t,n){xt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Om=function(){function e(){xt(this,e)}return _t(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ym.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Rm=function(){function e(t){xt(this,e),this.token=t,this.changeListener=null}return _t(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Dm=function(){function e(t){xt(this,e),this.t=t,this.currentUser=ym.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return _t(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Am;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Am,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){wm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(wm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Am)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(wm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Tm("string"==typeof n.accessToken),new Pm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Tm(null===e||"string"==typeof e),new ym(e)}}]),e}(),Lm=_t((function e(t,n,r){xt(this,e),this.type="FirstParty",this.user=ym.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),jm=function(){function e(t,n,r){xt(this,e),this.h=t,this.l=n,this.m=r}return _t(e,[{key:"getToken",value:function(){return Promise.resolve(new Lm(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ym.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Mm=_t((function e(t){xt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Fm=function(){function e(t){xt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return _t(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&wm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){wm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):wm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Tm("string"==typeof e.token),new Mm(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Um=function(){function e(t,n){var r=this;xt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return _t(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Vm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Um.I=-1;var Bm=function(){function e(){xt(this,e)}return _t(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function qm(e,t){return e<t?-1:e>t?1:0}function zm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Hm(e){return e+"\0"}var Wm=function(){function e(t,n){if(xt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return _t(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?qm(this.nanoseconds,e.nanoseconds):qm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Km=function(){function e(t){xt(this,e),this.timestamp=t}return _t(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Wm(0,0))}}]),e}();function Gm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ym(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Jm=function(){function e(t,n,r){xt(this,e),void 0===n?n=0:n>t.length&&Im(),void 0===r?r=t.length-n:r>t.length-n&&Im(),this.segments=t,this.offset=n,this.len=r}return _t(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Xm=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,wt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jm),$m=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zm=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $m.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Nm(Cm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Nm(Cm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Nm(Cm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jm),ey=function(){function e(t){xt(this,e),this.fields=t,t.sort(Zm.comparator)}return _t(e,[{key:"covers",value:function(e){var t,n=yr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return zm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ty=function(e){function t(e){xt(this,t),this.binaryString=e}return _t(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return qm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ty.EMPTY_BYTE_STRING=new ty("");var ny=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ry(e){if(Tm(!!e),"string"==typeof e){var t=0,n=ny.exec(e);if(Tm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:iy(e.seconds),nanos:iy(e.nanos)}}function iy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ay(e){return"string"==typeof e?ty.fromBase64String(e):ty.fromUint8Array(e)}function oy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sy(e){var t=e.mapValue.fields.__previous_value__;return oy(t)?sy(t):t}function uy(e){var t=ry(e.mapValue.fields.__local_write_time__.timestampValue);return new Wm(t.seconds,t.nanos)}function cy(e){return null==e}function ly(e){return 0===e&&1/e==-1/0}function fy(e){return"number"==typeof e&&Number.isInteger(e)&&!ly(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var hy=function(){function e(t){xt(this,e),this.path=t}return _t(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Xm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Xm.fromString(t))}},{key:"fromName",value:function(t){return new e(Xm.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Xm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Xm(t.slice()))}}]),e}();function dy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:10:Im()}function py(e,t){if(e===t)return!0;var n=dy(e);if(n!==dy(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uy(e).isEqual(uy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ry(e.timestampValue),r=ry(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ay(e.bytesValue).isEqual(ay(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return iy(e.geoPointValue.latitude)===iy(t.geoPointValue.latitude)&&iy(e.geoPointValue.longitude)===iy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return iy(e.integerValue)===iy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=iy(e.doubleValue),r=iy(t.doubleValue);return n===r?ly(n)===ly(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zm(e.arrayValue.values||[],t.arrayValue.values||[],py);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gm(n)!==Gm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!py(n[i],r[i])))return!1;return!0}(e,t);default:return Im()}}function vy(e,t){return void 0!==(e.values||[]).find((function(e){return py(e,t)}))}function my(e,t){if(e===t)return 0;var n=dy(e),r=dy(t);if(n!==r)return qm(n,r);switch(n){case 0:return 0;case 1:return qm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=iy(e.integerValue||e.doubleValue),r=iy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yy(e.timestampValue,t.timestampValue);case 4:return yy(uy(e),uy(t));case 5:return qm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ay(e),r=ay(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=qm(n[i],r[i]);if(0!==a)return a}return qm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qm(iy(e.latitude),iy(t.latitude));return 0!==n?n:qm(iy(e.longitude),iy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=my(n[i],r[i]);if(a)return a}return qm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=qm(r[o],a[o]);if(0!==s)return s;var u=my(n[r[o]],i[a[o]]);if(0!==u)return u}return qm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Im()}}function yy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qm(e,t);var n=ry(e),r=ry(t),i=qm(n.seconds,r.seconds);return 0!==i?i:qm(n.nanos,r.nanos)}function gy(e){return ky(e)}function ky(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ry(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ay(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,hy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=yr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ky(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=yr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ky(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Im();var t,n}function by(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wy(e){return!!e&&"integerValue"in e}function xy(e){return!!e&&"arrayValue"in e}function Ey(e){return!!e&&"nullValue"in e}function _y(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Iy(e){return!!e&&"mapValue"in e}function Ty(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Qm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ty(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ty(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Sy=function(){function e(t){xt(this,e),this.value=t}return _t(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Iy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ty(t)}},{key:"setAll",value:function(e){var t=this,n=Zm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ty(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return py(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Iy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Qm(t,(function(t,n){return e[t]=n}));var r,i=yr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ty(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Cy(e){var t=[];return Qm(e.fields,(function(e,n){var r=new Zm([e]);if(Iy(n)){var i=Cy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=yr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ey(t)}var Ny=function(){function e(t,n,r,i,a){xt(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return _t(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Sy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Sy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Km.min(),Sy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Sy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Sy.empty(),2)}}]),e}(),Ay=_t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;xt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function Py(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ay(e,t,n,r,i,a,o)}function Oy(e){var t=Sm(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+gy(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),cy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Wy(t.startAt)),t.endAt&&(n+="|ub:",n+=Wy(t.endAt)),t.R=n}return t.R}function Ry(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!py(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yy(e.startAt,t.startAt)&&Yy(e.endAt,t.endAt)}function Dy(e){return hy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ly=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return _t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(my(t,this.value)):null!==t&&dy(this.value)===dy(t)&&this.v(my(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Im()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new jy(e,t,r):"array-contains"===t?new Vy(e,r):"in"===t?new By(e,r):"not-in"===t?new qy(e,r):"array-contains-any"===t?new zy(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new My(e,n):new Fy(e,n)}}]),n}(function(){return _t((function e(){xt(this,e)}))}());var jy=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this,e,r,i)).key=hy.fromName(i.referenceValue),a}return _t(n,[{key:"matches",value:function(e){var t=hy.comparator(e.key,this.key);return this.v(t)}}]),n}(Ly),My=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e,"in",r)).keys=Uy("in",r),i}return _t(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ly),Fy=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e,"not-in",r)).keys=Uy("not-in",r),i}return _t(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ly);function Uy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return hy.fromName(e.referenceValue)}))}var Vy=function(e){hn(n,e);var t=yn(n);function n(e,r){return xt(this,n),t.call(this,e,"array-contains",r)}return _t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xy(t)&&vy(t.arrayValue,this.value)}}]),n}(Ly),By=function(e){hn(n,e);var t=yn(n);function n(e,r){return xt(this,n),t.call(this,e,"in",r)}return _t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vy(this.value.arrayValue,t)}}]),n}(Ly),qy=function(e){hn(n,e);var t=yn(n);function n(e,r){return xt(this,n),t.call(this,e,"not-in",r)}return _t(n,[{key:"matches",value:function(e){if(vy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vy(this.value.arrayValue,t)}}]),n}(Ly),zy=function(e){hn(n,e);var t=yn(n);function n(e,r){return xt(this,n),t.call(this,e,"array-contains-any",r)}return _t(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vy(t.value.arrayValue,e)}))}}]),n}(Ly),Hy=_t((function e(t,n){xt(this,e),this.position=t,this.before=n}));function Wy(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return gy(e)})).join(","))}var Ky=_t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";xt(this,e),this.field=t,this.dir=n}));function Gy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?hy.comparator(hy.fromName(o.referenceValue),n.key):my(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Yy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!py(e.position[n],t.position[n]))return!1;return!0}var Jy=_t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;xt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Xy(e,t,n,r,i,a,o,s){return new Jy(e,t,n,r,i,a,o,s)}function $y(e){return new Jy(e)}function Zy(e){return!cy(e.limit)&&"F"===e.limitType}function eg(e){return!cy(e.limit)&&"L"===e.limitType}function tg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ng(e){var t,n=yr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function rg(e){return null!==e.collectionGroup}function ig(e){var t=Sm(e);if(null===t.S){t.S=[];var n=ng(t),r=tg(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Ky(n)),t.S.push(new Ky(Zm.keyField(),"asc"));else{var i,a=!1,o=yr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Ky(Zm.keyField(),u))}}}return t.S}function ag(e){var t=Sm(e);if(!t.D)if("F"===t.limitType)t.D=Py(t.path,t.collectionGroup,ig(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=yr(ig(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ky(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Hy(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Hy(t.startAt.position,!t.startAt.before):null;t.D=Py(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function og(e,t,n){return new Jy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sg(e,t){return Ry(ag(e),ag(t))&&e.limitType===t.limitType}function ug(e){return"".concat(Oy(ag(e)),"|lt:").concat(e.limitType)}function cg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(gy(t.value));var t})).join(", "),"]")),cy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Wy(e.startAt)),e.endAt&&(t+=", endAt: "+Wy(e.endAt)),"Target(".concat(t,")")}(ag(e)),"; limitType=").concat(e.limitType,")")}function lg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=yr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=yr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Qy(e.startAt,ig(e),t))&&(!e.endAt||!Qy(e.endAt,ig(e),t))}(e,t)}function fg(e){return function(t,n){var r,i=!1,a=yr(ig(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=hg(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function hg(e,t,n){var r=e.field.isKeyField()?hy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?my(r,i):Im()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Im()}}function dg(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ly(t)?"-0":t}}function pg(e){return{integerValue:""+e}}function vg(e,t){return fy(t)?pg(t):dg(e,t)}var mg=_t((function e(){xt(this,e),this._=void 0}));function yg(e,t,n){return e instanceof bg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wg?xg(e,t):e instanceof Eg?_g(e,t):function(e,t){var n=kg(e,t),r=Tg(n)+Tg(e.N);return wy(n)&&wy(e.N)?pg(r):dg(e.k,r)}(e,t)}function gg(e,t,n){return e instanceof wg?xg(e,t):e instanceof Eg?_g(e,t):n}function kg(e,t){return e instanceof Ig?wy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var bg=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n)}(mg),wg=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this)).elements=e,r}return _t(n)}(mg);function xg(e,t){var n,r=Sg(t),i=yr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return py(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Eg=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this)).elements=e,r}return _t(n)}(mg);function _g(e,t){var n,r=Sg(t),i=yr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!py(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ig=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this)).k=e,i.N=r,i}return _t(n)}(mg);function Tg(e){return iy(e.integerValue||e.doubleValue)}function Sg(e){return xy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cg=_t((function e(t,n){xt(this,e),this.field=t,this.transform=n}));var Ng=_t((function e(t,n){xt(this,e),this.version=t,this.transformResults=n})),Ag=function(){function e(t,n){xt(this,e),this.updateTime=t,this.exists=n}return _t(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Pg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Og=_t((function e(){xt(this,e)}));function Rg(e,t,n){e instanceof Fg?function(e,t,n){var r=e.value.clone(),i=Bg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ug?function(e,t,n){if(Pg(e.precondition,t)){var r=Bg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dg(e,t,n){e instanceof Fg?function(e,t,n){if(Pg(e.precondition,t)){var r=e.value.clone(),i=qg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Mg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ug?function(e,t,n){if(Pg(e.precondition,t)){var r=qg(e.fieldTransforms,n,t),i=t.data;i.setAll(Vg(e)),i.setAll(r),t.convertToFoundDocument(Mg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Pg(e.precondition,t)&&t.convertToNoDocument(Km.min())}(e,t)}function Lg(e,t){var n,r=null,i=yr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=kg(a.transform,o||null);null!=s&&(null==r&&(r=Sy.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function jg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wg&&t instanceof wg||e instanceof Eg&&t instanceof Eg?zm(e.elements,t.elements,py):e instanceof Ig&&t instanceof Ig?py(e.N,t.N):e instanceof bg&&t instanceof bg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Mg(e){return e.isFoundDocument()?e.version:Km.min()}var Fg=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return xt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return _t(n)}(Og),Ug=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return xt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return _t(n)}(Og);function Vg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bg(e,t,n){var r=new Map;Tm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,gg(o,s,n[i]))}return r}function qg(e,t,n){var r,i=new Map,a=yr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,yg(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var zg,Hg,Wg=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return _t(n)}(Og),Kg=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return _t(n)}(Og),Gg=_t((function e(t){xt(this,e),this.count=t}));function Qg(e){switch(e){default:return Im();case Cm.CANCELLED:case Cm.UNKNOWN:case Cm.DEADLINE_EXCEEDED:case Cm.RESOURCE_EXHAUSTED:case Cm.INTERNAL:case Cm.UNAVAILABLE:case Cm.UNAUTHENTICATED:return!1;case Cm.INVALID_ARGUMENT:case Cm.NOT_FOUND:case Cm.ALREADY_EXISTS:case Cm.PERMISSION_DENIED:case Cm.FAILED_PRECONDITION:case Cm.ABORTED:case Cm.OUT_OF_RANGE:case Cm.UNIMPLEMENTED:case Cm.DATA_LOSS:return!0}}function Yg(e){if(void 0===e)return xm("GRPC error has no .code"),Cm.UNKNOWN;switch(e){case zg.OK:return Cm.OK;case zg.CANCELLED:return Cm.CANCELLED;case zg.UNKNOWN:return Cm.UNKNOWN;case zg.DEADLINE_EXCEEDED:return Cm.DEADLINE_EXCEEDED;case zg.RESOURCE_EXHAUSTED:return Cm.RESOURCE_EXHAUSTED;case zg.INTERNAL:return Cm.INTERNAL;case zg.UNAVAILABLE:return Cm.UNAVAILABLE;case zg.UNAUTHENTICATED:return Cm.UNAUTHENTICATED;case zg.INVALID_ARGUMENT:return Cm.INVALID_ARGUMENT;case zg.NOT_FOUND:return Cm.NOT_FOUND;case zg.ALREADY_EXISTS:return Cm.ALREADY_EXISTS;case zg.PERMISSION_DENIED:return Cm.PERMISSION_DENIED;case zg.FAILED_PRECONDITION:return Cm.FAILED_PRECONDITION;case zg.ABORTED:return Cm.ABORTED;case zg.OUT_OF_RANGE:return Cm.OUT_OF_RANGE;case zg.UNIMPLEMENTED:return Cm.UNIMPLEMENTED;case zg.DATA_LOSS:return Cm.DATA_LOSS;default:return Im()}}(Hg=zg||(zg={}))[Hg.OK=0]="OK",Hg[Hg.CANCELLED=1]="CANCELLED",Hg[Hg.UNKNOWN=2]="UNKNOWN",Hg[Hg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hg[Hg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hg[Hg.NOT_FOUND=5]="NOT_FOUND",Hg[Hg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hg[Hg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hg[Hg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hg[Hg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hg[Hg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hg[Hg.ABORTED=10]="ABORTED",Hg[Hg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hg[Hg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hg[Hg.INTERNAL=13]="INTERNAL",Hg[Hg.UNAVAILABLE=14]="UNAVAILABLE",Hg[Hg.DATA_LOSS=15]="DATA_LOSS";var Jg=function(){function e(t,n){xt(this,e),this.comparator=t,this.root=n||$g.EMPTY}return _t(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$g.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$g.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Xg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Xg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Xg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Xg(this.root,e,this.comparator,!0)}}]),e}(),Xg=function(){function e(t,n,r,i){xt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return _t(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),$g=function(){function e(t,n,r,i,a){xt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return _t(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Im();if(this.right.isRed())throw Im();var e=this.left.check();if(e!==this.right.check())throw Im();return e+(this.isRed()?0:1)}}]),e}();$g.EMPTY=null,$g.RED=!0,$g.BLACK=!1,$g.EMPTY=new(function(){function e(){xt(this,e),this.size=0}return _t(e,[{key:"key",get:function(){throw Im()}},{key:"value",get:function(){throw Im()}},{key:"color",get:function(){throw Im()}},{key:"left",get:function(){throw Im()}},{key:"right",get:function(){throw Im()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new $g(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Zg=function(){function e(t){xt(this,e),this.comparator=t,this.data=new Jg(this.comparator)}return _t(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ek(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ek(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ek=function(){function e(t){xt(this,e),this.iter=t}return _t(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),tk=new Jg(hy.comparator);function nk(){return tk}var rk=new Jg(hy.comparator);function ik(){return rk}var ak=new Jg(hy.comparator);function ok(){return ak}var sk=new Zg(hy.comparator);function uk(){for(var e=sk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ck=new Zg(qm);function lk(){return ck}var fk=function(){function e(t,n,r,i,a){xt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return _t(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,hk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Km.min(),r,lk(),nk(),uk())}}]),e}(),hk=function(){function e(t,n,r,i,a){xt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return _t(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ty.EMPTY_BYTE_STRING,n,uk(),uk(),uk())}}]),e}(),dk=_t((function e(t,n,r,i){xt(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),pk=_t((function e(t,n){xt(this,e),this.targetId=t,this.M=n})),vk=_t((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ty.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;xt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),mk=function(){function e(){xt(this,e),this.F=0,this.L=kk(),this.B=ty.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return _t(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=uk(),t=uk(),n=uk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Im()}})),new hk(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=kk()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),yk=function(){function e(t){xt(this,e),this.et=t,this.nt=new Map,this.st=nk(),this.it=gk(),this.rt=new Zg(qm)}return _t(e,[{key:"ot",value:function(e){var t,n=yr(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=yr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Im()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Dy(i))if(0===n){var a=new hy(i.path);this.at(t,a,Ny.newNoDocument(a,Km.min()))}else Tm(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Dy(a.target)){var o=new hy(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Ny.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=uk();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new fk(e,n,this.rt,this.st,r);return this.st=nk(),this.it=gk(),this.rt=new Zg(qm),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new mk,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Zg(qm),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||wm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new mk),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function gk(){return new Jg(hy.comparator)}function kk(){return new Jg(hy.comparator)}var bk={asc:"ASCENDING",desc:"DESCENDING"},wk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xk=_t((function e(t,n){xt(this,e),this.databaseId=t,this.C=n}));function Ek(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _k(e,t){return e.C?t.toBase64():t.toUint8Array()}function Ik(e,t){return Ek(e,t.toTimestamp())}function Tk(e){return Tm(!!e),Km.fromTimestamp(function(e){var t=ry(e);return new Wm(t.seconds,t.nanos)}(e))}function Sk(e,t){return function(e){return new Xm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ck(e){var t=Xm.fromString(e);return Tm(Zk(t)),t}function Nk(e,t){return Sk(e.databaseId,t.path)}function Ak(e,t){var n=Ck(t);if(n.get(1)!==e.databaseId.projectId)throw new Nm(Cm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nm(Cm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hy(Dk(n))}function Pk(e,t){return Sk(e.databaseId,t)}function Ok(e){var t=Ck(e);return 4===t.length?Xm.emptyPath():Dk(t)}function Rk(e){return new Xm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dk(e){return Tm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lk(e,t,n){return{name:Nk(e,t),fields:n.value.mapValue.fields}}function jk(e,t,n){var r=Ak(e,t.name),i=Tk(t.updateTime),a=new Sy({mapValue:{fields:t.fields}}),o=Ny.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Mk(e,t){return"found"in t?function(e,t){Tm(!!t.found),t.found.name,t.found.updateTime;var n=Ak(e,t.found.name),r=Tk(t.found.updateTime),i=new Sy({mapValue:{fields:t.found.fields}});return Ny.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Tm(!!t.missing),Tm(!!t.readTime);var n=Ak(e,t.missing),r=Tk(t.readTime);return Ny.newNoDocument(n,r)}(e,t):Im()}function Fk(e,t){var n;if(t instanceof Fg)n={update:Lk(e,t.key,t.value)};else if(t instanceof Wg)n={delete:Nk(e,t.key)};else if(t instanceof Ug)n={update:Lk(e,t.key,t.data),updateMask:$k(t.fieldMask)};else{if(!(t instanceof Kg))return Im();n={verify:Nk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof bg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Eg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ig)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Im()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ik(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Im()}(e,t.precondition)),n}function Uk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ag.updateTime(Tk(e.updateTime)):void 0!==e.exists?Ag.exists(e.exists):Ag.none()}(t.currentDocument):Ag.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Tm("REQUEST_TIME"===t.setToServerValue),n=new bg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Eg(i)}else"increment"in t?n=new Ig(e,t.increment):Im();var a=Zm.fromServerFormat(t.fieldPath);return new Cg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ak(e,t.update.name),a=new Sy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ey(t.map((function(e){return Zm.fromServerFormat(e)})))}(t.updateMask);return new Ug(i,a,o,n,r)}return new Fg(i,a,n,r)}if(t.delete){var s=Ak(e,t.delete);return new Wg(s,n)}if(t.verify){var u=Ak(e,t.verify);return new Kg(u,n)}return Im()}function Vk(e,t){return{documents:[Pk(e,t.path)]}}function Bk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(_y(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NAN"}};if(Ey(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_y(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NOT_NAN"}};if(Ey(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qk(e.field),op:Gk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Qk(e.field),direction:Kk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||cy(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Hk(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Hk(t.endAt)),n}function qk(e){var t=Ok(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=zk(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ky(Yk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return cy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Wk(n.startAt));var l=null;return n.endAt&&(l=Wk(n.endAt)),Xy(t,i,s,o,u,"F",c,l)}function zk(e){return e?void 0!==e.unaryFilter?[Xk(e)]:void 0!==e.fieldFilter?[Jk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return zk(e)})).reduce((function(e,t){return e.concat(t)})):Im():[]}function Hk(e){return{before:e.before,values:e.position}}function Wk(e){var t=!!e.before,n=e.values||[];return new Hy(n,t)}function Kk(e){return bk[e]}function Gk(e){return wk[e]}function Qk(e){return{fieldPath:e.canonicalString()}}function Yk(e){return Zm.fromServerFormat(e.fieldPath)}function Jk(e){return Ly.create(Yk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Im()}}(e.fieldFilter.op),e.fieldFilter.value)}function Xk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Yk(e.unaryFilter.field);return Ly.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Yk(e.unaryFilter.field);return Ly.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yk(e.unaryFilter.field);return Ly.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yk(e.unaryFilter.field);return Ly.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Im()}}function $k(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Zk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function eb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=nb(t)),t=tb(e.get(n),t);return nb(t)}function tb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function nb(e){return e+"\x01\x01"}function rb(e){var t=e.length;if(Tm(t>=2),2===t)return Tm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Im(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Im()}a=o+2}return new Xm(r)}var ib=_t((function e(t,n){xt(this,e),this.seconds=t,this.nanoseconds=n})),ab=_t((function e(t,n,r){xt(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));ab.store="owner",ab.key="owner";var ob=_t((function e(t,n,r){xt(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));ob.store="mutationQueues",ob.keyPath="userId";var sb=_t((function e(t,n,r,i,a){xt(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));sb.store="mutations",sb.keyPath="batchId",sb.userMutationsIndex="userMutationsIndex",sb.userMutationsKeyPath=["userId","batchId"];var ub=function(){function e(){xt(this,e)}return _t(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,eb(t)]}},{key:"key",value:function(e,t,n){return[e,eb(t),n]}}]),e}();ub.store="documentMutations",ub.PLACEHOLDER=new ub;var cb=_t((function e(t,n){xt(this,e),this.path=t,this.readTime=n})),lb=_t((function e(t,n){xt(this,e),this.path=t,this.version=n})),fb=_t((function e(t,n,r,i,a,o){xt(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));fb.store="remoteDocuments",fb.readTimeIndex="readTimeIndex",fb.readTimeIndexPath="readTime",fb.collectionReadTimeIndex="collectionReadTimeIndex",fb.collectionReadTimeIndexPath=["parentPath","readTime"];var hb=_t((function e(t){xt(this,e),this.byteSize=t}));hb.store="remoteDocumentGlobal",hb.key="remoteDocumentGlobalKey";var db=_t((function e(t,n,r,i,a,o,s){xt(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));db.store="targets",db.keyPath="targetId",db.queryTargetsIndexName="queryTargetsIndex",db.queryTargetsKeyPath=["canonicalId","targetId"];var pb=_t((function e(t,n,r){xt(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));pb.store="targetDocuments",pb.keyPath=["targetId","path"],pb.documentTargetsIndex="documentTargetsIndex",pb.documentTargetsKeyPath=["path","targetId"];var vb=_t((function e(t,n,r,i){xt(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));vb.key="targetGlobalKey",vb.store="targetGlobal";var mb=_t((function e(t,n){xt(this,e),this.collectionId=t,this.parent=n}));mb.store="collectionParents",mb.keyPath=["collectionId","parent"];var yb=_t((function e(t,n,r,i){xt(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));yb.store="clientMetadata",yb.keyPath="clientId";var gb=_t((function e(t,n,r){xt(this,e),this.bundleId=t,this.createTime=n,this.version=r}));gb.store="bundles",gb.keyPath="bundleId";var kb=_t((function e(t,n,r){xt(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));kb.store="namedQueries",kb.keyPath="name";var bb=[ob.store,sb.store,ub.store,fb.store,db.store,ab.store,vb.store,pb.store].concat([yb.store]).concat([hb.store]).concat([mb.store]).concat([gb.store,kb.store]),wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xb=function(){function e(){xt(this,e),this.onCommittedListeners=[]}return _t(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Eb=function(){function e(t){var n=this;xt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return _t(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Im(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=yr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),_b=function(){function e(t,n){var r=this;xt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Am,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Sb(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Ob(e.target.error);r.It.reject(new Sb(t,n))}}return _t(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(wm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Nb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Sb(n,t)}}}]),e}(),Ib=function(){function e(t,n,r){xt(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(Sr())&&xm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return _t(e,[{key:"Ct",value:function(){var e=Q(J().mark((function e(t){var n=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return wm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Sb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Nm(Cm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Nm(Cm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Sb(t,n))},i.onupgradeneeded=function(e){wm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){wm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Q(J().mark((function e(t,n,r,i){var a,o,s,u,c=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(J().mark((function e(){var n,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=_b.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Eb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,wm("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return wm("SimpleDb","Removing database:",e),Ab(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!Rr())return!1;if(e.vt())return!0;var t=Sr(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Tb=function(){function e(t){xt(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return _t(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return Ab(this.$t.delete())}}]),e}(),Sb=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,Cm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return _t(n)}(Nm);function Cb(e){return"IndexedDbTransactionError"===e.name}var Nb=function(){function e(t){xt(this,e),this.store=t}return _t(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(wm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(wm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ab(n)}},{key:"add",value:function(e){return wm("SimpleDb","ADD",this.store.name,e,e),Ab(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ab(this.store.get(e)).next((function(n){return void 0===n&&(n=null),wm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return wm("SimpleDb","DELETE",this.store.name,e),Ab(this.store.delete(e))}},{key:"count",value:function(){return wm("SimpleDb","COUNT",this.store.name),Ab(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){wm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Eb((function(n,r){t.onerror=function(e){var t=Ob(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Eb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Tb(i),o=t(i.primaryKey,i.value,a);if(o instanceof Eb){var s=o.catch((function(e){return a.done(),Eb.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return Eb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ab(e){return new Eb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ob(e.target.error);n(t)}}))}var Pb=!1;function Ob(e){var t=Ib.bt(Sr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Nm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Pb||(Pb=!0,setTimeout((function(){throw r}),0)),r}}return e}var Rb=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return _t(n)}(xb);function Db(e,t){var n=Sm(e);return Ib.Dt(n.Wt,t)}var Lb=function(){function e(t,n,r,i){xt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return _t(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Rg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=yr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Dg(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=yr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Dg(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Km.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),uk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&zm(this.mutations,e.mutations,(function(e,t){return jg(e,t)}))&&zm(this.baseMutations,e.baseMutations,(function(e,t){return jg(e,t)}))}}]),e}(),jb=function(){function e(t,n,r,i){xt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return _t(e,null,[{key:"from",value:function(t,n,r){Tm(t.mutations.length===r.length);for(var i=ok(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Mb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Km.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Km.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ty.EMPTY_BYTE_STRING;xt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return _t(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Fb=_t((function e(t){xt(this,e),this.Gt=t}));function Ub(e,t){if(t.document)return jk(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=hy.fromSegments(t.noDocument.path),r=Hb(t.noDocument.readTime),i=Ny.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=hy.fromSegments(t.unknownDocument.path),o=Hb(t.unknownDocument.version);return Ny.newUnknownDocument(a,o)}return Im()}function Vb(e,t,n){var r=Bb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Nk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ek(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new fb(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=zb(t.version),c=t.hasCommittedMutations;return new fb(null,new cb(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=zb(t.version);return new fb(new lb(l,f),null,null,!0,r,i)}return Im()}function Bb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qb(e){var t=new Wm(e[0],e[1]);return Km.fromTimestamp(t)}function zb(e){var t=e.toTimestamp();return new ib(t.seconds,t.nanoseconds)}function Hb(e){var t=new Wm(e.seconds,e.nanoseconds);return Km.fromTimestamp(t)}function Wb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Uk(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Uk(e.Gt,t)})),s=Wm.fromMillis(t.localWriteTimeMs);return new Lb(t.batchId,s,n,o)}function Kb(e){var t,n,r=Hb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hb(e.lastLimboFreeSnapshotVersion):Km.min();return void 0!==e.query.documents?(Tm(1===(n=e.query).documents.length),t=ag($y(Ok(n.documents[0])))):t=function(e){return ag(qk(e))}(e.query),new Mb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ty.fromBase64String(e.resumeToken))}function Gb(e,t){var n,r=zb(t.snapshotVersion),i=zb(t.lastLimboFreeSnapshotVersion);n=Dy(t.target)?Vk(e.Gt,t.target):Bk(e.Gt,t.target);var a=t.resumeToken.toBase64();return new db(t.targetId,Oy(t.target),r,a,t.sequenceNumber,i,n)}function Qb(e){var t=qk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?og(t,t.limit,"L"):t}var Yb=function(){function e(){xt(this,e)}return _t(e,[{key:"getBundleMetadata",value:function(e,t){return Jb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Hb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Jb(e).put({bundleId:(n=t).id,createTime:zb(Tk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Xb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Qb(t.bundledQuery),readTime:Hb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Xb(e).put(function(e){return{name:e.name,readTime:zb(Tk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Jb(e){return Db(e,gb.store)}function Xb(e){return Db(e,kb.store)}var $b=function(){function e(){xt(this,e),this.zt=new Zb}return _t(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Eb.resolve()}},{key:"getCollectionParents",value:function(e,t){return Eb.resolve(this.zt.getEntries(t))}}]),e}(),Zb=function(){function e(){xt(this,e),this.index={}}return _t(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zg(Xm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Zg(Xm.comparator)).toArray()}}]),e}(),ew=function(){function e(){xt(this,e),this.Ht=new Zb}return _t(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:eb(i)};return tw(e).put(a)}return Eb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Hm(t),""],!1,!0);return tw(e).Bt(r).next((function(e){var r,i=yr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(rb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function tw(e){return Db(e,mb.store)}var nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rw=function(){function e(t,n,r){xt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return _t(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function iw(e,t,n){var r=e.store(sb.store),i=e.store(ub.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Tm(1===s)})));var c,l=[],f=yr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ub.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Eb.waitFor(a).next((function(){return l}))}function aw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Im();t=e.noDocument}return JSON.stringify(t).length}rw.DEFAULT_COLLECTION_PERCENTILE=10,rw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rw.DEFAULT=new rw(41943040,rw.DEFAULT_COLLECTION_PERCENTILE,rw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rw.DISABLED=new rw(-1,0,0);var ow=function(){function e(t,n,r,i){xt(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return _t(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uw(e).jt({index:sb.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=cw(e),o=uw(e);return o.add({}).next((function(s){Tm("number"==typeof s);var u,c=new Lb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Fk(e.Gt,t)})),i=n.mutations.map((function(t){return Fk(e.Gt,t)}));return new sb(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Zg((function(e,t){return qm(e.canonicalString(),t.canonicalString())})),d=yr(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=ub.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ub.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),Eb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return uw(e).get(t).next((function(e){return e?(Tm(e.userId===n.userId),Wb(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Eb.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return uw(e).jt({index:sb.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Tm(t.batchId>=r),a=Wb(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uw(e).jt({index:sb.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uw(e).Bt(sb.userMutationsIndex,n).next((function(e){return e.map((function(e){return Wb(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ub.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return cw(e).jt({range:i},(function(r,i,o){var s=K(r,3),u=s[0],c=s[1],l=s[2],f=rb(c);if(u===n.userId&&t.path.isEqual(f))return uw(e).get(l).next((function(e){if(!e)throw Im();Tm(e.userId===n.userId),a.push(Wb(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zg(qm),i=[];return t.forEach((function(t){var a=ub.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=cw(e).jt({range:o},(function(e,i,a){var o=K(e,3),s=o[0],u=o[1],c=o[2],l=rb(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Eb.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ub.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Zg(qm);return cw(e).jt({range:o},(function(e,t,a){var o=K(e,3),u=o[0],c=o[1],l=o[2],f=rb(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(uw(e).get(t).next((function(e){if(null===e)throw Im();Tm(e.userId===n.userId),r.push(Wb(n.k,e))})))})),Eb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return iw(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Eb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Eb.resolve();var r=IDBKeyRange.lowerBound(ub.prefixForUser(t.userId)),i=[];return cw(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=rb(e[1]);i.push(a)}else r.done()})).next((function(){Tm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return sw(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return lw(e).get(this.userId).next((function(e){return e||new ob(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Tm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function sw(e,t,n){var r=ub.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return cw(e).jt({range:a,Kt:!0},(function(e,n,r){var a=K(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function uw(e){return Db(e,sb.store)}function cw(e){return Db(e,ub.store)}function lw(e){return Db(e,ob.store)}var fw=function(){function e(t){xt(this,e),this.se=t}return _t(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),hw=function(){function e(t,n){xt(this,e),this.referenceDelegate=t,this.k=n}return _t(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new fw(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Km.fromTimestamp(new Wm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dw(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Tm(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return dw(e).jt((function(o,s){var u=Kb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Eb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return dw(e).jt((function(e,n){var r=Kb(n);t(r)}))}},{key:"oe",value:function(e){return pw(e).get(vb.key).next((function(e){return Tm(null!==e),e}))}},{key:"ce",value:function(e,t){return pw(e).put(vb.key,t)}},{key:"ae",value:function(e,t){return dw(e).put(Gb(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Oy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dw(e).jt({range:r,index:db.queryTargetsIndexName},(function(e,n,r){var a=Kb(n);Ry(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=vw(e);return t.forEach((function(t){var o=eb(t.path);i.push(a.put(new pb(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Eb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=vw(e);return Eb.forEach(t,(function(t){var a=eb(t.path);return Eb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=vw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vw(e),i=uk();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=rb(e[1]),a=new hy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=eb(t.path),r=IDBKeyRange.bound([n],[Hm(n)],!1,!0),i=0;return vw(e).jt({index:pb.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=K(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return dw(e).get(t).next((function(e){return e?Kb(e):null}))}}]),e}();function dw(e){return Db(e,db.store)}function pw(e){return Db(e,vb.store)}function vw(e){return Db(e,pb.store)}function mw(e){return yw.apply(this,arguments)}function yw(){return yw=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Cm.FAILED_PRECONDITION&&t.message===wb){e.next=2;break}throw t;case 2:wm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}function gw(e,t){var n=K(e,2),r=n[0],i=n[1],a=K(t,2),o=a[0],s=a[1],u=qm(r,o);return 0===u?qm(i,s):u}var kw=function(){function e(t){xt(this,e),this.he=t,this.buffer=new Zg(gw),this.le=0}return _t(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bw=function(){function e(t,n){xt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return _t(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;wm("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Q(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Cb(n.t0)){n.next=12;break}wm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,mw(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ww=function(){function e(t,n){xt(this,e),this.ge=t,this.params=n}return _t(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Eb.resolve(Um.I);var r=new kw(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wm("LruGarbageCollector","Garbage collection skipped; disabled"),Eb.resolve(nw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(wm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),nw):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(wm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),bm()<=$r.DEBUG&&wm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Eb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),xw=function(){function e(t,n){xt(this,e),this.db=t,this.garbageCollector=function(e,t){return new ww(e,t)}(this,n)}return _t(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ew(e,n)}},{key:"removeReference",value:function(e,t,n){return Ew(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ew(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return lw(e).Qt((function(r){return sw(e,r,t).next((function(e){return e&&(n=!0),Eb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),vw(e).delete([0,eb(o.path)])}))}));i.push(u)}})).next((function(){return Eb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ew(e,t)}},{key:"Ie",value:function(e,t){var n,r=vw(e),i=Um.I;return r.jt({index:pb.documentTargetsIndex},(function(e,r){var a=K(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Um.I&&t(new hy(rb(n)),i),i=u,n=s):i=Um.I})).next((function(){i!==Um.I&&t(new hy(rb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ew(e,t){return vw(e).put(function(e,t){return new pb(0,eb(e.path),t)}(t,e.currentSequenceNumber))}var _w=function(){function e(t,n){xt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return _t(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=yr(n);try{for(i.s();!(r=i.n()).done;){var a=K(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Qm(this.inner,(function(t,n){var r,i=yr(n);try{for(i.s();!(r=i.n()).done;){var a=K(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ym(this.inner)}}]),e}(),Iw=function(){function e(){xt(this,e),this.changes=new _w((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return _t(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Km.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Ny.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Eb.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Tw=function(){function e(t,n){xt(this,e),this.k=t,this.Jt=n}return _t(e,[{key:"addEntry",value:function(e,t,n){return Nw(e).put(Aw(t),n)}},{key:"removeEntry",value:function(e,t){var n=Nw(e),r=Aw(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Nw(e).get(Aw(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Nw(e).get(Aw(t)).next((function(e){return{document:n.be(t,e),size:aw(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=nk();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=nk(),i=new Jg(hy.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,aw(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Eb.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Nw(e).jt({range:r},(function(e,t,r){for(var o=hy.fromSegments(e);a&&hy.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=nk(),a=t.path.length+1,o={};if(n.isEqual(Km.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Bb(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=fb.collectionReadTimeIndex}return Nw(e).jt(o,(function(e,n,o){if(e.length===a){var s=Ub(r.k,n);t.path.isPrefixOf(s.key.path)?lg(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Sw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Cw(e).get(hb.key).next((function(e){return Tm(!!e),e}))}},{key:"Re",value:function(e,t){return Cw(e).put(hb.key,t)}},{key:"be",value:function(e,t){if(t){var n=Ub(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Km.min()))return n}return Ny.newInvalidDocument(e)}}]),e}(),Sw=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new _w((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return _t(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Zg((function(e,t){return qm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Vb(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=aw(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Vb(t.De.k,Ny.newNoDocument(a,Km.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Eb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Iw);function Cw(e){return Db(e,hb.store)}function Nw(e){return Db(e,fb.store)}function Aw(e){return e.path.toArray()}var Pw=function(){function e(t){xt(this,e),this.k=t}return _t(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Tm(n<r&&n>=0&&r<=11);var a=new _b("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ab.store)}(e),function(e){e.createObjectStore(ob.store,{keyPath:ob.keyPath}),e.createObjectStore(sb.store,{keyPath:sb.keyPath,autoIncrement:!0}).createIndex(sb.userMutationsIndex,sb.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ub.store)}(e),Ow(e),function(e){e.createObjectStore(fb.store)}(e));var o=Eb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(pb.store),e.deleteObjectStore(db.store),e.deleteObjectStore(vb.store)}(e),Ow(e)),o=o.next((function(){return function(e){var t=e.store(vb.store),n=new vb(0,0,Km.min().toTimestamp(),0);return t.put(vb.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(sb.store).Bt().next((function(n){e.deleteObjectStore(sb.store),e.createObjectStore(sb.store,{keyPath:sb.keyPath,autoIncrement:!0}).createIndex(sb.userMutationsIndex,sb.userMutationsKeyPath,{unique:!0});var r=t.store(sb.store),i=n.map((function(e){return r.put(e)}));return Eb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(yb.store,{keyPath:yb.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(hb.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(fb.store);t.createIndex(fb.readTimeIndex,fb.readTimeIndexPath,{unique:!1}),t.createIndex(fb.collectionReadTimeIndex,fb.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(gb.store,{keyPath:gb.keyPath})}(e),function(e){e.createObjectStore(kb.store,{keyPath:kb.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(fb.store).jt((function(e,n){t+=aw(n)})).next((function(){var n=new hb(t);return e.store(hb.store).put(hb.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(ob.store),r=e.store(sb.store);return n.Bt().next((function(n){return Eb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(sb.userMutationsIndex,i).next((function(r){return Eb.forEach(r,(function(r){Tm(r.userId===n.userId);var i=Wb(t.k,r);return iw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(pb.store),n=e.store(fb.store);return e.store(vb.store).get(vb.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Xm(n),o=function(e){return[0,eb(e)]}(a);r.push(t.get(o).next((function(n){return n?Eb.resolve():function(n){return t.put(new pb(0,eb(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Eb.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(mb.store,{keyPath:mb.keyPath});var n=t.store(mb.store),r=new Zb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:eb(i)})}};return t.store(fb.store).jt({Kt:!0},(function(e,t){var n=new Xm(e);return i(n.popLast())})).next((function(){return t.store(ub.store).jt({Kt:!0},(function(e,t){var n=K(e,3),r=(n[0],n[1]),a=(n[2],rb(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(db.store);return n.jt((function(e,r){var i=Kb(r),a=Gb(t.k,i);return n.put(a)}))}}]),e}();function Ow(e){e.createObjectStore(pb.store,{keyPath:pb.keyPath}).createIndex(pb.documentTargetsIndex,pb.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(db.store,{keyPath:db.keyPath}).createIndex(db.queryTargetsIndexName,db.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(vb.store)}var Rw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dw=function(){function e(t,n,r,i,a,o,s,u,c,l){if(xt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new Nm(Cm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xw(this,i),this.Ge=n+"main",this.k=new Fb(u),this.ze=new Ib(this.Ge,11,new Pw(this.k)),this.He=new hw(this.referenceDelegate,this.k),this.Jt=new ew,this.Je=function(e,t){return new Tw(e,t)}(this.k,this.Jt),this.Ye=new Yb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&xm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return _t(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Nm(Cm.FAILED_PRECONDITION,Rw);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Um(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Q(J().mark((function n(r){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Q(J().mark((function t(n){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return jw(t).put(new yb(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(Cb(t))return wm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return wm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Lw(e).get(ab.key).next((function(e){return Eb.resolve(t.un(e))}))}},{key:"hn",value:function(e){return jw(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Q(J().mark((function e(){var t,n,r,i,a=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Db(e,yb.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Eb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=yr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Eb.resolve(!0):Lw(e).get(ab.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Nm(Cm.FAILED_PRECONDITION,Rw);return!1}}return!(!t.networkEnabled||!t.inForeground)||jw(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&wm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Q(J().mark((function e(){var t=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[ab.store,yb.store],(function(e){var n=new Rb(e,Um.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return jw(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return ow.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;wm("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,bb,(function(a){return i=new Rb(a,r.Be?r.Be.next():Um.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw xm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new Nm(Cm.FAILED_PRECONDITION,wb);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Lw(e).get(ab.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Nm(Cm.FAILED_PRECONDITION,Rw)}))}},{key:"an",value:function(e){var t=new ab(this.clientId,this.allowTabSynchronization,Date.now());return Lw(e).put(ab.key,t)}},{key:"cn",value:function(e){var t=this,n=Lw(e);return n.get(ab.key).next((function(e){return t.un(e)?(wm("IndexedDbPersistence","Releasing primary lease."),n.delete(ab.key)):Eb.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(xm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Nr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return wm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return xm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){xm("Failed to set zombie client id.",e)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Ib.Pt()}}]),e}();function Lw(e){return Db(e,ab.store)}function jw(e){return Db(e,yb.store)}function Mw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Fw=_t((function e(t,n){xt(this,e),this.progress=t,this.In=n})),Uw=function(){function e(t,n,r){xt(this,e),this.Je=t,this.An=n,this.Jt=r}return _t(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=yr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=yr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return hy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):rg(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new hy(t)).next((function(e){var t=ik();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ik();return this.Jt.getCollectionParents(e,i).next((function(o){return Eb.forEach(o,(function(o){var s=function(e,t){return new Jy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=yr(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=yr(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Ny.newInvalidDocument(c),r=r.insert(c,l)),Dg(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){lg(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=uk(),a=yr(t);try{for(a.s();!(r=a.n()).done;){var o,s=yr(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Ug&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Vw=function(){function e(t,n,r,i){xt(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return _t(e,null,[{key:"$n",value:function(t,n){var r,i=uk(),a=uk(),o=yr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Bw=function(){function e(){xt(this,e)}return _t(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Km.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Zy(t)||eg(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(bm()<=$r.DEBUG&&wm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),cg(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Zg(fg(e));return t.forEach((function(t,r){lg(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return bm()<=$r.DEBUG&&wm("QueryEngine","Using full collection scan to execute query:",cg(t)),this.Mn.getDocumentsMatchingQuery(e,t,Km.min())}}]),e}(),qw=function(){function e(t,n,r,i){xt(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Jg(qm),this.Kn=new _w((function(e){return Oy(e)}),Ry),this.jn=Km.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Uw(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return _t(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function zw(e,t,n,r){return new qw(e,t,n,r)}function Hw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sm(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Uw(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=uk(),u=yr(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=yr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=yr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=yr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Kw(e,t){var n=Sm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Eb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Tm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Gw(e){var t=Sm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Qw(e,t){var n=Sm(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(ty.EMPTY_BYTE_STRING,Km.min()).withLastLimboFreeSnapshotVersion(Km.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=nk();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Yw(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Km.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Eb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Yw(e,t,n,r,i){var a=uk();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=nk();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Km.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):wm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Jw(e,t){var n=Sm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Xw(e,t){var n=Sm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Eb.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Mb(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function $w(e,t,n){return Zw.apply(this,arguments)}function Zw(){return Zw=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sm(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Cb(e.t1)){e.next=12;break}throw e.t1;case 12:wm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Zw.apply(this,arguments)}function ex(e,t,n){var r=Sm(e),i=Km.min(),a=uk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Sm(e),i=r.Kn.get(n);return void 0!==i?Eb.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,ag(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Km.min(),n?a:uk())})).next((function(e){return{documents:e,zn:a}}))}))}function tx(e,t){var n=Sm(e),r=Sm(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function nx(e){var t=Sm(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Sm(e),i=nk(),a=Bb(n),o=Nw(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:fb.readTimeIndex,range:s},(function(e,t){var n=Ub(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:qb(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function rx(e){return ix.apply(this,arguments)}function ix(){return ix=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sm(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Nw(e),n=Km.min();return t.jt({index:fb.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=qb(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t,n,r){return ox.apply(this,arguments)}function ox(){return ox=Q(J().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Sm(t),o=uk(),s=nk(),u=ok(),c=yr(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Xw(a,function(e){return ag($y(Xm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Yw(e,d,s,Km.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function sx(e,t){return ux.apply(this,arguments)}function ux(){return ux=Q(J().mark((function e(t,n){var r,i,a,o=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:uk(),e.next=3,Xw(t,ag(Qb(n.bundledQuery)));case 3:return i=e.sent,a=Sm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Tk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(ty.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}var cx=function(){function e(t){xt(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return _t(e,[{key:"getBundleMetadata",value:function(e,t){return Eb.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Tk(n.createTime)}),Eb.resolve()}},{key:"getNamedQuery",value:function(e,t){return Eb.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Qb(e.bundledQuery),readTime:Tk(e.readTime)}}(t)),Eb.resolve()}}]),e}(),lx=function(){function e(){xt(this,e),this.ts=new Zg(fx.es),this.ns=new Zg(fx.ss)}return _t(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new fx(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new fx(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new hy(new Xm([])),r=new fx(n,e),i=new fx(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new hy(new Xm([])),n=new fx(t,e),r=new fx(t,e+1),i=uk();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new fx(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),fx=function(){function e(t,n){xt(this,e),this.key=t,this.fs=n}return _t(e,null,[{key:"es",value:function(e,t){return hy.comparator(e.key,t.key)||qm(e.fs,t.fs)}},{key:"ss",value:function(e,t){return qm(e.fs,t.fs)||hy.comparator(e.key,t.key)}}]),e}(),hx=function(){function e(t,n){xt(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Zg(fx.es)}return _t(e,[{key:"checkEmpty",value:function(e){return Eb.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Lb(i,t,n,r);this.An.push(a);var o,s=yr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new fx(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Eb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Eb.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Eb.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Eb.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Eb.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new fx(t,0),i=new fx(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Eb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zg(qm);return t.forEach((function(e){var t=new fx(e,0),i=new fx(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Eb.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;hy.isDocumentKey(i)||(i=i.child(""));var a=new fx(new hy(i),0),o=new Zg(qm);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Eb.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Tm(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Eb.forEach(t.mutations,(function(i){var a=new fx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new fx(t,0),r=this.ws.firstAfterOrEqual(n);return Eb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Eb.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),dx=function(){function e(t,n){xt(this,e),this.Jt=t,this.Ts=n,this.docs=new Jg(hy.comparator),this.size=0}return _t(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Eb.resolve(n?n.document.mutableCopy():Ny.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=nk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ny.newInvalidDocument(e))})),Eb.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=nk(),i=new hy(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||lg(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Eb.resolve(r)}},{key:"Es",value:function(e,t){return Eb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new px(this)}},{key:"getSize",value:function(e){return Eb.resolve(this.size)}}]),e}(),px=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this)).De=e,r}return _t(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Eb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Iw),vx=function(){function e(t){xt(this,e),this.persistence=t,this.Is=new _w((function(e){return Oy(e)}),Ry),this.lastRemoteSnapshotVersion=Km.min(),this.highestTargetId=0,this.As=0,this.Rs=new lx,this.targetCount=0,this.bs=fw.ie()}return _t(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Eb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Eb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Eb.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Eb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Eb.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new fw(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Eb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Eb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Eb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Eb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Eb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Eb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Eb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Eb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Eb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Eb.resolve(n)}},{key:"containsKey",value:function(e,t){return Eb.resolve(this.Rs.containsKey(t))}}]),e}(),mx=function(){function e(t,n){var r=this;xt(this,e),this.Ps={},this.Be=new Um(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new vx(this),this.Jt=new $b,this.Je=function(e,t){return new dx(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Fb(n),this.Ye=new cx(this.k)}return _t(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new hx(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;wm("MemoryPersistence","Starting transaction:",e);var i=new yx(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Eb.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),yx=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return _t(n)}(xb),gx=function(){function e(t){xt(this,e),this.persistence=t,this.Cs=new lx,this.Ns=null}return _t(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Im()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Eb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Eb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Eb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Eb.forEach(this.xs,(function(r){var i=hy.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Eb.or([function(){return Eb.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function kx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function wx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var xx=function(){function e(t,n,r,i){xt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return _t(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Nm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(xm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ex=function(){function e(t,n,r){xt(this,e),this.targetId=t,this.state=n,this.error=r}return _t(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nm(i.error.code,i.error.message))),a?new e(t,i.state,r):(xm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_x=function(){function e(t,n){xt(this,e),this.clientId=t,this.activeTargetIds=n}return _t(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lk(),o=0;i&&o<r.activeTargetIds.length;++o)i=fy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(xm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ix=function(){function e(t,n){xt(this,e),this.clientId=t,this.onlineState=n}return _t(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(xm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Tx=function(){function e(){xt(this,e),this.activeTargetIds=lk()}return _t(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Sx=function(){function e(t,n,r,i,a){xt(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Jg(qm),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=kx(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Tx),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return _t(e,[{key:"start",value:function(){var e=Q(J().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=yr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(kx(this.persistenceKey,i)))&&(o=_x.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=yr(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wx(this.persistenceKey,e));if(n){var r=Ex.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(wx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return wm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){wm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){wm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(wm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void xm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Q(J().mark((function e(){var r,i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Um.I;if(null!=e)try{var n=JSON.parse(e);Tm("number"==typeof n),t=n}catch(e){xm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Um.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new xx(this.currentUser,e,t,n),i=bx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=bx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=wx(this.persistenceKey,e),i=new Ex(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return _x.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xx.Os(new ym(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Ex.Os(r,t)}},{key:"Zs",value:function(e){return Ix.Os(e)}},{key:"fi",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:wm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=lk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Cx=function(){function e(){xt(this,e),this.pi=new Tx,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return _t(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Tx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Nx=function(){function e(){xt(this,e)}return _t(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ax=function(){function e(){var t=this;xt(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return _t(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){wm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=yr(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){wm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=yr(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ox=function(){function e(t){xt(this,e),this.Vi=t.Vi,this.Si=t.Si}return _t(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Rx=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return _t(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new vm;o.listenOnce(lm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case cm.NO_ERROR:var t=o.getResponseJson();wm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case cm.TIMEOUT:wm("Connection",'RPC "'+e+'" timed out'),a(new Nm(Cm.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:var n=o.getStatus();if(wm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cm).indexOf(t)>=0?t:Cm.UNKNOWN}(r.status);a(new Nm(s,r.message))}else a(new Nm(Cm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Nm(Cm.UNAVAILABLE,"Connection failed."));break;default:Im()}}finally{wm("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=sm(),a=um(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new dm({})),this.qi(o.initMessageHeaders,t,n),Cr()||Pr()||Sr().indexOf("Electron/")>=0||Or()||Sr().indexOf("MSAppHost/")>=0||Ar()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");wm("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Ox({Vi:function(e){l?wm("Connection","Not sending because WebChannel is closed:",e):(c||(wm("Connection","Opening WebChannel transport."),u.open(),c=!0),wm("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,pm.EventType.OPEN,(function(){l||wm("Connection","WebChannel transport opened.")})),h(u,pm.EventType.CLOSE,(function(){l||(l=!0,wm("Connection","WebChannel transport closed"),f.Oi())})),h(u,pm.EventType.ERROR,(function(e){l||(l=!0,Em("Connection","WebChannel transport errored:",e),f.Oi(new Nm(Cm.UNAVAILABLE,"The operation could not be completed")))})),h(u,pm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Tm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){wm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=zg[e];if(void 0!==t)return Yg(t)}(a),s=i.message;void 0===o&&(o=Cm.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new Nm(o,s)),u.close()}else wm("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,fm.STAT_EVENT,(function(e){e.stat===hm.PROXY?wm("Connection","Detected buffering proxy"):e.stat===hm.NOPROXY&&wm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){xt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return _t(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);wm("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return wm("RestConnection","Received: ",e),e}),(function(t){throw Em("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+gm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Px[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Dx(){return"undefined"!=typeof window?window:null}function Lx(){return"undefined"!=typeof document?document:null}function jx(e){return new xk(e,!0)}var Mx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;xt(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return _t(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&wm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Fx=function(){function e(t,n,r,i,a,o,s,u){xt(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Mx(t,n)}return _t(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Cm.RESOURCE_EXHAUSTED?(xm(n.toString()),xm("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Cm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=K(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Nm(Cm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return wm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(wm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ux=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o,s){var u;return xt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return _t(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Im()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Tm(void 0===t||"string"==typeof t),ty.fromBase64String(t||"")):(Tm(void 0===t||t instanceof Uint8Array),ty.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Cm.UNKNOWN:Yg(e.code);return new Nm(t,e.message||"")}(o);n=new vk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Ak(e,u.document.name),l=Tk(u.document.updateTime),f=new Sy({mapValue:{fields:u.document.fields}}),h=Ny.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new dk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Ak(e,v.document),y=v.readTime?Tk(v.readTime):Km.min(),g=Ny.newNoDocument(m,y),k=v.removedTargetIds||[];n=new dk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Ak(e,b.document),x=b.removedTargetIds||[];n=new dk([],x,w,null)}else{if(!("filter"in t))return Im();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new Gg(_),T=E.targetId;n=new pk(T,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Km.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Km.min():t.readTime?Tk(t.readTime):Km.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Rk(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Dy(r)?{documents:Vk(e,r)}:{query:Bk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=_k(e,t.resumeToken):t.snapshotVersion.compareTo(Km.min())>0&&(n.readTime=Ek(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Im()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Rk(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Fx),Vx=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o,s){var u;return xt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return _t(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ln(un(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Tm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Tm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Tk(e.updateTime):Tk(t);return n.isEqual(Km.min())&&(n=Tk(t)),new Ng(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Tk(e.commitTime);return this.listener.Cr(n,t)}return Tm(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Rk(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Fk(t.k,e)}))};this.gr(n)}}]),n}(Fx),Bx=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o;return xt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return _t(n,[{key:"Or",value:function(){if(this.$r)throw new Nm(Cm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=K(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Nm(Cm.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=K(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Nm(Cm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return _t((function e(){xt(this,e)}))}()),qx=function(){function e(t,n){xt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return _t(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(xm(t),this.Lr=!1):wm("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),zx=_t((function e(t,n,r,i,a){var o=this;xt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=eE(o),!e.t0){e.next=5;break}return wm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sm(t)).Gr.add(4),e.next=4,Kx(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Hx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new qx(r,i)}));function Hx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=Q(J().mark((function e(t){var n,r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!eE(t)){e.next=18;break}n=yr(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Wx.apply(this,arguments)}function Kx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Q(J().mark((function e(t){var n,r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yr(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Gx.apply(this,arguments)}function Qx(e,t){var n=Sm(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Zx(n)?$x(n):SE(n).lr()&&Jx(n,t))}function Yx(e,t){var n=Sm(e),r=SE(n);n.Wr.delete(t),r.lr()&&Xx(n,t),0===n.Wr.size&&(r.lr()?r._r():eE(n)&&n.Jr.set("Unknown"))}function Jx(e,t){e.Yr.X(t.targetId),SE(e).Pr(t)}function Xx(e,t){e.Yr.X(t),SE(e).vr(t)}function $x(e){e.Yr=new yk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),SE(e).start(),e.Jr.Br()}function Zx(e){return eE(e)&&!SE(e).hr()&&e.Wr.size>0}function eE(e){return 0===Sm(e).Gr.size}function tE(e){e.Yr=void 0}function nE(e){return rE.apply(this,arguments)}function rE(){return rE=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Jx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tE(t),Zx(t)?(t.Jr.Kr(n),$x(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t,n){return sE.apply(this,arguments)}function sE(){return sE=Q(J().mark((function e(t,n,r){var i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof vk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=yr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),wm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,uE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof dk?t.Yr.ot(n):n instanceof pk?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Km.min())){e.next=29;break}return e.prev=14,e.next=17,Gw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(ty.EMPTY_BYTE_STRING,n.snapshotVersion)),Xx(e,t);var r=new Mb(n.target,t,1,n.sequenceNumber);Jx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),wm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,uE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),sE.apply(this,arguments)}function uE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=Q(J().mark((function e(t,n,r){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cb(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Kx(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Gw(t.localStore)}),t.asyncQueue.enqueueRetryable(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Hx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return t().catch((function(n){return uE(e,n,t)}))}function fE(e){return hE.apply(this,arguments)}function hE(){return hE=Q(J().mark((function e(t){var n,r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sm(t),r=CE(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!dE(n)){e.next=19;break}return e.prev=3,e.next=6,Jw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,pE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,uE(n,e.t0);case 17:e.next=2;break;case 19:vE(n)&&mE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),hE.apply(this,arguments)}function dE(e){return eE(e)&&e.Qr.length<10}function pE(e,t){e.Qr.push(t);var n=CE(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function vE(e){return eE(e)&&!CE(e).hr()&&e.Qr.length>0}function mE(e){CE(e).start()}function yE(e){return gE.apply(this,arguments)}function gE(){return gE=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CE(t).kr();case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e){return bE.apply(this,arguments)}function bE(){return bE=Q(J().mark((function e(t){var n,r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CE(t),r=yr(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=jb.from(i,n,r),e.next=3,lE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,fE(t);case 5:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function EE(e,t){return _E.apply(this,arguments)}function _E(){return _E=Q(J().mark((function e(t,n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CE(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qg(i=n.code)||i===Cm.ABORTED){e.next=7;break}return r=t.Qr.shift(),CE(t).wr(),e.next=5,lE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,fE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:vE(t)&&mE(t);case 5:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function IE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Q(J().mark((function e(t,n){var r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sm(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Hx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Kx(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function SE(e){return e.Xr||(e.Xr=function(e,t,n){var r=Sm(e);return r.Or(),new Ux(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:nE.bind(null,e),Ni:iE.bind(null,e),br:oE.bind(null,e)}),e.zr.push(function(){var t=Q(J().mark((function t(n){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Zx(e)?$x(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:tE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function CE(e){return e.Zr||(e.Zr=function(e,t,n){var r=Sm(e);return r.Or(),new Vx(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:yE.bind(null,e),Ni:EE.bind(null,e),Nr:kE.bind(null,e),Cr:wE.bind(null,e)}),e.zr.push(function(){var t=Q(J().mark((function t(n){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,fE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(wm("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var NE=function(){function e(t,n,r,i,a){xt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Am,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return _t(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nm(Cm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function AE(e,t){if(xm("AsyncQueue","".concat(t,": ").concat(e)),Cb(e))return new Nm(Cm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var PE=function(){function e(t){xt(this,e),this.comparator=t?function(e,n){return t(e,n)||hy.comparator(e.key,n.key)}:function(e,t){return hy.comparator(e.key,t.key)},this.keyedMap=ik(),this.sortedSet=new Jg(this.comparator)}return _t(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),OE=function(){function e(){xt(this,e),this.eo=new Jg(hy.comparator)}return _t(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Im():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),RE=function(){function e(t,n,r,i,a,o,s,u){xt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return _t(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,PE.emptySet(n),a,r,i,!0,!1)}}]),e}(),DE=_t((function e(){xt(this,e),this.so=void 0,this.listeners=[]})),LE=_t((function e(){xt(this,e),this.queries=new _w((function(e){return ug(e)}),sg),this.onlineState="Unknown",this.io=new Set}));function jE(e,t){return ME.apply(this,arguments)}function ME(){return ME=Q(J().mark((function e(t,n){var r,i,a,o,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new DE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=AE(e.t0,"Initialization of query '".concat(cg(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&qE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ME.apply(this,arguments)}function FE(e,t){return UE.apply(this,arguments)}function UE(){return UE=Q(J().mark((function e(t,n){var r,i,a,o,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t){var n,r=Sm(e),i=!1,a=yr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=yr(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&qE(r)}function BE(e,t,n){var r=Sm(e),i=r.queries.get(t);if(i){var a,o=yr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function qE(e){e.io.forEach((function(e){e.next()}))}var zE=function(){function e(t,n,r){xt(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return _t(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=yr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new RE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=RE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),HE=function(){function e(t,n){xt(this,e),this.payload=t,this.byteLength=n}return _t(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),WE=function(){function e(t){xt(this,e),this.k=t}return _t(e,[{key:"Hn",value:function(e){return Ak(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?jk(this.k,e.document,!1):Ny.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Tk(e)}}]),e}(),KE=function(){function e(t,n,r){xt(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=GE(t)}return _t(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new WE(this.k),i=yr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=yr(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||uk()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Q(J().mark((function e(){var t,n,r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ax(this.localStore,new WE(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=yr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,sx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Fw(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function GE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var QE=_t((function e(t){xt(this,e),this.key=t})),YE=_t((function e(t){xt(this,e),this.key=t})),JE=function(){function e(t,n){xt(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=uk(),this.mutatedKeys=uk(),this.Ao=fg(t),this.Ro=new PE(this.Ao)}return _t(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new OE,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Zy(this.query)&&i.size===this.query.limit?i.last():null,c=eg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=lg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Zy(this.query)||eg(this.query))for(;o.size>this.query.limit;){var l=Zy(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Im()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new RE(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new OE,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=uk(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new YE(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new QE(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=uk();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return RE.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),XE=_t((function e(t,n,r){xt(this,e),this.query=t,this.targetId=n,this.view=r})),$E=_t((function e(t){xt(this,e),this.key=t,this.$o=!1})),ZE=function(){function e(t,n,r,i,a,o){xt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new _w((function(e){return ug(e)}),sg),this.Fo=new Map,this.Lo=new Set,this.Bo=new Jg(hy.comparator),this.Uo=new Map,this.qo=new lx,this.Ko={},this.jo=new Map,this.Qo=fw.re(),this.onlineState="Unknown",this.Wo=void 0}return _t(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function e_(e,t){return t_.apply(this,arguments)}function t_(){return t_=Q(J().mark((function e(t,n){var r,i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=G_(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Xw(r.localStore,ag(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,n_(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Qx(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t,n,r){return r_.apply(this,arguments)}function r_(){return r_=Q(J().mark((function e(t,n,r,i){var a,o,s,u,c,l;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Q(J().mark((function e(t,n,r,i){var a,o,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,ex(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(E_(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ex(t.localStore,n,!0);case 3:return a=e.sent,o=new JE(n,a.zn),s=o.Po(a.documents),u=hk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),E_(t,r,c.Co),l=new XE(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=Q(J().mark((function e(t,n){var r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sm(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!sg(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,$w(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Yx(r.remoteStore,i.targetId),w_(r,i.targetId)})).catch(mw);case 9:e.next=14;break;case 11:return w_(r,i.targetId),e.next=14,$w(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t,n){return s_.apply(this,arguments)}function s_(){return s_=Q(J().mark((function e(t,n,r){var i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Q_(t),e.prev=1,e.next=4,function(e,t){var n,r=Sm(e),i=Wm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),uk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=yr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Lg(c,n.get(c.key));null!=l&&s.push(new Ug(c.key,l,Cy(l.value.mapValue),Ag.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Jg(qm)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,T_(i,a.changes);case 9:return e.next=11,fE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=AE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),s_.apply(this,arguments)}function u_(e,t){return c_.apply(this,arguments)}function c_(){return c_=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sm(t),e.prev=1,e.next=4,Qw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Tm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Tm(n.$o):e.removedDocuments.size>0&&(Tm(n.$o),n.$o=!1))})),e.next=8,T_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,mw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),c_.apply(this,arguments)}function l_(e,t,n){var r=Sm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=yr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qE(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function f_(e,t,n){return h_.apply(this,arguments)}function h_(){return h_=Q(J().mark((function e(t,n,r){var i,a,o,s,u,c;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Sm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Jg(hy.comparator)).insert(o,Ny.newNoDocument(o,Km.min())),u=uk().add(o),c=new fk(Km.min(),new Map,new Zg(qm),s,u),e.next=9,u_(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),I_(i),e.next=16;break;case 14:return e.next=16,$w(i.localStore,n,!1).then((function(){return w_(i,n,r)})).catch(mw);case 16:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=Q(J().mark((function e(t,n){var r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sm(t),i=n.batch.batchId,e.prev=1,e.next=4,Kw(r.localStore,n);case 4:return a=e.sent,b_(r,i,null),k_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,T_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),p_.apply(this,arguments)}function v_(e,t,n){return m_.apply(this,arguments)}function m_(){return m_=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sm(t),e.prev=1,e.next=4,function(e,t){var n=Sm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Tm(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,b_(i,n,r),k_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,T_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),m_.apply(this,arguments)}function y_(e,t){return g_.apply(this,arguments)}function g_(){return g_=Q(J().mark((function e(t,n){var r,i,a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eE((r=Sm(t)).remoteStore)||wm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Sm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=AE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),g_.apply(this,arguments)}function k_(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function b_(e,t,n){var r=Sm(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function w_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=yr(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||x_(e,t)}))}function x_(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Yx(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),I_(e))}function E_(e,t,n){var r,i=yr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof QE?(e.qo.addReference(a.key,t),__(e,a)):a instanceof YE?(wm("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||x_(e,a.key)):Im()}}catch(o){i.e(o)}finally{i.f()}}function __(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(wm("SyncEngine","New document in limbo: "+n),e.Lo.add(r),I_(e))}function I_(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new hy(Xm.fromString(t)),r=e.Qo.next();e.Uo.set(r,new $E(n)),e.Bo=e.Bo.insert(n,r),Qx(e.remoteStore,new Mb(ag($y(n.path)),r,2,Um.I))}}function T_(e,t,n){return S_.apply(this,arguments)}function S_(){return S_=Q(J().mark((function e(t,n,r){var i,a,o,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sm(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Vw.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=Q(J().mark((function e(t,n){var r,i,a,o,s,u,c,l;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Eb.forEach(n,(function(t){return Eb.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Eb.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Cb(e.t0)){e.next=10;break}throw e.t0;case 10:wm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=yr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function C_(e,t){return N_.apply(this,arguments)}function N_(){return N_=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Sm(t)).currentUser.isEqual(n)){e.next=11;break}return wm("SyncEngine","User change. New user:",n.toKey()),e.next=5,Hw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Nm(Cm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,T_(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function A_(e,t){var n=Sm(e),r=n.Uo.get(t);if(r&&r.$o)return uk().add(r.key);var i=uk(),a=n.Fo.get(t);if(!a)return i;var o,s=yr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function P_(e,t){return O_.apply(this,arguments)}function O_(){return O_=Q(J().mark((function e(t,n){var r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sm(t),e.next=3,ex(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&E_(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function R_(e){return D_.apply(this,arguments)}function D_(){return D_=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sm(t),e.abrupt("return",nx(n.localStore).then((function(e){return T_(n,e)})));case 2:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function L_(e,t,n,r){return j_.apply(this,arguments)}function j_(){return j_=Q(J().mark((function e(t,n,r,i){var a,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sm(t),e.next=3,function(e,t){var n=Sm(e),r=Sm(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Eb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,fE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(b_(a,n,i||null),k_(a,n),function(e,t){Sm(Sm(e).An).ee(t)}(a.localStore,n)):Im();case 11:return e.next=13,T_(a,o);case 13:e.next=16;break;case 15:wm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function M_(e,t){return F_.apply(this,arguments)}function F_(){return F_=Q(J().mark((function e(t,n){var r,i,a,o,s,u,c,l;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G_(r=Sm(t)),Q_(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,U_(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,IE(r.remoteStore,!0);case 9:o=yr(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Qx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return w_(r,t),$w(r.localStore,t,!0)})),Yx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,U_(r,c);case 21:return function(e){var t=Sm(e);t.Uo.forEach((function(e,n){Yx(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Jg(hy.comparator)}(r),r.Wo=!1,e.next=25,IE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function U_(e,t,n){return V_.apply(this,arguments)}function V_(){return V_=Q(J().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Sm(t),a=[],o=[],s=yr(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,Xw(i.localStore,ag(f[0]));case 11:l=e.sent,h=yr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,P_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,tx(i.localStore,c);case 36:return y=e.sent,e.next=39,Xw(i.localStore,y);case 39:return l=e.sent,e.next=42,n_(i,B_(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),V_.apply(this,arguments)}function B_(e){return Xy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function q_(e){var t=Sm(e);return Sm(Sm(t.localStore).persistence).Tn()}function z_(e,t,n,r){return H_.apply(this,arguments)}function H_(){return H_=Q(J().mark((function e(t,n,r,i){var a,o,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Sm(t)).Wo){e.next=5;break}wm("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,nx(a.localStore);case 11:return o=e.sent,s=fk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,T_(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,$w(a.localStore,n,!0);case 18:return w_(a,n,i),e.abrupt("break",21);case 20:Im();case 21:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function W_(e,t,n){return K_.apply(this,arguments)}function K_(){return K_=Q(J().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=G_(t)).Wo){e.next=45;break}a=yr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return wm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,tx(i.localStore,s);case 12:return u=e.sent,e.next=15,Xw(i.localStore,u);case 15:return c=e.sent,e.next=18,n_(i,B_(u),c.targetId,!1);case 18:Qx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=yr(r),e.prev=30,h=J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,$w(i.localStore,t,!1).then((function(){Yx(i.remoteStore,t),w_(i,t)})).catch(mw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),K_.apply(this,arguments)}function G_(e){var t=Sm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=u_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=f_.bind(null,t),t.Oo.br=VE.bind(null,t.eventManager),t.Oo.zo=BE.bind(null,t.eventManager),t}function Q_(e){var t=Sm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=v_.bind(null,t),t}function Y_(e,t,n){var r=Sm(e);(function(){var e=Q(J().mark((function e(t,n,r){var i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Sm(e),r=Tk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(GE(i)),a=new KE(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,T_(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Sm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Em("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var J_=function(){function e(){xt(this,e),this.synchronizeTabs=!1}return _t(e,[{key:"initialize",value:function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=jx(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return zw(this.persistence,new Bw,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new mx(gx.ks,this.k)}},{key:"Jo",value:function(e){return new Cx}},{key:"terminate",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),X_=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return _t(n,[{key:"initialize",value:function(){var e=Q(J().mark((function e(t){var r=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(un(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,rx(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,Q_(this.tc.syncEngine);case 8:return e.next=10,fE(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return zw(this.persistence,new Bw,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new bw(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Mw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rw.withCacheSize(this.cacheSizeBytes):rw.DEFAULT;return new Dw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Dx(),Lx(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Cx}}]),n}(J_),$_=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return _t(n,[{key:"initialize",value:function(){var e=Q(J().mark((function e(t){var r,i=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(un(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Sx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:L_.bind(null,r),gi:z_.bind(null,r),yi:W_.bind(null,r),Tn:q_.bind(null,r),_i:R_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M_(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Dx();if(!Sx.Pt(t))throw new Nm(Cm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(X_),Z_=function(){function e(){xt(this,e)}return _t(e,[{key:"initialize",value:function(){var e=Q(J().mark((function e(t,n){var r=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return l_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=C_.bind(null,this.syncEngine),e.next=12,IE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LE}},{key:"createDatastore",value:function(e){var t,n=jx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Rx(t));return function(e,t,n,r){return new Bx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return l_(o.syncEngine,e,0)},a=Ax.Pt()?new Ax:new Nx,new zx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new ZE(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sm(t),wm("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Kx(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Q(J().mark((function r(){var i;return J().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var tI=function(){function e(t){xt(this,e),this.observer=t,this.muted=!1}return _t(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),nI=function(){function e(t,n){var r=this;xt(this,e),this.sc=t,this.k=n,this.metadata=new Am,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return _t(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Q(J().mark((function e(){var t,n,r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new HE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=Q(J().mark((function e(){var t,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Q(J().mark((function e(){var t,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rI=function(){function e(t){xt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return _t(e,[{key:"lookup",value:function(){var e=Q(J().mark((function e(t){var n,r=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Nm(Cm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Q(J().mark((function e(t,n){var r,i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sm(t),i=Rk(r.k)+"/documents",a={documents:n.map((function(e){return Nk(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Mk(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Tm(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Wg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Q(J().mark((function e(){var t,n=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=hy.fromPath(t);n.mutations.push(new Kg(r,n.precondition(r)))})),e.next=7,function(){var e=Q(J().mark((function e(t,n){var r,i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sm(t),i=Rk(r.k)+"/documents",a={writes:n.map((function(e){return Fk(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Im();t=Km.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nm(Cm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ag.updateTime(t):Ag.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Km.min()))throw new Nm(Cm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ag.updateTime(t)}return Ag.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),iI=function(){function e(t,n,r,i){xt(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new Mx(this.asyncQueue,"transaction_retry")}return _t(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Q(J().mark((function t(){var n,r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new rI(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!cy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Qg(t)}return!1}}]),e}(),aI=function(){function e(t,n,r,i){var a=this;xt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ym.UNAUTHENTICATED,this.clientId=Bm.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return _t(e,[{key:"getConfiguration",value:function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Nm(Cm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Am;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Q(J().mark((function n(){var r;return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=AE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function oI(e,t){return sI.apply(this,arguments)}function sI(){return sI=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),wm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Hw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function uI(e,t){return cI.apply(this,arguments)}function cI(){return cI=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,lI(t);case 3:return r=e.sent,wm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Q(J().mark((function e(t,n){var r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Sm(t)).asyncQueue.verifyOperationInProgress(),wm("RemoteStore","RemoteStore received new credentials"),i=eE(r),r.Gr.add(3),e.next=6,Kx(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Hx(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e){return fI.apply(this,arguments)}function fI(){return fI=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return wm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,oI(t,new J_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e){return dI.apply(this,arguments)}function dI(){return dI=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return wm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,uI(t,new Z_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e){return lI(e).then((function(e){return e.persistence}))}function vI(e){return lI(e).then((function(e){return e.localStore}))}function mI(e){return hI(e).then((function(e){return e.remoteStore}))}function yI(e){return hI(e).then((function(e){return e.syncEngine}))}function gI(e){return kI.apply(this,arguments)}function kI(){return kI=Q(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=e_.bind(null,n.syncEngine),r.onUnlisten=i_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Am;return e.asyncQueue.enqueueAndForget(Q(J().mark((function i(){return J().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tI({next:function(a){t.enqueueAndForget((function(){return FE(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Nm(Cm.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Nm(Cm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new zE($y(n.path),a,{includeMetadataChanges:!0,wo:!0});return jE(e,o)},i.next=3,gI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function wI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Am;return e.asyncQueue.enqueueAndForget(Q(J().mark((function i(){return J().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tI({next:function(n){t.enqueueAndForget((function(){return FE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Nm(Cm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new zE(n,a,{includeMetadataChanges:!0,wo:!0});return jE(e,o)},i.next=3,gI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var xI=_t((function e(t,n,r,i,a,o,s,u){xt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),EI=function(){function e(t,n){xt(this,e),this.projectId=t,this.database=n||"(default)"}return _t(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),_I=new Map;function II(e,t,n){if(!n)throw new Nm(Cm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function TI(e,t,n,r){if(!0===t&&!0===r)throw new Nm(Cm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function SI(e){if(!hy.isDocumentKey(e))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function CI(e){if(hy.isDocumentKey(e))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function NI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Im()}function AI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nm(Cm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=NI(e);throw new Nm(Cm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function PI(e,t){if(t<=0)throw new Nm(Cm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var OI=function(){function e(t){var n;if(xt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Nm(Cm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nm(Cm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,TI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return _t(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),RI=function(){function e(t,n,r){xt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1,t instanceof EI?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nm(Cm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new EI(e.options.projectId)}(t))}return _t(e,[{key:"app",get:function(){if(!this._app)throw new Nm(Cm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Nm(Cm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Om;switch(e.type){case"gapi":var t=e.client;return Tm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new jm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Nm(Cm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_I.get(e);t&&(wm("ComponentProvider","Removing Datastore"),_I.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function DI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=AI(e,RI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Em("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=ym.MOCK_USER;else{o=Tr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Nm(Cm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new ym(u)}e._authCredentials=new Rm(new Pm(o,s))}}var LI=function(){function e(t,n,r){xt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return _t(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),jI=function(){function e(t,n,r){xt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return _t(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),MI=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this,e,r,$y(i)))._path=i,a.type="collection",a}return _t(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new LI(this.firestore,null,new hy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(jI);function FI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gr(e),II("collection","path",t),e instanceof RI){var a=Xm.fromString.apply(Xm,[t].concat(r));return CI(a),new MI(e,null,a)}if(!(e instanceof LI||e instanceof MI))throw new Nm(Cm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xm.fromString.apply(Xm,[t].concat(r)));return CI(o),new MI(e.firestore,null,o)}function UI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gr(e),1===arguments.length&&(t=Bm.A()),II("doc","path",t),e instanceof RI){var a=Xm.fromString.apply(Xm,[t].concat(r));return SI(a),new LI(e,null,new hy(a))}if(!(e instanceof LI||e instanceof MI))throw new Nm(Cm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xm.fromString.apply(Xm,[t].concat(r)));return SI(o),new LI(e.firestore,e instanceof MI?e.converter:null,new hy(o))}function VI(e,t){return e=Gr(e),t=Gr(t),(e instanceof LI||e instanceof MI)&&(t instanceof LI||t instanceof MI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function BI(e,t){return e=Gr(e),t=Gr(t),e instanceof jI&&t instanceof jI&&e.firestore===t.firestore&&sg(e._query,t._query)&&e.converter===t.converter}var qI=function(){function e(){var t=this;xt(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Mx(this,"async_queue_retry"),this.bc=function(){var e=Lx();e&&wm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Lx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return _t(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Lx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new Am;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Q(J().mark((function e(){var t=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Cb(e.t0)){e.next=12;break}throw e.t0;case 12:wm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=NE.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Im()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Q(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=yr(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=yr(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function zI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=yr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var HI=function(){function e(){xt(this,e),this._progressObserver={},this._taskCompletionResolver=new Am,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return _t(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WI=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new qI,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return _t(n,[{key:"_terminate",value:function(){return this._firestoreClient||GI(this),this._firestoreClient.terminate()}}]),n}(RI);function KI(e){return e._firestoreClient||GI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function GI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new xI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new aI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function QI(e,t,n){var r=new Am;return e.asyncQueue.enqueue(Q(J().mark((function i(){return J().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,oI(e,n);case 3:return i.next=5,uI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Cm.FAILED_PRECONDITION||e.code===Cm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function YI(e){return function(e){return e.asyncQueue.enqueue(Q(J().mark((function t(){var n,r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pI(e);case 2:return n=t.sent,t.next=5,mI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Sm(e);return t.Gr.delete(0),Hx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KI(e=AI(e,WI)))}function JI(e){return function(e){return e.asyncQueue.enqueue(Q(J().mark((function t(){var n,r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pI(e);case 2:return n=t.sent,t.next=5,mI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sm(t)).Gr.add(0),e.next=4,Kx(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KI(e=AI(e,WI)))}function XI(e,t){var n=KI(e=AI(e,WI)),r=new HI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new nI(e,t)}(function(e,t){if(e instanceof Uint8Array)return eI(e,t);if(e instanceof ArrayBuffer)return eI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,jx(t));e.asyncQueue.enqueueAndForget(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Y_,t.next=3,yI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function $I(e,t){return function(e,t){return e.asyncQueue.enqueue(Q(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Sm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,vI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KI(e=AI(e,WI)),t).then((function(t){return t?new jI(e,null,t.query):null}))}function ZI(e){if(e._initialized||e._terminated)throw new Nm(Cm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eT=function(){function e(){xt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zm(n)}return _t(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tT=function(){function e(t){xt(this,e),this._byteString=t}return _t(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ty.fromBase64String(t))}catch(t){throw new Nm(Cm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ty.fromUint8Array(t))}}]),e}(),nT=_t((function e(t){xt(this,e),this._methodName=t})),rT=function(){function e(t,n){if(xt(this,e),!isFinite(t)||t<-90||t>90)throw new Nm(Cm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Nm(Cm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return _t(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return qm(this._lat,e._lat)||qm(this._long,e._long)}}]),e}(),iT=/^__.*__$/,aT=function(){function e(t,n,r){xt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _t(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ug(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fg(e,this.data,t,this.fieldTransforms)}}]),e}(),oT=function(){function e(t,n,r){xt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _t(e,[{key:"toMutation",value:function(e,t){return new Ug(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Im()}}var uT=function(){function e(t,n,r,i,a,o){xt(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return _t(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return CT(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(sT(this.$c)&&iT.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),cT=function(){function e(t,n,r){xt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||jx(t)}return _t(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uT({$c:e,methodName:t,jc:n,path:Zm.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function lT(e){var t=e._freezeSettings(),n=jx(e._databaseId);return new cT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);_T("Data must be an object, but it was:",o,r);var s,u,c=xT(r,o);if(a.merge)s=new ey(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=yr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=IT(t,d,n);if(!o.contains(p))throw new Nm(Cm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));NT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new ey(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new aT(new Sy(c),s,u)}var hT=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nT);function dT(e,t,n){return new uT({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var pT=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"_toFieldTransform",value:function(e){return new Cg(e.path,new bg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nT),vT=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e)).Wc=r,i}return _t(n,[{key:"_toFieldTransform",value:function(e){var t=dT(this,e,!0),n=this.Wc.map((function(e){return wT(e,t)})),r=new wg(n);return new Cg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nT),mT=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e)).Wc=r,i}return _t(n,[{key:"_toFieldTransform",value:function(e){var t=dT(this,e,!0),n=this.Wc.map((function(e){return wT(e,t)})),r=new Eg(n);return new Cg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nT),yT=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e)).Gc=r,i}return _t(n,[{key:"_toFieldTransform",value:function(e){var t=new Ig(e.k,vg(e.k,this.Gc));return new Cg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nT);function gT(e,t,n,r){var i=e.Qc(1,t,n);_T("Data must be an object, but it was:",i,r);var a=[],o=Sy.empty();Qm(r,(function(e,r){var s=ST(t,e,n);r=Gr(r);var u=i.Bc(s);if(r instanceof hT)a.push(s);else{var c=wT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new ey(a);return new oT(o,s,i.fieldTransforms)}function kT(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[IT(t,r,n)],u=[i];if(a.length%2!=0)throw new Nm(Cm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(IT(t,a[c])),u.push(a[c+1]);for(var l=[],f=Sy.empty(),h=s.length-1;h>=0;--h)if(!NT(l,s[h])){var d=s[h],p=u[h];p=Gr(p);var v=o.Bc(d);if(p instanceof hT)l.push(d);else{var m=wT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ey(l);return new oT(f,y,o.fieldTransforms)}function bT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wT(n,e.Qc(r?4:3,t))}function wT(e,t){if(ET(e=Gr(e)))return _T("Unsupported field value:",t,e),xT(e,t);if(e instanceof nT)return function(e,t){if(!sT(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=yr(e);try{for(a.s();!(n=a.n()).done;){var o=wT(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Gr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vg(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Wm.fromDate(e);return{timestampValue:Ek(t.k,n)}}if(e instanceof Wm){var r=new Wm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ek(t.k,r)}}if(e instanceof rT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tT)return{bytesValue:_k(t.k,e._byteString)};if(e instanceof LI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Sk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(NI(e)))}(e,t)}function xT(e,t){var n={};return Ym(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qm(e,(function(e,r){var i=wT(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ET(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wm||e instanceof rT||e instanceof tT||e instanceof LI||e instanceof nT)}function _T(e,t,n){if(!ET(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=NI(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function IT(e,t,n){if((t=Gr(t))instanceof eT)return t._internalPath;if("string"==typeof t)return ST(e,t);throw CT("Field path arguments must be of type string or ",e,!1,void 0,n)}var TT=new RegExp("[~\\*/\\[\\]]");function ST(e,t,n){if(t.search(TT)>=0)throw CT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return gr(eT,wt(t.split(".")))._internalPath}catch(r){throw CT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function CT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Nm(Cm.INVALID_ARGUMENT,s+e+u)}function NT(e,t){return e.some((function(e){return e.isEqual(t)}))}var AT=function(){function e(t,n,r,i,a){xt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return _t(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new LI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new PT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(OT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),PT=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"data",value:function(){return ln(un(n.prototype),"data",this).call(this)}}]),n}(AT);function OT(e,t){return"string"==typeof t?ST(e,t):t instanceof eT?t._internalPath:t._delegate._internalPath}var RT=function(){function e(t,n){xt(this,e),this.hasPendingWrites=t,this.fromCache=n}return _t(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),DT=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o,s){var u;return xt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return _t(n,[{key:"exists",value:function(){return ln(un(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new LT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(OT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AT),LT=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ln(un(n.prototype),"data",this).call(this,e)}}]),n}(DT),jT=function(){function e(t,n,r,i){xt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new RT(i.hasPendingWrites,i.fromCache),this.query=r}return _t(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new LT(n._firestore,n._userDataWriter,r.key,r,new RT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nm(Cm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new LT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new LT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:MT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function MT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Im()}}function FT(e,t){return e instanceof DT&&t instanceof DT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jT&&t instanceof jT&&e._firestore===t._firestore&&BI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function UT(e){if(eg(e)&&0===e.explicitOrderBy.length)throw new Nm(Cm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VT=_t((function e(){xt(this,e)}));function BT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var qT=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return _t(n,[{key:"_apply",value:function(e){var t=lT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ZT(o,a);var u,c=[],l=yr(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push($T(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=$T(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ZT(o,a),s=bT(n,"where",o,"in"===a||"not-in"===a);var h=Ly.create(i,a,s);return function(e,t){if(t.V()){var n=ng(e);if(null!==n&&!n.isEqual(t.field))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=tg(e);null!==r&&eS(e,t.field,r)}var i=function(e,t){var n,r=yr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new jI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Jy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(VT);var zT=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return _t(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ky(t,n);return function(e,t){if(null===tg(e)){var n=ng(e);null!==n&&eS(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new jI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Jy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(VT);var HT=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return _t(n,[{key:"_apply",value:function(e){return new jI(e.firestore,e.converter,og(e._query,this.Xc,this.Zc))}}]),n}(VT);var WT=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return _t(n,[{key:"_apply",value:function(e){var t=XT(e,this.type,this.ta,this.ea);return new jI(e.firestore,e.converter,function(e,t){return new Jy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(VT);function KT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WT("startAt",t,!0)}function GT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WT("startAfter",t,!1)}var QT=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return xt(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return _t(n,[{key:"_apply",value:function(e){var t=XT(e,this.type,this.ta,this.ea);return new jI(e.firestore,e.converter,function(e,t){return new Jy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(VT);function YT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QT("endBefore",t,!0)}function JT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QT("endAt",t,!1)}function XT(e,t,n,r){if(n[0]=Gr(n[0]),n[0]instanceof AT)return function(e,t,n,r,i){if(!r)throw new Nm(Cm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=yr(ig(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(by(t,r.key));else{var c=r.data.field(u.field);if(oy(c))throw new Nm(Cm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Hy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Nm(Cm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!rg(e)&&-1!==c.indexOf("/"))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Xm.fromString(c));if(!hy.isDocumentKey(l))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new hy(l);s.push(by(t,f))}else{var h=bT(n,r,c);s.push(h)}}return new Hy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function $T(e,t,n){if("string"==typeof(n=Gr(n))){if(""===n)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rg(t)&&-1!==n.indexOf("/"))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Xm.fromString(n));if(!hy.isDocumentKey(r))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return by(e,new hy(r))}if(n instanceof LI)return by(e,n._key);throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(NI(n),"."))}function ZT(e,t){if(!Array.isArray(e)||0===e.length)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function eS(e,t,n){if(!n.isEqual(t))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var tS=function(){function e(){xt(this,e)}return _t(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(dy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return iy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ay(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Im()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Qm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new rT(iy(e.latitude),iy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ry(e);return new Wm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Xm.fromString(e);Tm(Zk(n));var r=new EI(n.get(1),n.get(3)),i=new hy(n.popFirst(5));return r.isEqual(t)||xm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rS=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this)).firestore=e,r}return _t(n,[{key:"convertBytes",value:function(e){return new tT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LI(this.firestore,null,t)}}]),n}(tS),iS=function(){function e(t,n){xt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lT(t)}return _t(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aS(e,this._firestore),i=nS(r.converter,t,n),a=fT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ag.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Gr(t))||t instanceof eT?kT(this._dataReader,"WriteBatch.update",i._key,t,n,o):gT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ag.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aS(e,this._firestore);return this._mutations=this._mutations.concat(new Wg(t._key,Ag.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Nm(Cm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aS(e,t){if((e=Gr(e)).firestore!==t)throw new Nm(Cm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oS=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this)).firestore=e,r}return _t(n,[{key:"convertBytes",value:function(e){return new tT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LI(this.firestore,null,t)}}]),n}(tS);function sS(e){e=AI(e,LI);var t=AI(e.firestore,WI),n=KI(t),r=new oS(t);return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(Q(J().mark((function r(){return J().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Q(J().mark((function e(t,n,r){var i,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Sm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Nm(Cm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=AE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new DT(t,r,e._key,n,new RT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function uS(e){e=AI(e,jI);var t=AI(e.firestore,WI),n=KI(t),r=new oS(t);return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(Q(J().mark((function r(){return J().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Q(J().mark((function e(t,n,r){var i,a,o,s,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ex(t,n,!0);case 3:i=e.sent,a=new JE(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=AE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jT(t,r,e,n)}))}function cS(e,t,n){e=AI(e,LI);var r=AI(e.firestore,WI),i=nS(e.converter,t,n);return dS(r,[fT(lT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ag.none())])}function lS(e,t,n){e=AI(e,LI);for(var r=AI(e.firestore,WI),i=lT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return dS(r,[("string"==typeof(t=Gr(t))||t instanceof eT?kT(i,"updateDoc",e._key,t,n,o):gT(i,"updateDoc",e._key,t)).toMutation(e._key,Ag.exists(!0))])}function fS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Gr(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||zI(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(zI(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof LI)l=AI(e.firestore,WI),f=$y(e._key.path),c={next:function(t){n[u]&&n[u](pS(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=AI(e,jI);l=AI(p.firestore,WI),f=p._query;var v=new oS(l);c={next:function(e){n[u]&&n[u](new jT(l,v,p,e))},error:n[u+1],complete:n[u+2]},UT(e._query)}return function(e,t,n,r){var i=new tI(r),a=new zE(t,i,n);return e.asyncQueue.enqueueAndForget(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jE,t.next=3,gI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FE,t.next=3,gI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KI(l),f,h,c)}function hS(e,t){return function(e,t){var n=new tI(t);return e.asyncQueue.enqueueAndForget(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sm(e).io.add(t),t.next()},t.next=3,gI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Q(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sm(e).io.delete(t)},t.next=3,gI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KI(e=AI(e,WI)),zI(t)?t:{next:t})}function dS(e,t){return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(Q(J().mark((function r(){return J().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=o_,r.next=3,yI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KI(e),t)}function pS(e,t,n){var r=n.docs.get(t._key),i=new oS(e);return new DT(e,i,t._key,r,new RT(n.hasPendingWrites,n.fromCache),t.converter)}var vS=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e,r))._firestore=e,i}return _t(n,[{key:"get",value:function(e){var t=this,r=aS(e,this._firestore),i=new oS(this._firestore);return ln(un(n.prototype),"get",this).call(this,e).then((function(e){return new DT(t._firestore,i,r._key,e._document,new RT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){xt(this,e),this._firestore=t,this._transaction=n,this._dataReader=lT(t)}return _t(e,[{key:"get",value:function(e){var t=this,n=aS(e,this._firestore),r=new rS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Im();var i=e[0];if(i.isFoundDocument())return new AT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AT(t._firestore,r,n._key,null,n.converter);throw Im()}))}},{key:"set",value:function(e,t,n){var r=aS(e,this._firestore),i=nS(r.converter,t,n),a=fT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Gr(t))||t instanceof eT?kT(this._dataReader,"Transaction.update",i._key,t,n,o):gT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mS(e,t){return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(Q(J().mark((function r(){var i;return J().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return hI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new iI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(KI(e=AI(e,WI)),(function(n){return t(new vS(e,n))}))}function yS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vT("arrayUnion",t)}function gS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){gm=e}(Si),gi(new Qr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new WI(i,new Dm(e.getProvider("auth-internal")),new Fm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ri(mm,"3.4.3",e),Ri(mm,"3.4.3","esm2017")}();function kS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bS(){if("undefined"===typeof Uint8Array)throw new Nm("unimplemented","Uint8Arrays are not available in this environment.")}function wS(){if("undefined"==typeof atob)throw new Nm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xS=function(){function e(t){xt(this,e),this._delegate=t}return _t(e,[{key:"toBase64",value:function(){return wS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return bS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return wS(),new e(tT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return bS(),new e(tT.fromUint8Array(t))}}]),e}();function ES(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=yr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _S=function(){function e(){xt(this,e)}return _t(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ZI(e=AI(e,WI));var n=KI(e),r=e._freezeSettings(),i=new Z_;return QI(n,i,new X_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ZI(e=AI(e,WI));var t=KI(e),n=e._freezeSettings(),r=new Z_;return QI(t,r,new $_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Nm(Cm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Am;return e._queue.enqueueAndForgetEvenWhileRestricted(Q(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ib.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ib.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Mw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),IS=function(){function e(t,n,r){var i=this;xt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof EI||(this._appCompat=t)}return _t(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Em("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return YI(this._delegate)}},{key:"disableNetwork",value:function(){return JI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&TI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Am;return e.asyncQueue.enqueueAndForget(Q(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=y_,n.next=3,yI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KI(e=AI(e,WI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Nm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new US(this,FI(this._delegate,e))}catch(BN){throw PS(BN,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new AS(this,UI(this._delegate,e))}catch(BN){throw PS(BN,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jS(this,function(e,t){if(e=AI(e,RI),II("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new jI(e,null,function(e){return new Jy(Xm.emptyPath(),e)}(t))}(this._delegate,e))}catch(BN){throw PS(BN,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return mS(this._delegate,(function(n){return e(new SS(t,n))}))}},{key:"batch",value:function(){var e=this;return KI(this._delegate),new CS(new iS(this._delegate,(function(t){return dS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return XI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return $I(this._delegate,e).then((function(e){return e?new jS(t,e):null}))}}]),e}(),TS=function(e){hn(n,e);var t=yn(n);function n(e){var r;return xt(this,n),(r=t.call(this)).firestore=e,r}return _t(n,[{key:"convertBytes",value:function(e){return new xS(new tT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return AS.forKey(t,this.firestore,null)}}]),n}(tS);var SS=function(){function e(t,n){xt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new TS(t)}return _t(e,[{key:"get",value:function(e){var t=this,n=VS(e);return this._delegate.get(n).then((function(e){return new DS(t._firestore,new DT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=VS(e);return n?(kS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=VS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VS(e);return this._delegate.delete(t),this}}]),e}(),CS=function(){function e(t){xt(this,e),this._delegate=t}return _t(e,[{key:"set",value:function(e,t,n){var r=VS(e);return n?(kS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=VS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),NS=function(){function e(t,n,r){xt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return _t(e,[{key:"fromFirestore",value:function(e,t){var n=new LT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new TS(t),n),i.set(n,a)),a}}]),e}();NS.INSTANCES=new WeakMap;var AS=function(){function e(t,n){xt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new TS(t)}return _t(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new US(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new US(this.firestore,FI(this._delegate,e))}catch(BN){throw PS(BN,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Gr(e))instanceof LI&&VI(this._delegate,e)}},{key:"set",value:function(e,t){t=kS("DocumentReference.set",t);try{return t?cS(this._delegate,e,t):cS(this._delegate,e)}catch(BN){throw PS(BN,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lS(this._delegate,e):lS.apply(void 0,[this._delegate,e,t].concat(r))}catch(BN){throw PS(BN,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dS(AI(e.firestore,WI),[new Wg(e._key,Ag.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=OS(n),a=RS(n,(function(t){return new DS(e.firestore,new DT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AI(e,LI);var t=AI(e.firestore,WI);return bI(KI(t),e._key,{source:"server"}).then((function(n){return pS(t,e,n)}))}(this._delegate):function(e){e=AI(e,LI);var t=AI(e.firestore,WI);return bI(KI(t),e._key).then((function(n){return pS(t,e,n)}))}(this._delegate),t.then((function(e){return new DS(n.firestore,new DT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Nm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new LI(n._delegate,r,new hy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new LI(n._delegate,r,t))}}]),e}();function PS(e,t,n){return e.message=e.message.replace(t,n),e}function OS(e){var t,n=yr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!ES(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function RS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ES(e[0])?e[0]:ES(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var DS=function(){function e(t,n){xt(this,e),this._firestore=t,this._delegate=n}return _t(e,[{key:"ref",get:function(){return new AS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return FT(this._delegate,e._delegate)}}]),e}(),LS=function(e){hn(n,e);var t=yn(n);function n(){return xt(this,n),t.apply(this,arguments)}return _t(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Im()}(void 0!==t),t}}]),n}(DS),jS=function(){function e(t,n){xt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new TS(t)}return _t(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BT(this._delegate,function(e,t,n){var r=t,i=OT("where",e);return new qT(i,r,n)}(t,n,r)))}catch(BN){throw PS(BN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=OT("orderBy",e);return new zT(n,t)}(t,n)))}catch(BN){throw PS(BN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BT(this._delegate,function(e){return PI("limit",e),new HT("limit",e,"F")}(t)))}catch(BN){throw PS(BN,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BT(this._delegate,function(e){return PI("limitToLast",e),new HT("limitToLast",e,"L")}(t)))}catch(BN){throw PS(BN,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,BT(this._delegate,KT.apply(void 0,arguments)))}catch(BN){throw PS(BN,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BT(this._delegate,GT.apply(void 0,arguments)))}catch(BN){throw PS(BN,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BT(this._delegate,YT.apply(void 0,arguments)))}catch(BN){throw PS(BN,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BT(this._delegate,JT.apply(void 0,arguments)))}catch(BN){throw PS(BN,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return BI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AI(e,jI);var t=AI(e.firestore,WI),n=KI(t),r=new oS(t);return wI(n,e._query,{source:"server"}).then((function(n){return new jT(t,r,e,n)}))}(this._delegate):function(e){e=AI(e,jI);var t=AI(e.firestore,WI),n=KI(t),r=new oS(t);return UT(e._query),wI(n,e._query).then((function(n){return new jT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new FS(n.firestore,new jT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=OS(n),a=RS(n,(function(t){return new FS(e.firestore,new jT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),MS=function(){function e(t,n){xt(this,e),this._firestore=t,this._delegate=n}return _t(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new LS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),FS=function(){function e(t,n){xt(this,e),this._firestore=t,this._delegate=n}return _t(e,[{key:"query",get:function(){return new jS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new LS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new MS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new LS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return FT(this._delegate,e._delegate)}}]),e}(),US=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return xt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return _t(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new AS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new AS(this.firestore,void 0===e?UI(this._delegate):UI(this._delegate,e))}catch(BN){throw PS(BN,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=AI(e.firestore,WI),r=UI(e),i=nS(e.converter,t);return dS(n,[fT(lT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ag.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new AS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return VI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(NS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jS);function VS(e){return AI(e,LI)}var BS=function(){function e(){xt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=gr(eT,n)}return _t(e,[{key:"isEqual",value:function(e){return(e=Gr(e))instanceof eT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Zm.keyField().canonicalString())}}]),e}(),qS=function(){function e(t){xt(this,e),this._delegate=t}return _t(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new pT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new hT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=yS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new yT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),zS={Firestore:IS,GeoPoint:rT,Timestamp:Wm,Blob:xS,Transaction:SS,WriteBatch:CS,DocumentReference:AS,DocumentSnapshot:DS,Query:jS,QueryDocumentSnapshot:LS,QuerySnapshot:FS,CollectionReference:US,FieldPath:BS,FieldValue:qS,setLogLevel:function(e){!function(e){km.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Qr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},zS)))}(e,(function(e,t){return new IS(e,t,new _S)})),e.registerVersion("@firebase/firestore-compat","0.1.12")}(qi);var HS=qi.initializeApp({apiKey:"AIzaSyA35r3eyZyoGJFG3pNKDDAAluY0RX-tSGw",authDomain:"career-path-map.firebaseapp.com",projectId:"career-path-map",storageBucket:"career-path-map.appspot.com",messagingSenderId:"139399464381",appId:"1:139399464381:web:0d9cc83d493a5481e73ed4",measurementId:"G-M90XRDPBHV"}),WS=HS.auth(),KS=(HS.firestore(),qi.firestore().collection("users")),GS=r.createContext();function QS(){return(0,r.useContext)(GS)}function YS(e){var t=e.children,n=K((0,r.useState)(),2),i=n[0],a=n[1],o=K((0,r.useState)(!0),2),s=o[0],u=o[1];new qi.auth.GoogleAuthProvider;function c(){return c=Q(J().mark((function e(t,n,r){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WS.createUserWithEmailAndPassword(t,n).then(function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:KS.doc(t.user.uid).set({uid:t.user.uid,name:"",phoneNumber:r,email:t.user.email,formData:null}),t.user.sendEmailVerification(),WS.signOut(),alert("Email sent"),console.log(JSON.stringify(t.user.emailVerified));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}var l=function(e,t,n){return{uid:e,name:n.name?n.name:t.name?t.name:"",phoneNumber:n.phoneNumber?n.phoneNumber:t.phoneNumber?t.phoneNumber:"",email:n.email?n.email:t.email?t.email:"",formData:n.formData?n.formData.concat(t.formData):t.formData?t.formData:""}};(0,r.useEffect)((function(){return WS.onAuthStateChanged((function(e){a(e),u(!1)}))}),[]);var f={currentUser:i,login:function(e,t){return WS.signInWithEmailAndPassword(e,t)},signup:function(e,t,n){return c.apply(this,arguments)},logout:function(){return WS.signOut()},resetPassword:function(e){return WS.sendPasswordResetEmail(e)},updateEmail:function(e){return i.updateEmail(e)},updateUserDetails:function(e,t){return alert("hehe"),KS.doc(e).get().then((function(n){if(console.log("Retrieved for uid:",e,":",n),n&&n.data()){var r=n.data(),i=l(e,r,t);KS.doc(e).set(i).then((function(){return console.log("success"),{message:"success"}})).catch((function(e){return console.log(e),{message:"error",error:e}}))}else{console.log("User with id ",e," does not exist as per the records, pls wait as we make an account for him in the records");var a=l(e,{},t);KS.doc(e).set(a).then((function(){return console.log("User successfully added"),{message:"success"}})).catch((function(e){return{message:"error",error:e}}))}}))},updatePassword:function(e){return i.updatePassword(e)},socialsignup:function(e){return WS.signInWithPopup(e).then(function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:KS.doc(t.user.uid).set({uid:t.user.uid,name:"",number:null,email:t.user.email,formData:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}};return(0,ue.jsx)(GS.Provider,{value:f,children:!s&&t})}var JS=function(){var e=S(),t=QS().logout;function n(){return(n=Q(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t();case 3:e("/login"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert("unable to logout");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return(0,ue.jsx)(Fn,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",style:{textAlign:"center"},children:(0,ue.jsxs)(Bn,{fluid:!0,children:[(0,ue.jsxs)(Fn.Brand,{href:"#home",children:[(0,ue.jsx)("i",{class:"bi bi-mortarboard-fill"}),(0,ue.jsx)("span",{children:"   Career Path Map"})]}),(0,ue.jsx)(Fn.Toggle,{"aria-controls":"navbarScroll"}),(0,ue.jsxs)(Fn.Collapse,{id:"navbarScroll",children:[(0,ue.jsxs)(mr,{className:"justify-content-end",style:{width:"100%"},children:[(0,ue.jsx)(mr.Link,{href:"/",children:"Home"}),(0,ue.jsx)(mr.Link,{href:"/about",children:"About"}),(0,ue.jsxs)(mr.Link,{onClick:function(){return n.apply(this,arguments)},children:[(0,ue.jsx)("i",{class:"bi bi-box-arrow-right"}),"  Logout"]})]}),"\xa0"]})]})})},XS=(n(391),["as","className","type","tooltip"]),$S={type:p().string,tooltip:p().bool,as:p().elementType},ZS=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=te(e,XS);return(0,ue.jsx)(r,Z(Z({},c),{},{ref:t,className:re()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));ZS.displayName="Feedback",ZS.propTypes=$S;var eC=ZS,tC=r.createContext({}),nC=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],rC=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=te(e,nC),b=(0,r.useContext)(tC).controlId;(a=le(a,"form-control"),v)?n=X({},"".concat(a,"-plaintext"),!0):(X(i={},a,!0),X(i,"".concat(a,"-").concat(s),s),n=i);return(0,ue.jsx)(g,Z(Z({},k),{},{type:o,size:u,ref:t,readOnly:m,id:c||b,className:re()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));rC.displayName="FormControl";var iC=Object.assign(rC,{Feedback:eC}),aC=["id","bsPrefix","className","type","isValid","isInvalid","as"],oC=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=te(e,aC),v=(0,r.useContext)(tC).controlId;return i=le(i,"form-check-input"),(0,ue.jsx)(d,Z(Z({},p),{},{ref:t,type:s,id:n||v,className:re()(a,i,c&&"is-valid",f&&"is-invalid")}))}));oC.displayName="FormCheckInput";var sC=oC,uC=["bsPrefix","className","htmlFor"],cC=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=te(e,uC),s=(0,r.useContext)(tC).controlId;return n=le(n,"form-check-label"),(0,ue.jsx)("label",Z(Z({},o),{},{ref:t,htmlFor:a||s,className:re()(i,n)}))}));cC.displayName="FormCheckLabel";var lC=cC;var fC=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],hC=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,p=e.feedbackTooltip,v=void 0!==p&&p,m=e.feedback,y=e.feedbackType,g=e.className,k=e.style,b=e.title,w=void 0===b?"":b,x=e.type,E=void 0===x?"checkbox":x,_=e.label,I=e.children,T=e.as,S=void 0===T?"input":T,C=te(e,fC);i=le(i,"form-check"),a=le(a,"form-switch");var N=(0,r.useContext)(tC).controlId,A=(0,r.useMemo)((function(){return{controlId:n||N}}),[N,n]),P=!I&&null!=_&&!1!==_||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(I,lC),O=(0,ue.jsx)(sC,Z(Z({},C),{},{type:"switch"===E?"checkbox":E,ref:t,isValid:f,isInvalid:d,disabled:c,as:S}));return(0,ue.jsx)(tC.Provider,{value:A,children:(0,ue.jsx)("div",{style:k,className:re()(g,P&&i,s&&"".concat(i,"-inline"),"switch"===E&&a),children:I||(0,ue.jsxs)(ue.Fragment,{children:[O,P&&(0,ue.jsx)(lC,{title:w,children:_}),m&&(0,ue.jsx)(eC,{type:y,tooltip:v,children:m})]})})})}));hC.displayName="FormCheck";var dC=Object.assign(hC,{Input:sC,Label:lC}),pC=de("form-floating"),vC=["controlId","as"],mC=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=te(e,vC),s=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,ue.jsx)(tC.Provider,{value:s,children:(0,ue.jsx)(a,Z(Z({},o),{},{ref:t}))})}));mC.displayName="FormGroup";var yC=mC,gC=["as","bsPrefix","className"],kC=["className"],bC=["xxl","xl","lg","md","sm","xs"];var wC=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=te(e,gC);n=le(n,"col");var a=[],o=[];return bC.forEach((function(e){var t,r,s,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,s=u.order):t=u;var c="xs"!==e?"-".concat(e):"";t&&a.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=s&&o.push("order".concat(c,"-").concat(s)),null!=r&&o.push("offset".concat(c,"-").concat(r))})),[Z(Z({},i),{},{className:re().apply(void 0,[r].concat(a,o))}),{as:t,bsPrefix:n,spans:a}]}(e),r=K(n,2),i=r[0],a=i.className,o=te(i,kC),s=r[1],u=s.as,c=void 0===u?"div":u,l=s.bsPrefix,f=s.spans;return(0,ue.jsx)(c,Z(Z({},o),{},{ref:t,className:re()(a,!f.length&&l)}))}));wC.displayName="Col";var xC=wC,EC=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],_C=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,s=e.visuallyHidden,u=e.className,c=e.htmlFor,l=te(e,EC),f=(0,r.useContext)(tC).controlId;a=le(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=re()(u,a,s&&"visually-hidden",o&&h);return c=c||f,o?(0,ue.jsx)(xC,Z({ref:t,as:"label",className:d,htmlFor:c},l)):(0,ue.jsx)(i,Z({ref:t,className:d,htmlFor:c},l))}));_C.displayName="FormLabel",_C.defaultProps={column:!1,visuallyHidden:!1};var IC=_C,TC=["bsPrefix","className","id"],SC=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=te(e,TC),s=(0,r.useContext)(tC).controlId;return n=le(n,"form-range"),(0,ue.jsx)("input",Z(Z({},o),{},{type:"range",ref:t,className:re()(i,n),id:a||s}))}));SC.displayName="FormRange";var CC=SC,NC=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],AC=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=te(e,NC),d=(0,r.useContext)(tC).controlId;return n=le(n,"form-select"),(0,ue.jsx)("select",Z(Z({},h),{},{size:a,ref:t,className:re()(o,n,i&&"".concat(n,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));AC.displayName="FormSelect";var PC=AC,OC=["bsPrefix","className","as","muted"],RC=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=te(e,OC);return n=le(n,"form-text"),(0,ue.jsx)(a,Z(Z({},s),{},{ref:t,className:re()(r,n,o&&"text-muted")}))}));RC.displayName="FormText";var DC=RC,LC=r.forwardRef((function(e,t){return(0,ue.jsx)(dC,Z(Z({},e),{},{ref:t,type:"switch"}))}));LC.displayName="Switch";var jC=Object.assign(LC,{Input:dC.Input,Label:dC.Label}),MC=["bsPrefix","className","children","controlId","label"],FC=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=te(e,MC);return n=le(n,"form-floating"),(0,ue.jsxs)(yC,Z(Z({ref:t,className:re()(r,n),controlId:a},s),{},{children:[i,(0,ue.jsx)("label",{htmlFor:a,children:o})]}))}));FC.displayName="FloatingLabel";var UC=FC,VC=["className","validated","as"],BC={_ref:p().any,validated:p().bool,as:p().elementType},qC=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=te(e,VC);return(0,ue.jsx)(a,Z(Z({},o),{},{ref:t,className:re()(n,r&&"was-validated")}))}));qC.displayName="Form",qC.propTypes=BC;var zC=Object.assign(qC,{Group:yC,Control:iC,Floating:pC,Check:dC,Switch:jC,Label:IC,Text:DC,Range:CC,Select:PC,FloatingLabel:UC}),HC=["as","bsPrefix","variant","size","active","className"],WC=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=te(e,HC),c=le(r,"btn"),l=K(Kn(Z({tagName:n},u)),2),f=l[0],h=l[1].tagName;return(0,ue.jsx)(h,Z(Z(Z({},u),f),{},{ref:t,className:re()(s,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),u.href&&u.disabled&&"disabled")}))}));WC.displayName="Button",WC.defaultProps={variant:"primary",active:!1,disabled:!1};var KC,GC=WC,QC=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],YC=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.striped,a=e.bordered,o=e.borderless,s=e.hover,u=e.size,c=e.variant,l=e.responsive,f=te(e,QC),h=le(n,"table"),d=re()(r,h,c&&"".concat(h,"-").concat(c),u&&"".concat(h,"-").concat(u),i&&"".concat(h,"-striped"),a&&"".concat(h,"-bordered"),o&&"".concat(h,"-borderless"),s&&"".concat(h,"-hover")),p=(0,ue.jsx)("table",Z(Z({},f),{},{className:d,ref:t}));if(l){var v="".concat(h,"-responsive");return"string"===typeof l&&(v="".concat(v,"-").concat(l)),(0,ue.jsx)("div",{className:v,children:p})}return p})),JC=YC,XC=[{name:"sandeep",email:"kan@gmail.com",formdetails:"Hehe1",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe2",phonenumber:"6302332197"},{name:"prabhath",email:"sandeep@gmail.com",formdetails:"Hehe3",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe4",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe5",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe6",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe8",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"},{name:"sandeep",email:"sandeep@gmail.com",formdetails:"Hehe",phonenumber:"68437627"}],$C=[{label:"First Name",key:"name"},{label:"Phone Number",key:"phonenumber"},{label:"Email",key:"email"}];function ZC(e){if((!KC&&0!==KC||e)&&Le){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),KC=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return KC}var eN=de("modal-body"),tN=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],nN=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,s=e.fullscreen,u=e.children,c=e.scrollable,l=te(e,tN);n=le(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,ue.jsx)("div",Z(Z({},l),{},{ref:t,className:re()(f,r,o&&"".concat(n,"-").concat(o),a&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),s&&h),children:(0,ue.jsx)("div",{className:re()("".concat(n,"-content"),i),children:u})}))}));nN.displayName="ModalDialog";var rN=nN,iN=de("modal-footer"),aN=["bsPrefix","className"],oN=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=te(e,aN);return n=le(n,"modal-header"),(0,ue.jsx)(tn,Z(Z({ref:t},i),{},{className:re()(r,n)}))}));oN.displayName="ModalHeader",oN.defaultProps={closeLabel:"Close",closeButton:!1};var sN=oN,uN=de("modal-title",{Component:on("h4")}),cN=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],lN={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:rN};function fN(e){return(0,ue.jsx)(qt,Z(Z({},e),{},{timeout:null}))}function hN(e){return(0,ue.jsx)(qt,Z(Z({},e),{},{timeout:null}))}var dN=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.style,o=e.dialogClassName,s=e.contentClassName,u=e.children,c=e.dialogAs,l=e["aria-labelledby"],f=e.show,h=e.animation,d=e.backdrop,p=e.keyboard,v=e.onEscapeKeyDown,m=e.onShow,y=e.onHide,g=e.container,k=e.autoFocus,b=e.enforceFocus,w=e.restoreFocus,x=e.restoreFocusOptions,E=e.onEntered,_=e.onExit,I=e.onExiting,T=e.onEnter,S=e.onEntering,C=e.onExited,N=e.backdropClassName,A=e.manager,P=te(e,cN),O=K((0,r.useState)({}),2),R=O[0],D=O[1],L=K((0,r.useState)(!1),2),j=L[0],M=L[1],F=(0,r.useRef)(!1),U=(0,r.useRef)(!1),V=(0,r.useRef)(null),B=K((0,r.useState)(null),2),q=B[0],z=B[1],H=Ye(t,z),W=dt(y),G="rtl"===(0,r.useContext)(ce).dir;n=le(n,"modal");var Q=(0,r.useMemo)((function(){return{onHide:W}}),[W]);function Y(){return A||Tn({isRTL:G})}function J(e){if(Le){var t=Y().getScrollbarWidth()>0,n=e.scrollHeight>ye(e).documentElement.clientHeight;D({paddingRight:t&&!n?ZC():void 0,paddingLeft:!t&&n?ZC():void 0})}}var X=dt((function(){q&&J(q.dialog)}));kt((function(){Ve(window,"resize",X),null==V.current||V.current()}));var $=function(){F.current=!0},ee=function(e){F.current&&q&&e.target===q.dialog&&(U.current=!0),F.current=!1},ne=function(){M(!0),V.current=ze(q.dialog,(function(){M(!1)}))},ie=function(e){"static"!==d?U.current||e.target!==e.currentTarget?U.current=!1:null==y||y():function(e){e.target===e.currentTarget&&ne()}(e)},ae=(0,r.useCallback)((function(e){return(0,ue.jsx)("div",Z(Z({},e),{},{className:re()("".concat(n,"-backdrop"),N,!h&&"show")}))}),[h,N,n]),oe=Z(Z({},a),R);h||(oe.display="block");return(0,ue.jsx)(Qt.Provider,{value:Q,children:(0,ue.jsx)(Mt,{show:f,ref:H,backdrop:d,container:g,keyboard:!0,autoFocus:k,enforceFocus:b,restoreFocus:w,restoreFocusOptions:x,onEscapeKeyDown:function(e){p||"static"!==d?p&&v&&v(e):(e.preventDefault(),ne())},onShow:m,onHide:y,onEnter:function(e,t){e&&(e.style.display="block",J(e)),null==T||T(e,t)},onEntering:function(e,t){null==S||S(e,t),Ue(window,"resize",X)},onEntered:E,onExit:function(e){null==V.current||V.current(),null==_||_(e)},onExiting:I,onExited:function(e){e&&(e.style.display=""),null==C||C(e),Ve(window,"resize",X)},manager:Y(),transition:h?fN:void 0,backdropTransition:h?hN:void 0,renderBackdrop:ae,renderDialog:function(e){return(0,ue.jsx)("div",Z(Z({role:"dialog"},e),{},{style:oe,className:re()(i,n,j&&"".concat(n,"-static")),onClick:d?ie:void 0,onMouseUp:ee,"aria-labelledby":l,children:(0,ue.jsx)(c,Z(Z({},P),{},{onMouseDown:$,className:o,contentClassName:s,children:u}))}))}})})}));dN.displayName="Modal",dN.defaultProps=lN;var pN=Object.assign(dN,{Body:eN,Header:sN,Title:uN,Footer:iN,Dialog:rN,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var vN=function(e){return(0,ue.jsxs)(pN,Z(Z({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,ue.jsx)(pN.Header,{closeButton:!0,children:(0,ue.jsx)(pN.Title,{id:"contained-modal-title-vcenter",children:"Modal heading"})}),(0,ue.jsxs)(pN.Body,{children:[(0,ue.jsx)("h1",{children:e.data}),(0,ue.jsx)("h4",{children:"Centered Modal"}),(0,ue.jsx)("p",{children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."})]}),(0,ue.jsx)(pN.Footer,{children:(0,ue.jsx)(GC,{onClick:e.onHide,children:"Close"})})]}))},mN=n(472);var yN=function(){var e=K((0,r.useState)(!1),2),t=e[0],n=e[1],i=K((0,r.useState)(!1),2),a=i[0],o=(i[1],K((0,r.useState)(""),2)),s=o[0],u=o[1],c=K((0,r.useState)(XC),2),l=c[0],f=c[1],h=K((0,r.useState)(""),2),d=h[0],p=h[1],v=K((0,r.useState)("name"),2),m=v[0],y=v[1],g=K((0,r.useState)(!1),2),k=g[0],b=g[1];return(0,r.useEffect)((function(){if(p(s),""!==s){var e=XC.filter((function(e){return Object.values(e[m]).join("").toLowerCase().includes(d.toLowerCase())}));f(e),e||f(XC)}else f(XC)}),[s,m]),(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)("div",{className:"d-flex",children:[(0,ue.jsx)("i",{class:"bi bi-funnel-fill",style:{fontSize:"2em",color:"black"}}),(0,ue.jsx)(iC,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",value:s,onChange:function(e){return u(e.target.value)}}),(0,ue.jsxs)(zC.Select,{"aria-label":"Default select example",onChange:function(e){return y(e.target.value)},value:m,children:[(0,ue.jsx)("option",{value:"name",children:"name"}),(0,ue.jsx)("option",{value:"email",children:"email"}),(0,ue.jsx)("option",{value:"phonenumber",children:"phonenumber"})]}),(0,ue.jsx)(GC,{variant:"secondary",type:"submit",style:{margin:"0px 5px 0px 5px"},onClick:function(){b(!0)},children:"Download"}),k?(0,ue.jsx)(mN.CSVDownload,{headers:$C,data:l,style:{margin:"0px 5px 0px 5px"}}):null]}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(JC,{responsive:"md",striped:!0,bordered:!0,hover:!0,children:[(0,ue.jsx)("thead",{children:(0,ue.jsxs)("tr",{children:[(0,ue.jsx)("th",{children:"#"}),(0,ue.jsx)("th",{children:"Username"}),(0,ue.jsx)("th",{children:"email address"}),(0,ue.jsx)("th",{children:"Phone number"})]})}),(0,ue.jsx)("tbody",{children:l.map((function(e,t){return(0,ue.jsxs)("tr",{children:[(0,ue.jsx)("td",{children:t},t),(0,ue.jsx)("td",{children:e.name},e.name),(0,ue.jsx)("td",{children:e.email},e.email),(0,ue.jsx)("td",{children:e.phonenumber},e.phonenumber)]})}))})]}),(0,ue.jsx)(vN,{show:t,data:a,onHide:function(){return n(!1)}})]})};var gN=function(){var e=K((0,r.useState)(!1),2),t=e[0],n=e[1],i=K((0,r.useState)(!1),2),a=i[0],o=(i[1],K((0,r.useState)(""),2)),s=o[0],u=o[1],c=K((0,r.useState)(XC),2),l=c[0],f=c[1],h=K((0,r.useState)(""),2),d=h[0],p=h[1],v=K((0,r.useState)("name"),2),m=v[0],y=v[1];return(0,r.useEffect)((function(){if(p(s),""!==s){var e=XC.filter((function(e){return Object.values(e[m]).join("").toLowerCase().includes(d.toLowerCase())}));f(e),e||f(XC)}else f(XC)}),[s]),(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)("div",{className:"d-flex",children:[(0,ue.jsx)("i",{class:"bi bi-funnel-fill",style:{fontSize:"2em",color:"black"}}),(0,ue.jsx)(iC,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",value:s,onChange:function(e){return u(e.target.value)}}),(0,ue.jsxs)(zC.Select,{"aria-label":"Default select example",onChange:function(e){return y(e.target.value)},value:m,children:[(0,ue.jsx)("option",{value:"name",children:"name"}),(0,ue.jsx)("option",{value:"email",children:"email"}),(0,ue.jsx)("option",{value:"phonenumber",children:"phonenumber"})]})]}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(JC,{responsive:"md",striped:!0,bordered:!0,hover:!0,children:[(0,ue.jsx)("thead",{children:(0,ue.jsxs)("tr",{children:[(0,ue.jsx)("th",{children:"#"}),(0,ue.jsx)("th",{children:"Username"}),(0,ue.jsx)("th",{children:"email address"}),(0,ue.jsx)("th",{children:"Phone number"})]})}),(0,ue.jsx)("tbody",{children:l.map((function(e,t){return(0,ue.jsxs)("tr",{children:[(0,ue.jsx)("td",{children:t},t),(0,ue.jsx)("td",{children:e.name},e.name),(0,ue.jsx)("td",{children:e.email},e.email),(0,ue.jsx)("td",{children:"formData"},e.phonenumber)]})}))})]}),(0,ue.jsx)(vN,{show:t,data:a,onHide:function(){return n(!1)}})]})},kN=n(513),bN=n.n(kN);var wN=function(){var e=K((0,r.useState)(!0),2),t=e[0],n=e[1];return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(JS,{}),(0,ue.jsxs)("div",{class:"media",children:[(0,ue.jsx)("div",{class:"image",children:(0,ue.jsx)("div",{children:(0,ue.jsxs)(bN(),{onSelect:function(e){!function(e){n("users"===e)}(e)},id:"sdb",children:[(0,ue.jsx)(bN().Toggle,{disabled:!1,style:{fontSize:"1.75em",color:"black"}}),(0,ue.jsxs)(bN().Nav,{defaultSelected:"home",children:[(0,ue.jsxs)(kN.NavItem,{eventKey:"users",active:t,children:[(0,ue.jsx)(kN.NavIcon,{children:(0,ue.jsx)("i",{class:"bi bi-house-fill",style:{fontSize:"1.75em",color:"black"}})}),(0,ue.jsx)(kN.NavText,{style:{color:"black"},children:"Users Data"})]}),(0,ue.jsxs)(kN.NavItem,{eventKey:"form",children:[(0,ue.jsx)(kN.NavIcon,{children:(0,ue.jsx)("i",{class:"bi bi-bar-chart-fill",style:{fontSize:"1.75em",color:"black"}})}),(0,ue.jsx)(kN.NavText,{style:{color:"black"},children:"Form Data"})]})]})]})})}),(0,ue.jsx)("div",{class:"text",children:t?(0,ue.jsx)(yN,{class:"breadcrumb"}):(0,ue.jsx)(gN,{class:"breadcrumb"})})]})]})},xN=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],EN=on("h4");EN.displayName="DivStyledAsH4";var _N=de("alert-heading",{Component:EN}),IN=de("alert-link",{Component:lr}),TN={variant:"primary",show:!0,transition:qt,closeLabel:"Close alert"},SN=r.forwardRef((function(e,t){var n=(0,oe.useUncontrolled)(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,s=n.className,u=n.children,c=n.variant,l=n.onClose,f=n.dismissible,h=n.transition,d=te(n,xN),p=le(r,"alert"),v=dt((function(e){l&&l(!1,e)})),m=!0===h?qt:h,y=(0,ue.jsxs)("div",Z(Z({role:"alert"},m?void 0:d),{},{ref:t,className:re()(s,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,ue.jsx)($t,{onClick:v,"aria-label":a,variant:o}),u]}));return m?(0,ue.jsx)(m,Z(Z({unmountOnExit:!0},d),{},{ref:void 0,in:i,children:y})):i?y:null}));SN.displayName="Alert",SN.defaultProps=TN;var CN=Object.assign(SN,{Link:IN,Heading:_N}),NN=["bsPrefix","className","as"],AN=["xxl","xl","lg","md","sm","xs"],PN=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=te(e,NN),s=le(n,"row"),u="".concat(s,"-cols"),c=[];return AN.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&c.push("".concat(u).concat(r,"-").concat(t))})),(0,ue.jsx)(a,Z(Z({ref:t},o),{},{className:re().apply(void 0,[r,s].concat(c))}))}));PN.displayName="Row";var ON=PN;var RN=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=QS(),i=n.login,a=(n.signup,n.socialsignup),o=K((0,r.useState)(""),2),s=o[0],u=o[1],c=K((0,r.useState)(!1),2),l=c[0],f=c[1],h=S(),d=function(){var e=Q(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(""),f(!0),e.next=5,a(t);case 5:h("/dash"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u("Failed to log in");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function p(){return(p=Q(J().mark((function n(r){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,u(""),f(!0),alert("start"),n.next=7,i(e.current.value,t.current.value);case 7:h("/dash"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),u(JSON.stringify(n.t0.code));case 13:f(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return(0,ue.jsxs)("div",{className:"auth-inner",children:[s&&(0,ue.jsx)(CN,{variant:"danger",style:{textAlign:"center"},children:s}),(0,ue.jsxs)(zC,{onSubmit:function(e){return p.apply(this,arguments)},className:"form",children:[(0,ue.jsx)("h1",{style:{color:"orange",textAlign:"center"},children:"Career"}),(0,ue.jsx)("h1",{style:{color:"blue",textAlign:"center"},children:"Path Map"}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(Bn,{children:[(0,ue.jsxs)(zC.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,ue.jsx)(zC.Label,{children:"Enter Email or Phone number"}),(0,ue.jsx)(zC.Control,{type:"email",placeholder:"Enter username",ref:e,required:!0})]}),(0,ue.jsxs)(zC.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,ue.jsx)(zC.Label,{children:"Enter Password"}),(0,ue.jsx)(zC.Control,{type:"password",placeholder:"Enter password",ref:t,required:!0})]}),(0,ue.jsxs)(ON,{children:[(0,ue.jsx)(xC,{children:(0,ue.jsx)(zC.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:(0,ue.jsx)(zC.Check,{type:"checkbox",label:"Remember Me"})})}),(0,ue.jsx)(xC,{children:(0,ue.jsx)(B,{to:"/passwordReset",style:{float:"right"},children:"Forgot password ?"})})]}),(0,ue.jsx)(GC,{variant:"success",disabled:l,type:"submit",style:{width:"100%"},children:"Login"}),(0,ue.jsx)("br",{}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(ON,{children:[(0,ue.jsx)(xC,{children:(0,ue.jsx)(B,{to:"/signup",style:{textAlign:"left"},children:"Register"})}),(0,ue.jsx)(xC,{children:(0,ue.jsx)(B,{to:"/home",style:{float:"right"},children:"Home"})})]}),(0,ue.jsx)("br",{}),(0,ue.jsx)("div",{style:{alignContent:"center"},children:(0,ue.jsxs)("button",{className:"btnGoogle",onClick:function(){return d(new qi.auth.GoogleAuthProvider)},children:[(0,ue.jsx)("i",{class:"bi bi-google"})," Login with Google"]})})]})]})]})};var DN=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,r.useRef)(),i=(0,r.useRef)(),a=(0,r.useRef)(),o=QS(),s=o.signup,u=(o.logout,K((0,r.useState)(!1),2)),c=u[0],l=u[1],f=K((0,r.useState)(),2),h=f[0],d=f[1],p=S();function v(){return(v=Q(J().mark((function e(r){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n.current.value===i.current.value){e.next=3;break}return e.abrupt("return",d("Passwords are not matched"));case 3:return e.prev=3,d(""),l(!0),e.next=8,s(t.current.value,n.current.value,a.current.value);case 8:p("/login"),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",d(JSON.stringify(e.t0.code)));case 14:l(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsxs)("div",{className:"auth-inner",children:[h&&(0,ue.jsx)(CN,{variant:"danger",style:{textAlign:"center"},children:h}),(0,ue.jsxs)(zC,{className:"form",onSubmit:function(e){return v.apply(this,arguments)},children:[(0,ue.jsx)("h1",{style:{color:"orange",textAlign:"center"},children:"Career"}),(0,ue.jsx)("h1",{style:{color:"blue",textAlign:"center"},children:"Path Map"}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(Bn,{children:[(0,ue.jsxs)(zC.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ue.jsx)(zC.Label,{children:"Enter Name"}),(0,ue.jsx)(zC.Control,{type:"text",placeholder:"Enter username",ref:e,required:!0})]}),(0,ue.jsxs)(zC.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,ue.jsx)(zC.Label,{children:"Enter Email"}),(0,ue.jsx)(zC.Control,{type:"email",placeholder:"Enter Email",ref:t,required:!0})]}),(0,ue.jsxs)(zC.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,ue.jsx)(zC.Label,{children:"Enter Password"}),(0,ue.jsx)(zC.Control,{type:"password",placeholder:"Enter password",ref:n,required:!0})]}),(0,ue.jsxs)(zC.Group,{className:"mb-3",controlId:"formBasicConfirmPassword",children:[(0,ue.jsx)(zC.Label,{children:"Re-enter Password"}),(0,ue.jsx)(zC.Control,{type:"password",placeholder:"Re-enter password",ref:i,required:!0})]}),(0,ue.jsxs)(zC.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,ue.jsx)(zC.Label,{children:"Phone Number"}),(0,ue.jsx)(zC.Control,{type:"number",placeholder:"Enter Phone Number",ref:a,required:!0})]}),(0,ue.jsx)(GC,{disabled:c,variant:"success",type:"submit",style:{width:"100%"},children:"Register"}),(0,ue.jsx)("br",{}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(ON,{children:[(0,ue.jsx)(xC,{children:(0,ue.jsx)(B,{to:"/login",style:{textAlign:"left"},children:"Login"})}),(0,ue.jsx)(xC,{children:(0,ue.jsx)(B,{to:"/home",style:{float:"right"},children:"Home"})})]}),(0,ue.jsx)("br",{})]})]})]})})};var LN=function(){return(0,ue.jsx)(Fn,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",style:{textAlign:"center"},children:(0,ue.jsxs)(Bn,{fluid:!0,children:[(0,ue.jsxs)(Fn.Brand,{href:"#home",children:[(0,ue.jsx)("i",{class:"bi bi-mortarboard-fill"}),(0,ue.jsx)("span",{children:"   Career Path Map"})]}),(0,ue.jsx)(Fn.Toggle,{"aria-controls":"navbarScroll"}),(0,ue.jsxs)(Fn.Collapse,{id:"navbarScroll",children:[(0,ue.jsxs)(mr,{className:"justify-content-end",style:{width:"100%"},children:[(0,ue.jsx)(mr.Link,{href:"/",children:"Home"}),(0,ue.jsx)(mr.Link,{href:"/about",children:"About"}),(0,ue.jsxs)(mr.Link,{href:"/login",children:[(0,ue.jsx)("i",{class:"bi bi-box-arrow-right"}),"  Signin"]})]}),"\xa0"]})]})})},jN=["component"];function MN(e){var t=e.component,n=te(e,jN),r=QS().currentUser;return(0,ue.jsx)(x,Z(Z({},n),{},{element:r?(0,ue.jsx)(t,{}):(0,ue.jsx)(b,{to:"/login"})}))}function FN(){var e=(0,r.useRef)(),t=QS().resetPassword,n=K((0,r.useState)(""),2),i=n[0],a=n[1],o=K((0,r.useState)(""),2),s=o[0],u=o[1],c=K((0,r.useState)(!1),2),l=c[0],f=c[1];function h(){return(h=Q(J().mark((function n(r){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,u(""),a(""),f(!0),n.next=7,t(e.current.value);case 7:u("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a("Failed to reset password");case 13:f(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsxs)("div",{className:"auth-inner",children:[i&&(0,ue.jsx)(CN,{variant:"danger",children:i}),s&&(0,ue.jsx)(CN,{variant:"success",children:s}),(0,ue.jsx)(zC,{onSubmit:function(e){return h.apply(this,arguments)},children:(0,ue.jsxs)(Bn,{children:[(0,ue.jsx)("h1",{style:{color:"blue",textAlign:"center"},children:"Password Reset"}),(0,ue.jsxs)(zC.Group,{id:"email",className:"mb-3",children:[(0,ue.jsx)(zC.Label,{children:"Email"}),(0,ue.jsx)(zC.Control,{type:"email",ref:e,required:!0})]}),(0,ue.jsx)(GC,{disabled:l,className:"w-100",type:"submit",children:"Reset Password"}),(0,ue.jsx)("br",{}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(ON,{children:[(0,ue.jsx)(xC,{children:(0,ue.jsx)(B,{to:"/signup",style:{float:"left"},children:"Register"})}),(0,ue.jsx)(xC,{children:(0,ue.jsx)(B,{to:"/home",style:{float:"right"},children:"Home"})})]})]})}),(0,ue.jsx)("div",{className:"w-100 text-center mt-3",children:(0,ue.jsx)(B,{to:"/login",children:"Login"})})]})})}var UN=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,r.useRef)(),i=K((0,r.useState)([{stage:"",Q1:"",Q2:"",Q3:""}]),2),a=i[0],o=i[1],s=QS(),u=s.currentUser,c=s.updateUserDetails,l=function(e,t){var n=wt(a);n[e][t.target.name]=t.target.value,console.log(n),o(n)};function f(){return(f=Q(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(u.phoneNumber),console.log(a),n={email:u.email,phoneNumber:u.phoneNumber,name:u.name,formData:a},e.next=6,c(u.uid,n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,ue.jsxs)("div",{className:"auth-inner-form",children:[(0,ue.jsxs)("h1",{style:{textAlign:"center"},children:[" ",(0,ue.jsx)("span",{style:{color:"orange"},children:"Personal"})," ",(0,ue.jsx)("span",{style:{color:"blue"},children:"Info"})]}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(zC,{onSubmit:function(e){return f.apply(this,arguments)},children:[(0,ue.jsxs)(ON,{className:"mb-2",children:[(0,ue.jsx)(xC,{sm:12,md:6,children:(0,ue.jsxs)(zC.Group,{controlId:"validationCustom01",children:[(0,ue.jsx)(zC.Label,{children:"Name"}),(0,ue.jsx)(zC.Control,{required:!0,type:"text",placeholder:"Name",ref:e})]})}),(0,ue.jsx)(xC,{sm:12,md:6,children:(0,ue.jsxs)(zC.Group,{controlId:"validationCustom02",children:[(0,ue.jsx)(zC.Label,{children:"Phone number"}),(0,ue.jsx)(zC.Control,{required:!0,type:"number",placeholder:"phone number",ref:t})]})})]}),(0,ue.jsx)(ON,{className:"mb-1",children:(0,ue.jsxs)(zC.Group,{md:"12",controlId:"validationCustomUsername",children:[(0,ue.jsx)(zC.Label,{children:"Name of the current career/occupation you are holding"}),(0,ue.jsx)(zC.Control,{type:"text",placeholder:"occupation/career","aria-describedby":"inputGroupPrepend",required:!0,ref:n})]})}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(ON,{className:"md-2",children:[(0,ue.jsx)(zC.Group,{as:xC,xs:"6",md:"6",controlId:"validationCustom04",children:(0,ue.jsx)(zC.Label,{children:" Stages- "})}),(0,ue.jsx)(zC.Group,{as:xC,xs:"6",md:"6",controlId:"validationCustom04",children:(0,ue.jsx)(GC,{className:"button btn-dark",type:"button",style:{float:"right"},onClick:function(){o([].concat(wt(a),[{stage:"",Q1:"",Q2:"",Q3:""}]))},children:(0,ue.jsx)("span",{style:{color:"white"},children:"Add Stage"})})})]}),(0,ue.jsx)("br",{}),(0,ue.jsx)(ON,{className:"mb-1",children:(0,ue.jsx)(zC.Group,{as:xC,md:"12",controlId:"validationCustom03",children:(0,ue.jsx)(zC.Label,{children:"By observing the past since 1st class, please give the list of important stages you have crossed to reach the current career/occupation: "})})}),a.map((function(e,t){return(0,ue.jsxs)("div",{children:[(0,ue.jsxs)(ON,{className:"md-2",children:[(0,ue.jsx)(zC.Group,{as:xC,xs:"6",md:"6",controlId:"validationCustom04",children:(0,ue.jsxs)(zC.Label,{children:["Stage - ",t+1]})}),t?(0,ue.jsx)(zC.Group,{as:xC,xs:"6",md:"6",controlId:"validationCustom04",children:(0,ue.jsxs)(GC,{className:"btn btn-dark",type:"button",style:{float:"right"},onClick:function(){return function(e){var t=wt(a);t.splice(e,1),o(t)}(t)},children:[" ",(0,ue.jsx)("span",{style:{color:"white"},children:"Remove Stage"})," "]})}):null]}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(ON,{className:"mb-2",children:[(0,ue.jsxs)(zC.Group,{as:xC,md:"12",controlId:"validationCustom04",children:[(0,ue.jsx)(zC.Control,{type:"text",name:"stage",placeholder:"stage name",required:!0}),(0,ue.jsx)("br",{})]}),(0,ue.jsxs)(zC.Group,{as:xC,md:"12",controlId:"validationCustom04",children:[(0,ue.jsx)(zC.Label,{children:"At each stage, what are the skills you have acquired or interesting insights/experience you have obtained, which have helped to reach current career/occupation?"}),(0,ue.jsx)(zC.Control,{rows:3,as:"textarea",name:"Q1",value:e.Q1||"",onChange:function(e){return l(t,e)},required:!0}),(0,ue.jsx)("br",{})]}),(0,ue.jsxs)(zC.Group,{as:xC,md:"12",controlId:"validationCustom04",children:[(0,ue.jsx)(zC.Label,{children:"At each stage, what are the options you had to select the next stage and what was the motivation to select the stage you have opted?"}),(0,ue.jsx)(zC.Control,{rows:3,as:"textarea",name:"Q2",value:e.Q2||"",onChange:function(e){return l(t,e)},required:!0}),(0,ue.jsx)("br",{})]}),(0,ue.jsxs)(zC.Group,{as:xC,md:"12",controlId:"validationCustom04",children:[(0,ue.jsx)(zC.Label,{children:"At each stage, give the details of career/occupation related advice you have received in reaching the current career/occupation, which has benefited you in reaching the current career. "}),(0,ue.jsx)(zC.Control,{rows:3,as:"textarea",name:"Q3",value:e.Q3||"",onChange:function(e){return l(t,e)},required:!0}),(0,ue.jsx)("br",{})]})]})]})})),(0,ue.jsx)("div",{style:{textAlign:"center"},children:(0,ue.jsx)(GC,{className:"btn btn-success",type:"submit",style:{width:"50%"},children:"Submit"})})]})]})};var VN=function(){var e=QS().currentUser;return(0,ue.jsx)("div",{className:"App",children:(0,ue.jsxs)(_,{children:[(0,ue.jsx)(x,{exact:!0,path:"/",element:(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsx)("h1",{children:"hehe"})})}),(0,ue.jsx)(x,{exact:!0,path:"/passwordReset",element:(0,ue.jsxs)(ue.Fragment,{children:[e?(0,ue.jsx)(JS,{}):(0,ue.jsx)(LN,{}),(0,ue.jsx)(FN,{})]})}),(0,ue.jsx)(MN,{exact:!0,path:"/dash",component:wN}),(0,ue.jsx)(x,{exact:!0,path:"/login",element:(0,ue.jsx)(ue.Fragment,{children:e?(0,ue.jsx)(b,{to:"/dash"}):(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(LN,{}),(0,ue.jsx)(RN,{})]})})}),(0,ue.jsx)(x,{exact:!0,path:"/signup",element:(0,ue.jsx)(ue.Fragment,{children:e?(0,ue.jsx)(b,{to:"/dash"}):(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(LN,{}),(0,ue.jsx)(DN,{})]})})}),(0,ue.jsx)(x,{exact:!0,path:"/form",element:(0,ue.jsxs)(ue.Fragment,{children:[e?(0,ue.jsx)(JS,{}):(0,ue.jsx)(LN,{}),(0,ue.jsx)(UN,{})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.render((0,ue.jsx)(V,{children:(0,ue.jsx)(YS,{children:(0,ue.jsx)(VN,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}()}();
//# sourceMappingURL=main.05b16e2e.js.map